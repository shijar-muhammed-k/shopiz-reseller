"use strict";(self.webpackChunkshopizResellerPlatform=self.webpackChunkshopizResellerPlatform||[]).push([[179],{58:(ws,Xn,Ze)=>{Ze.d(Xn,{BH:()=>Rt,G6:()=>_a,L:()=>at,LL:()=>B,Pz:()=>wt,Sg:()=>Sr,UG:()=>jt,ZB:()=>Ce,ZR:()=>ue,aH:()=>Jt,b$:()=>Qt,eu:()=>V,hl:()=>F,jU:()=>te,m9:()=>Ts,ne:()=>Ci,pd:()=>Ro,r3:()=>$n,ru:()=>an,tV:()=>J,uI:()=>In,vZ:()=>Po,w1:()=>Ii,xO:()=>Mo,xb:()=>ui,z$:()=>xe,zd:()=>Is});const U=function(A){const D=[];let S=0;for(let Q=0;Q<A.length;Q++){let O=A.charCodeAt(Q);O<128?D[S++]=O:O<2048?(D[S++]=O>>6|192,D[S++]=63&O|128):55296==(64512&O)&&Q+1<A.length&&56320==(64512&A.charCodeAt(Q+1))?(O=65536+((1023&O)<<10)+(1023&A.charCodeAt(++Q)),D[S++]=O>>18|240,D[S++]=O>>12&63|128,D[S++]=O>>6&63|128,D[S++]=63&O|128):(D[S++]=O>>12|224,D[S++]=O>>6&63|128,D[S++]=63&O|128)}return D},on={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(A,D){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const S=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let O=0;O<A.length;O+=3){const $=A[O],Oe=O+1<A.length,At=Oe?A[O+1]:0,ze=O+2<A.length,xn=ze?A[O+2]:0;let gn=(15&At)<<2|xn>>6,Nt=63&xn;ze||(Nt=64,Oe||(gn=64)),Q.push(S[$>>2],S[(3&$)<<4|At>>4],S[gn],S[Nt])}return Q.join("")},encodeString(A,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(A):this.encodeByteArray(U(A),D)},decodeString(A,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(A):function(A){const D=[];let S=0,Q=0;for(;S<A.length;){const O=A[S++];if(O<128)D[Q++]=String.fromCharCode(O);else if(O>191&&O<224){const $=A[S++];D[Q++]=String.fromCharCode((31&O)<<6|63&$)}else if(O>239&&O<365){const ze=((7&O)<<18|(63&A[S++])<<12|(63&A[S++])<<6|63&A[S++])-65536;D[Q++]=String.fromCharCode(55296+(ze>>10)),D[Q++]=String.fromCharCode(56320+(1023&ze))}else{const $=A[S++],Oe=A[S++];D[Q++]=String.fromCharCode((15&O)<<12|(63&$)<<6|63&Oe)}}return D.join("")}(this.decodeStringToByteArray(A,D))},decodeStringToByteArray(A,D){this.init_();const S=D?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let O=0;O<A.length;){const $=S[A.charAt(O++)],At=O<A.length?S[A.charAt(O)]:0;++O;const xn=O<A.length?S[A.charAt(O)]:64;++O;const ye=O<A.length?S[A.charAt(O)]:64;if(++O,null==$||null==At||null==xn||null==ye)throw new pn;Q.push($<<2|At>>4),64!==xn&&(Q.push(At<<4&240|xn>>2),64!==ye&&Q.push(xn<<6&192|ye))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class pn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const at=function(A){return function(A){const D=U(A);return on.encodeByteArray(D,!0)}(A).replace(/\./g,"")},J=function(A){try{return on.decodeString(A,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function Ce(A,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===A&&(A={});break;case Array:A=[];break;default:return D}for(const S in D)!D.hasOwnProperty(S)||!it(S)||(A[S]=Ce(A[S],D[S]));return A}function it(A){return"__proto__"!==A}const Je=()=>{try{return function yt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const A=process.env.__FIREBASE_DEFAULTS__;return A?JSON.parse(A):void 0})()||(()=>{if(typeof document>"u")return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=A&&J(A[1]);return D&&JSON.parse(D)})()}catch(A){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`)}},Jt=()=>{var A;return null===(A=Je())||void 0===A?void 0:A.config},wt=A=>{var D;return null===(D=Je())||void 0===D?void 0:D[`_${A}`]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,S)=>{this.resolve=D,this.reject=S})}wrapCallback(D){return(S,Q)=>{S?this.reject(S):this.resolve(Q),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(S):D(S,Q))}}}function Sr(A,D){if(A.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=D||"demo-project",O=A.iat||0,$=A.sub||A.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:O,exp:O+3600,auth_time:O,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},A);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(Oe)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function In(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function jt(){var A;const D=null===(A=Je())||void 0===A?void 0:A.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function te(){return"object"==typeof self&&self.self===self}function an(){const A="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof A&&void 0!==A.id}function Qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ii(){const A=xe();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function _a(){return!jt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F(){try{return"object"==typeof indexedDB}catch{return!1}}function V(){return new Promise((A,D)=>{try{let S=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(Q);O.onsuccess=()=>{O.result.close(),S||self.indexedDB.deleteDatabase(Q),A(!0)},O.onupgradeneeded=()=>{S=!1},O.onerror=()=>{var $;D((null===($=O.error)||void 0===$?void 0:$.message)||"")}}catch(S){D(S)}})}class ue extends Error{constructor(D,S,Q){super(S),this.code=D,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,B.prototype.create)}}class B{constructor(D,S,Q){this.service=D,this.serviceName=S,this.errors=Q}create(D,...S){const Q=S[0]||{},O=`${this.service}/${D}`,$=this.errors[D],Oe=$?function se(A,D){return A.replace(lt,(S,Q)=>{const O=D[Q];return null!=O?String(O):`<${Q}?>`})}($,Q):"Error";return new ue(O,`${this.serviceName}: ${Oe} (${O}).`,Q)}}const lt=/\{\$([^}]+)}/g;function $n(A,D){return Object.prototype.hasOwnProperty.call(A,D)}function ui(A){for(const D in A)if(Object.prototype.hasOwnProperty.call(A,D))return!1;return!0}function Po(A,D){if(A===D)return!0;const S=Object.keys(A),Q=Object.keys(D);for(const O of S){if(!Q.includes(O))return!1;const $=A[O],Oe=D[O];if(bn($)&&bn(Oe)){if(!Po($,Oe))return!1}else if($!==Oe)return!1}for(const O of Q)if(!S.includes(O))return!1;return!0}function bn(A){return null!==A&&"object"==typeof A}function Mo(A){const D=[];for(const[S,Q]of Object.entries(A))Array.isArray(Q)?Q.forEach(O=>{D.push(encodeURIComponent(S)+"="+encodeURIComponent(O))}):D.push(encodeURIComponent(S)+"="+encodeURIComponent(Q));return D.length?"&"+D.join("&"):""}function Is(A){const D={};return A.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[O,$]=Q.split("=");D[decodeURIComponent(O)]=decodeURIComponent($)}}),D}function Ro(A){const D=A.indexOf("?");if(!D)return"";const S=A.indexOf("#",D);return A.substring(D,S>0?S:void 0)}function Ci(A,D){const S=new Ui(A,D);return S.subscribe.bind(S)}class Ui{constructor(D,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then(()=>{D(this)}).catch(Q=>{this.error(Q)})}next(D){this.forEachObserver(S=>{S.next(D)})}error(D){this.forEachObserver(S=>{S.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,S,Q){let O;if(void 0===D&&void 0===S&&void 0===Q)throw new Error("Missing Observer.");O=function bs(A,D){if("object"!=typeof A||null===A)return!1;for(const S of D)if(S in A&&"function"==typeof A[S])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:S,complete:Q},void 0===O.next&&(O.next=Ht),void 0===O.error&&(O.error=Ht),void 0===O.complete&&(O.complete=Ht);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),$}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,D)}sendOne(D,S){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{S(this.observers[D])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ht(){}function Ts(A){return A&&A._delegate?A._delegate:A}},641:(ws,Xn,Ze)=>{function I(n){return"function"==typeof n}function Ve(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const we=Ve(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function U(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class gt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(s){e=s instanceof we?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{er(s)}catch(o){e=e??[],o instanceof we?e=[...e,...o.errors]:e.push(o)}}if(e)throw new we(e)}}add(e){var t;if(e&&e!==this)if(this.closed)er(e);else{if(e instanceof gt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&U(t,e)}remove(e){const{_finalizers:t}=this;t&&U(t,e),e instanceof gt&&e._removeParent(this)}}gt.EMPTY=(()=>{const n=new gt;return n.closed=!0,n})();const on=gt.EMPTY;function pn(n){return n instanceof gt||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function er(n){I(n)?n():n.unsubscribe()}const at={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J={setTimeout(n,e,...t){const{delegate:r}=J;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=J;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ie(n){J.setTimeout(()=>{const{onUnhandledError:e}=at;if(!e)throw n;e(n)})}function Ce(){}const it=Et("C",void 0,void 0);function Et(n,e,t){return{kind:n,value:e,error:t}}let $e=null;function Je(n){if(at.useDeprecatedSynchronousErrorHandling){const e=!$e;if(e&&($e={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=$e;if($e=null,t)throw r}}else n()}class rr extends gt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pn(e)&&e.add(this)):this.destination=te}static create(e,t,r){return new Sr(e,t,r)}next(e){this.isStopped?jt(function tr(n){return Et("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?jt(function yt(n){return Et("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jt(it,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Jt=Function.prototype.bind;function wt(n,e){return Jt.call(n,e)}class Rt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xe(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xe(r)}else xe(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xe(t)}}}class Sr extends rr{constructor(e,t,r){let i;if(super(),I(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&at.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wt(e.next,s),error:e.error&&wt(e.error,s),complete:e.complete&&wt(e.complete,s)}):i=e}this.destination=new Rt(i)}}function xe(n){at.useDeprecatedSynchronousErrorHandling?function nr(n){at.useDeprecatedSynchronousErrorHandling&&$e&&($e.errorThrown=!0,$e.error=n)}(n):ie(n)}function jt(n,e){const{onStoppedNotification:t}=at;t&&J.setTimeout(()=>t(n,e))}const te={closed:!0,next:Ce,error:function In(n){throw n},complete:Ce},an="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qt(n){return n}function Ii(n){return 0===n.length?Qt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ut=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function F(n){return n&&n instanceof rr||function _a(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&pn(n)}(t)?t:new Sr(t,r,i);return Je(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=So(r))((i,s)=>{const o=new Sr({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[an](){return this}pipe(...t){return Ii(t)(this)}toPromise(t){return new(t=So(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function So(n){var e;return null!==(e=n??at.Promise)&&void 0!==e?e:Promise}const V=Ve(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new K(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new V}next(t){Je(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Je(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Je(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?on:(this.currentObservers=null,s.push(t),new gt(()=>{this.currentObservers=null,U(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ut;return t.source=this,t}}return n.create=(e,t)=>new K(e,t),n})();class K extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:on}}function ue(n){return I(n?.lift)}function B(n){return e=>{if(ue(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(n,e,t,r,i){return new lt(n,e,t,r,i)}class lt extends rr{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function be(n,e){return B((t,r)=>{let i=0;t.subscribe(se(r,s=>{r.next(n.call(e,s,i++))}))})}var Re=Ze(582);const Xe=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Xt(n){return I(n?.then)}function $t(n){return I(n[an])}function fr(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function jr(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $r=function $n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ui(n){return I(n?.[$r])}function ya(n){return(0,Re.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Re.qq)(t.read());if(i)return yield(0,Re.qq)(void 0);yield yield(0,Re.qq)(r)}}finally{t.releaseLock()}})}function Po(n){return I(n?.getReader)}function bn(n){if(n instanceof ut)return n;if(null!=n){if($t(n))return function Nu(n){return new ut(e=>{const t=n[an]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xe(n))return function Mo(n){return new ut(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Xt(n))return function Is(n){return new ut(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ie)})}(n);if(fr(n))return bi(n);if(ui(n))return function Ro(n){return new ut(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Po(n))return function Ci(n){return bi(ya(n))}(n)}throw jr(n)}function bi(n){return new ut(e=>{(function Ui(n,e){var t,r,i,s;return(0,Re.mG)(this,void 0,void 0,function*(){try{for(t=(0,Re.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function pr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ht(n,e,t=1/0){return I(e)?Ht((r,i)=>be((s,o)=>e(r,s,i,o))(bn(n(r,i))),t):("number"==typeof e&&(t=e),B((r,i)=>function bs(n,e,t,r,i,s,o,a){const u=[];let l=0,f=0,g=!1;const m=()=>{g&&!u.length&&!l&&e.complete()},y=b=>l<r?E(b):u.push(b),E=b=>{s&&e.next(b),l++;let C=!1;bn(t(b,f++)).subscribe(se(e,M=>{i?.(M),s?y(M):e.next(M)},()=>{C=!0},void 0,()=>{if(C)try{for(l--;u.length&&l<r;){const M=u.shift();o?pr(e,o,()=>E(M)):E(M)}m()}catch(M){e.error(M)}}))};return n.subscribe(se(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function ns(n=1/0){return Ht(Qt,n)}const Hn=new ut(n=>n.complete());function Hr(n){return n[n.length-1]}function zn(n){return I(Hr(n))?n.pop():void 0}function Cs(n){return function ku(n){return n&&I(n.schedule)}(Hr(n))?n.pop():void 0}function ci(n,e=0){return B((t,r)=>{t.subscribe(se(r,i=>pr(r,n,()=>r.next(i),e),()=>pr(r,n,()=>r.complete(),e),i=>pr(r,n,()=>r.error(i),e)))})}function Pr(n,e=0){return B((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ts(n,e){if(!n)throw new Error("Iterable cannot be null");return new ut(t=>{pr(t,e,()=>{const r=n[Symbol.asyncIterator]();pr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function S(n,e){return e?function D(n,e){if(null!=n){if($t(n))return function xo(n,e){return bn(n).pipe(Pr(e),ci(e))}(n,e);if(Xe(n))return function Ea(n,e){return new ut(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Xt(n))return function ll(n,e){return bn(n).pipe(Pr(e),ci(e))}(n,e);if(fr(n))return Ts(n,e);if(ui(n))return function wa(n,e){return new ut(t=>{let r;return pr(t,e,()=>{r=n[$r](),pr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(Po(n))return function A(n,e){return Ts(ya(n),e)}(n,e)}throw jr(n)}(n,e):bn(n)}function Q(...n){const e=Cs(n),t=function Fu(n,e){return"number"==typeof Hr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?bn(r[0]):ns(t)(S(r,e)):Hn}class O extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function $(...n){return S(n,Cs(n))}function Oe(n={}){const{connector:e=(()=>new j),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,f=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=u=void 0,f=g=!1},E=()=>{const b=o;y(),b?.unsubscribe()};return B((b,C)=>{l++,!g&&!f&&m();const M=u=u??e();C.add(()=>{l--,0===l&&!g&&!f&&(a=At(E,i))}),M.subscribe(C),!o&&l>0&&(o=new Sr({next:P=>M.next(P),error:P=>{g=!0,m(),a=At(y,t,P),M.error(P)},complete:()=>{f=!0,m(),a=At(y,r),M.complete()}}),bn(b).subscribe(o))})(s)}}function At(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Sr({next:()=>{r.unsubscribe(),n()}});return bn(e(...t)).subscribe(r)}function ze(n,e){return B((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(se(r,u=>{i?.unsubscribe();let l=0;const f=s++;bn(n(u,f)).subscribe(i=se(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function xn(n,e=Qt){return n=n??qn,B((t,r)=>{let i,s=!0;t.subscribe(se(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function qn(n,e){return n===e}function ye(n){for(let e in n)if(n[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function gn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Nt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ks(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Lu=ye({__forward_ref__:ye});function Tt(n){return n.__forward_ref__=Tt,n.toString=function(){return Nt(this())},n}function Fe(n){return Ds(n)?n():n}function Ds(n){return"function"==typeof n&&n.hasOwnProperty(Lu)&&n.__forward_ref__===Tt}function No(n){return n&&!!n.\u0275providers}const k="https://g.co/ng/security#xss";class w extends Error{constructor(e,t){super(function q(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Y(n){return"string"==typeof n?n:null==n?"":String(n)}function zt(n,e){throw new w(-201,!1)}function Ti(n,e){null==n&&function Ue(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ba(n){return Om(n,hl)||Om(n,Nm)}function Om(n,e){return n.hasOwnProperty(e)?n[e]:null}function Vu(n){return n&&(n.hasOwnProperty(fl)||n.hasOwnProperty(Ca))?n[fl]:null}const hl=ye({\u0275prov:ye}),fl=ye({\u0275inj:ye}),Nm=ye({ngInjectableDef:ye}),Ca=ye({ngInjectorDef:ye});var st=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(st||{});let Uu;function gr(n){const e=Uu;return Uu=n,e}function Fm(n,e,t){const r=ba(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&st.Optional?null:void 0!==e?e:void zt(Nt(n))}const qt=globalThis;class ae{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ko={},Uh="__NG_DI_FLAG__",Da="ngTempTokenPath",As=/\n/gm,$m="__source";let Mr;function rs(n){const e=Mr;return Mr=n,e}function wI(n,e=st.Default){if(void 0===Mr)throw new w(-203,!1);return null===Mr?Fm(n,void 0,e):Mr.get(n,e&st.Optional?null:void 0,e)}function G(n,e=st.Default){return(function km(){return Uu}()||wI)(Fe(n),e)}function fe(n,e=st.Default){return G(n,pl(e))}function pl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function jh(n){const e=[];for(let t=0;t<n.length;t++){const r=Fe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,s=st.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Lo(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function Fo(n,e){return n[Uh]=e,n.prototype[Uh]=e,n}function Lo(n){return n[Uh]}function li(n){return{toString:n}.toString()}var $h=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}($h||{}),zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(zr||{});const Gn={},ct=[],Ss=ye({\u0275cmp:ye}),gl=ye({\u0275dir:ye}),ml=ye({\u0275pipe:ye}),Hh=ye({\u0275mod:ye}),Ps=ye({\u0275fac:ye}),is=ye({__NG_ELEMENT_ID__:ye}),zm=ye({__NG_ENV_ID__:ye});function zu(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function _l(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];yl(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function zh(n){return 3===n||4===n||6===n}function yl(n){return 64===n.charCodeAt(0)}function mr(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||qh(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function qh(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const qm="ng-template";function Gh(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==zu(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function qu(n){return 4===n.type&&n.value!==qm}function Gm(n,e,t){return e===(4!==n.type||t?n.value:qm)}function Wm(n,e,t){let r=4;const i=n.attrs||[],s=function El(n){for(let e=0;e<n.length;e++)if(zh(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Gm(n,u,t)||""===u&&1===e.length){if(Bi(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!Gh(n.attrs,l,t)){if(Bi(r))return!1;o=!0}continue}const g=Wh(8&r?"class":u,i,qu(n),t);if(-1===g){if(Bi(r))return!1;o=!0;continue}if(""!==l){let m;m=g>s?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==zu(y,l,0)||2&r&&l!==m){if(Bi(r))return!1;o=!0}}}}else{if(!o&&!Bi(r)&&!Bi(u))return!1;if(o&&Bi(u))continue;o=!1,r=u|1&r}}return Bi(r)||o}function Bi(n){return 0==(1&n)}function Wh(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Zh(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function vl(n,e,t=!1){for(let r=0;r<e.length;r++)if(Wm(n,e[r],t))return!0;return!1}function Km(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function wl(n,e){return n?":not("+e.trim()+")":e}function Zm(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Bi(o)&&(e+=wl(s,i),i=""),r=o,s=s||!Bi(r);t++}return""!==i&&(e+=wl(s,i)),e}function Di(n){return li(()=>{const e=Cl(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===$h.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zr.Emulated,styles:n.styles||ct,_:null,schemas:n.schemas||null,tView:null,id:""};Jm(t);const r=n.dependencies;return t.directiveDefs=Aa(r,!1),t.pipeDefs=Aa(r,!0),t.id=function Jh(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Yh(n){return ot(n)||kn(n)}function Ym(n){return null!==n}function An(n){return li(()=>({type:n.type,bootstrap:n.bootstrap||ct,declarations:n.declarations||ct,imports:n.imports||ct,exports:n.exports||ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bl(n,e){if(null==n)return Gn;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Be(n){return li(()=>{const e=Cl(n);return Jm(e),e})}function _r(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ot(n){return n[Ss]||null}function kn(n){return n[gl]||null}function ir(n){return n[ml]||null}function Rr(n,e){const t=n[Hh]||null;if(!t&&!0===e)throw new Error(`Type ${Nt(n)} does not have '\u0275mod' property.`);return t}function Cl(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Gn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ct,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bl(n.inputs,e),outputs:bl(n.outputs)}}function Jm(n){n.features?.forEach(e=>e(n))}function Aa(n,e){if(!n)return null;const t=e?ir:Yh;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Ym)}const mn=0,me=1,We=2,Gt=3,ji=4,Vo=5,yr=6,Zs=7,Cn=8,Qs=9,Ys=10,qe=11,Gu=12,Tl=13,Sa=14,un=15,Wu=16,Js=17,ss=18,Uo=19,Xm=20,os=21,Rs=22,Bo=23,Ku=24,rt=25,Xh=1,ef=2,Ai=7,$i=9,sr=11;function qr(n){return Array.isArray(n)&&"object"==typeof n[Xh]}function Or(n){return Array.isArray(n)&&!0===n[Xh]}function tf(n){return 0!=(4&n.flags)}function Ma(n){return n.componentOffset>-1}function nf(n){return 1==(1&n.flags)}function as(n){return!!n.template}function Zu(n){return 0!=(512&n[We])}function jo(n,e){return n.hasOwnProperty(Ps)?n[Ps]:null}let Sn=null,sf=!1;function Fn(n){const e=Sn;return Sn=n,e}const n_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Oa(n){if(!Ju(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Pl(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function s_(n){n.dirty=!0,function i_(n){if(void 0===n.liveConsumerNode)return;const e=sf;sf=!0;try{for(const t of n.liveConsumerNode)t.dirty||s_(t)}finally{sf=e}}(n),n.consumerMarkedDirty?.(n)}function Qu(n){return n&&(n.nextProducerIndex=0),Fn(n)}function af(n,e){if(Fn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ju(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Yu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Pl(n){Os(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Oa(t),r!==t.version))return!0}return!1}function o_(n){if(Os(n),Ju(n))for(let e=0;e<n.producerNode.length;e++)Yu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Yu(n,e){if(function uf(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Os(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Yu(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Os(i),i.producerIndexOfThis[r]=e}}function Ju(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Os(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let l_=null;const p_=()=>{},xI=(()=>({...n_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:p_}))();class NI{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gr(){return m_}function m_(n){return n.type.prototype.ngOnChanges&&(n.setInput=__),kI}function kI(){const n=v_(this),e=n?.current;if(e){const t=n.previous;if(t===Gn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function __(n,e,t,r){const i=this.declaredInputs[t],s=v_(n)||function FI(n,e){return n[y_]=e}(n,{previous:Gn,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new NI(u&&u.currentValue,e,a===Gn),n[r]=e}Gr.ngInherit=!0;const y_="__ngSimpleChanges__";function v_(n){return n[y_]||null}const Si=function(n,e,t){};function Wt(n){for(;Array.isArray(n);)n=n[mn];return n}function $o(n,e){return Wt(e[n])}function vr(n,e){return Wt(e[n.index])}function Ol(n,e){return n.data[e]}function us(n,e){return n[e]}function Ln(n,e){const t=e[n];return qr(t)?t:t[mn]}function eo(n,e){return null==e?null:n[e]}function xl(n){n[Js]=0}function w_(n){1024&n[We]||(n[We]|=1024,b_(n,1))}function I_(n){1024&n[We]&&(n[We]&=-1025,b_(n,-1))}function b_(n,e){let t=n[Gt];if(null===t)return;t[Vo]+=e;let r=t;for(t=t[Gt];null!==t&&(1===e&&1===r[Vo]||-1===e&&0===r[Vo]);)t[Vo]+=e,r=t,t=t[Gt]}const Le={lFrame:Tf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function D_(){return Le.bindingsEnabled}function Na(){return null!==Le.skipHydrationRootTNode}function X(){return Le.lFrame.lView}function dt(){return Le.lFrame.tView}function Wn(n){return Le.lFrame.contextLView=n,n[Cn]}function Kn(n){return Le.lFrame.contextLView=null,n}function Vn(){let n=A_();for(;null!==n&&64===n.type;)n=n.parent;return n}function A_(){return Le.lFrame.currentTNode}function Pi(n,e){const t=Le.lFrame;t.currentTNode=n,t.isParent=e}function yf(){return Le.lFrame.isParent}function vf(){Le.lFrame.isParent=!1}function Zn(){const n=Le.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function to(){return Le.lFrame.bindingIndex++}function xs(n){const e=Le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function P_(n,e){const t=Le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fl(e)}function Fl(n){Le.lFrame.currentDirectiveIndex=n}function M_(){return Le.lFrame.currentQueryIndex}function bf(n){Le.lFrame.currentQueryIndex=n}function qI(n){const e=n[me];return 2===e.type?e.declTNode:1===e.type?n[yr]:null}function Ll(n,e,t){if(t&st.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&st.Host||(i=qI(s),null===i||(s=s[Sa],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Le.lFrame=R_();return r.currentTNode=e,r.lView=n,!0}function Cf(n){const e=R_(),t=n[me];Le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function R_(){const n=Le.lFrame,e=null===n?null:n.child;return null===e?Tf(n):e}function Tf(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function O_(){const n=Le.lFrame;return Le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const oc=O_;function Df(){const n=O_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xr(){return Le.lFrame.selectedIndex}function Ho(n){Le.lFrame.selectedIndex=n}function cn(){const n=Le.lFrame;return Ol(n.tView,n.selectedIndex)}let N_=!0;function Vl(){return N_}function no(n){N_=n}function Ul(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=f&&(n.destroyHooks??=[]).push(t,f)}}function Bl(n,e,t){F_(n,e,3,t)}function jl(n,e,t,r){(3&n[We])===t&&F_(n,e,t,r)}function Sf(n,e){let t=n[We];(3&t)===e&&(t&=8191,t+=1,n[We]=t)}function F_(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[Js]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[Js]+=65536),(a<s||-1==s)&&(Pf(n,t,e,u),n[Js]=(4294901760&n[Js])+u+2),u++}function $l(n,e){Si(4,n,e);const t=Fn(null);try{e.call(n)}finally{Fn(t),Si(5,n,e)}}function Pf(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[We]>>13<n[Js]>>16&&(3&n[We])===e&&(n[We]+=8192,$l(a,s)):$l(a,s)}const ka=-1;class zo{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Fa(n){return n!==ka}function La(n){return 32767&n}function ac(n,e){let t=function U_(n){return n>>16}(n),r=e;for(;t>0;)r=r[Sa],t--;return r}let Rf=!0;function Hl(n){const e=Rf;return Rf=n,e}const B_=255,Of=5;let tb=0;const Ns={};function cs(n,e){const t=j_(n,e);if(-1!==t)return t;const r=e[me];r.firstCreatePass&&(n.injectorIndex=e.length,xf(r.data,n),xf(e,null),xf(r.blueprint,null));const i=Va(n,e),s=n.injectorIndex;if(Fa(i)){const o=La(i),a=ac(i,e),u=a[me].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function xf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function j_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Va(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=K_(i),null===r)return ka;if(t++,i=i[Sa],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return ka}function Nf(n,e,t){!function nb(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(is)&&(r=t[is]),null==r&&(r=t[is]=tb++);const i=r&B_;e.data[n+(i>>Of)]|=1<<i}(n,e,t)}function $_(n,e,t){if(t&st.Optional||void 0!==n)return n;zt()}function H_(n,e,t,r){if(t&st.Optional&&void 0===r&&(r=null),!(t&(st.Self|st.Host))){const i=n[Qs],s=gr(void 0);try{return i?i.get(e,r,t&st.Optional):Fm(e,r,t&st.Optional)}finally{gr(s)}}return $_(r,0,t)}function zl(n,e,t,r=st.Default,i){if(null!==n){if(2048&e[We]&&!(r&st.Self)){const o=function Ff(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[We]&&!(512&o[We]);){const a=z_(s,o,t,r|st.Self,Ns);if(a!==Ns)return a;let u=s.parent;if(!u){const l=o[Xm];if(l){const f=l.get(t,Ns,r);if(f!==Ns)return f}u=K_(o),o=o[Sa]}s=u}return i}(n,e,t,r,Ns);if(o!==Ns)return o}const s=z_(n,e,t,r,Ns);if(s!==Ns)return s}return H_(e,t,r,i)}function z_(n,e,t,r,i){const s=function ib(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(is)?n[is]:void 0;return"number"==typeof e?e>=0?e&B_:sb:e}(t);if("function"==typeof s){if(!Ll(e,n,r))return r&st.Host?$_(i,0,r):H_(e,t,r,i);try{let o;if(o=s(r),null!=o||r&st.Optional)return o;zt()}finally{oc()}}else if("number"==typeof s){let o=null,a=j_(n,e),u=ka,l=r&st.Host?e[un][yr]:null;for((-1===a||r&st.SkipSelf)&&(u=-1===a?Va(n,e):e[a+8],u!==ka&&G_(r,!1)?(o=e[me],a=La(u),e=ac(u,e)):a=-1);-1!==a;){const f=e[me];if(q_(s,a,f.data)){const g=rb(a,e,t,o,r,l);if(g!==Ns)return g}u=e[a+8],u!==ka&&G_(r,e[me].data[a+8]===l)&&q_(s,a,e)?(o=f,a=La(u),e=ac(u,e)):a=-1}}return i}function rb(n,e,t,r,i,s){const o=e[me],a=o.data[n+8],f=Ua(a,o,t,null==r?Ma(a)&&Rf:r!=o&&0!=(3&a.type),i&st.Host&&s===a);return null!==f?qo(e,o,f,a):Ns}function Ua(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,f=s>>20,m=i?a+f:n.directiveEnd;for(let y=r?a:a+f;y<m;y++){const E=o[y];if(y<u&&t===E||y>=u&&E.type===t)return y}if(i){const y=o[u];if(y&&as(y)&&y.type===t)return u}return null}function qo(n,e,t,r){let i=n[t];const s=e.data;if(function YI(n){return n instanceof zo}(i)){const o=i;o.resolving&&function Ge(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new w(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Y(n)}(s[t]));const a=Hl(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?gr(o.injectImpl):null;Ll(n,r,st.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function k_(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=m_(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&gr(l),Hl(a),o.resolving=!1,oc()}}return i}function q_(n,e,t){return!!(t[e+(n>>Of)]&1<<n)}function G_(n,e){return!(n&st.Self||n&st.Host&&e)}class or{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return zl(this._tNode,this._lView,e,pl(r),t)}}function sb(){return new or(Vn(),X())}function ar(n){return li(()=>{const e=n.prototype.constructor,t=e[Ps]||cc(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ps]||cc(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function cc(n){return Ds(n)?()=>{const e=cc(Fe(n));return e&&e()}:jo(n)}function K_(n){const e=n[me],t=e.type;return 2===t?e.declTNode:1===t?n[yr]:null}const Ba="__parameters__";function $a(n,e,t){return li(()=>{const r=function Gl(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,f){const g=u.hasOwnProperty(Ba)?u[Ba]:Object.defineProperty(u,Ba,{value:[]})[Ba];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function qa(n,e){n.forEach(t=>Array.isArray(t)?qa(t,e):e(t))}function Kr(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ro(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ga(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Zr(n,e,t){let r=di(n,e);return r>=0?n[1|r]=t:(r=~r,function Vf(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Uf(n,e){const t=di(n,e);if(t>=0)return n[1|t]}function di(n,e){return function J_(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Wa=Fo($a("Optional"),8),Kl=Fo($a("SkipSelf"),4);function cy(n){return 128==(128&n.flags)}var Ka=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ka||{});const l3=/^>|^->|<!--|-->|--!>|<!-$/g,d3=/(<|>)/g,h3="\u200b$1\u200b";const mb=new Map;let f3=0;const yb="__ngContext__";function Yr(n,e){qr(e)?(n[yb]=e[Uo],function g3(n){mb.set(n[Uo],n)}(e)):n[yb]=e}let vb;function Eb(n,e){return vb(n,e)}function Qf(n){const e=n[Gt];return Or(e)?e[Gt]:e}function LM(n){return UM(n[Gu])}function VM(n){return UM(n[ji])}function UM(n){for(;null!==n&&!Or(n);)n=n[ji];return n}function Xl(n,e,t,r,i){if(null!=r){let s,o=!1;Or(r)?s=r:qr(r)&&(o=!0,r=r[mn]);const a=Wt(r);0===n&&null!==t?null==i?HM(e,t,a):dc(e,t,a,i||null,!0):1===n&&null!==t?dc(e,t,a,i||null,!0):2===n?function my(n,e,t){const r=py(n,e);r&&function N3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function L3(n,e,t,r,i){const s=t[Ai];s!==Wt(t)&&Xl(e,n,r,s,i);for(let a=sr;a<t.length;a++){const u=t[a];Jf(u[me],u,n,e,r,s)}}(e,n,s,t,i)}}function wb(n,e){return n.createComment(function PM(n){return n.replace(l3,e=>e.replace(d3,h3))}(e))}function hy(n,e,t){return n.createElement(e,t)}function jM(n,e){const t=n[$i],r=t.indexOf(e);I_(e),t.splice(r,1)}function fy(n,e){if(n.length<=sr)return;const t=sr+e,r=n[t];if(r){const i=r[Wu];null!==i&&i!==n&&jM(i,r),e>0&&(n[t-1][ji]=r[ji]);const s=ro(n,sr+e);!function D3(n,e){Jf(n,e,e[qe],2,null,null),e[mn]=null,e[yr]=null}(r[me],r);const o=s[ss];null!==o&&o.detachView(s[me]),r[Gt]=null,r[ji]=null,r[We]&=-129}return r}function Ib(n,e){if(!(256&e[We])){const t=e[qe];e[Bo]&&o_(e[Bo]),e[Ku]&&o_(e[Ku]),t.destroyNode&&Jf(n,e,t,3,null,null),function P3(n){let e=n[Gu];if(!e)return bb(n[me],n);for(;e;){let t=null;if(qr(e))t=e[Gu];else{const r=e[sr];r&&(t=r)}if(!t){for(;e&&!e[ji]&&e!==n;)qr(e)&&bb(e[me],e),e=e[Gt];null===e&&(e=n),qr(e)&&bb(e[me],e),t=e&&e[ji]}e=t}}(e)}}function bb(n,e){if(!(256&e[We])){e[We]&=-129,e[We]|=256,function x3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof zo)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Si(4,a,u);try{u.call(a)}finally{Si(5,a,u)}}else{Si(4,i,s);try{s.call(i)}finally{Si(5,i,s)}}}}}(n,e),function O3(n,e){const t=n.cleanup,r=e[Zs];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Zs]=null);const i=e[os];if(null!==i){e[os]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[me].type&&e[qe].destroy();const t=e[Wu];if(null!==t&&Or(e[Gt])){t!==e[Gt]&&jM(t,e);const r=e[ss];null!==r&&r.detachView(n)}!function m3(n){mb.delete(n[Uo])}(e)}}function Cb(n,e,t){return function $M(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[mn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===zr.None||s===zr.Emulated)return null}return vr(r,t)}}(n,e.parent,t)}function dc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function HM(n,e,t){n.appendChild(e,t)}function zM(n,e,t,r,i){null!==r?dc(n,e,t,r,i):HM(n,e,t)}function py(n,e){return n.parentNode(e)}function qM(n,e,t){return WM(n,e,t)}let Tb,_y,Pb,yy,WM=function GM(n,e,t){return 40&n.type?vr(n,t):null};function gy(n,e,t,r){const i=Cb(n,r,e),s=e[qe],a=qM(r.parent||e[yr],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)zM(s,i,t[u],a,!1);else zM(s,i,t,a,!1);void 0!==Tb&&Tb(s,r,e,t,i)}function Yf(n,e){if(null!==e){const t=e.type;if(3&t)return vr(e,n);if(4&t)return Db(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Yf(n,r);{const i=n[e.index];return Or(i)?Db(-1,i):Wt(i)}}if(32&t)return Eb(e,n)()||Wt(n[e.index]);{const r=ZM(n,e);return null!==r?Array.isArray(r)?r[0]:Yf(Qf(n[un]),r):Yf(n,e.next)}}return null}function ZM(n,e){return null!==e?n[un][yr].projection[e.projection]:null}function Db(n,e){const t=sr+n+1;if(t<e.length){const r=e[t],i=r[me].firstChild;if(null!==i)return Yf(r,i)}return e[Ai]}function Ab(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Yr(Wt(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Ab(n,e,t.child,r,i,s,!1),Xl(e,n,i,a,s);else if(32&u){const l=Eb(t,r);let f;for(;f=l();)Xl(e,n,i,f,s);Xl(e,n,i,a,s)}else 16&u?YM(n,e,r,t,i,s):Xl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Jf(n,e,t,r,i,s){Ab(t,r,n.firstChild,e,i,s,!1)}function YM(n,e,t,r,i,s){const o=t[un],u=o[yr].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Xl(e,n,i,u[l],s);else{let l=u;const f=o[Gt];cy(r)&&(l.flags|=128),Ab(n,e,l,f,i,s,!0)}}function JM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function XM(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&_l(n,e,r),null!==i&&JM(n,e,i),null!==s&&function U3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function ed(n){return function Sb(){if(void 0===_y&&(_y=null,qt.trustedTypes))try{_y=qt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _y}()?.createHTML(n)||n}function nR(n){return function Mb(){if(void 0===yy&&(yy=null,qt.trustedTypes))try{yy=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yy}()?.createScriptURL(n)||n}class hc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${k})`}}class z3 extends hc{getTypeName(){return"HTML"}}class q3 extends hc{getTypeName(){return"Style"}}class G3 extends hc{getTypeName(){return"Script"}}class W3 extends hc{getTypeName(){return"URL"}}class K3 extends hc{getTypeName(){return"ResourceURL"}}function zi(n){return n instanceof hc?n.changingThisBreaksApplicationSecurity:n}function io(n,e){const t=function Z3(n){return n instanceof hc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${k})`)}return t===e}class t4{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ed(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class n4{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=ed(e),t}}const i4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vy(n){return(n=String(n)).match(i4)?n:"unsafe:"+n}function Go(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Xf(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const iR=Go("area,br,col,hr,img,wbr"),sR=Go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oR=Go("rp,rt"),Rb=Xf(iR,Xf(sR,Go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xf(oR,Go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xf(oR,sR)),Ob=Go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),aR=Xf(Ob,Go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),s4=Go("script,style,template");class o4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Rb.hasOwnProperty(t))return this.sanitizedSomething=!0,!s4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!aR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Ob[a]&&(u=vy(u)),this.buf.push(" ",o,'="',uR(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Rb.hasOwnProperty(t)&&!iR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(uR(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const a4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u4=/([^\#-~ |!])/g;function uR(n){return n.replace(/&/g,"&amp;").replace(a4,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(u4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ey;function cR(n,e){let t=null;try{Ey=Ey||function rR(n){const e=new n4(n);return function r4(){try{return!!(new window.DOMParser).parseFromString(ed(""),"text/html")}catch{return!1}}()?new t4(e):e}(n);let r=e?String(e):"";t=Ey.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Ey.getInertBodyElement(r)}while(r!==s);return ed((new o4).sanitizeChildren(xb(t)||t))}finally{if(t){const r=xb(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function xb(n){return"content"in n&&function c4(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ls=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ls||{});function Nb(n){const e=ep();return e?e.sanitize(ls.URL,n)||"":io(n,"URL")?zi(n):vy(Y(n))}function lR(n){const e=ep();if(e)return nR(e.sanitize(ls.RESOURCE_URL,n)||"");if(io(n,"ResourceURL"))return nR(zi(n));throw new w(904,!1)}function ep(){const n=X();return n&&n[Ys].sanitizer}const tp=new ae("ENVIRONMENT_INITIALIZER"),hR=new ae("INJECTOR",-1),fR=new ae("INJECTOR_DEF_TYPES");class kb{get(e,t=ko){if(t===ko){const r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return t}}function m4(...n){return{\u0275providers:pR(0,n),\u0275fromNgModule:!0}}function pR(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return qa(e,o=>{const a=o;wy(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&gR(i,s),t}function gR(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Lb(i,s=>{e(s,r)})}}function wy(n,e,t,r){if(!(n=Fe(n)))return!1;let i=null,s=Vu(n);const o=!s&&ot(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=Vu(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)wy(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{qa(s.imports,f=>{wy(f,e,t,r)&&(l||=[],l.push(f))})}finally{}void 0!==l&&gR(l,e)}if(!a){const l=jo(i)||(()=>new i);e({provide:i,useFactory:l,deps:ct},i),e({provide:fR,useValue:i,multi:!0},i),e({provide:tp,useValue:()=>G(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const l=n;Lb(u,f=>{e(f,l)})}}}return i!==n&&void 0!==n.providers}function Lb(n,e){for(let t of n)No(t)&&(t=t.\u0275providers),Array.isArray(t)?Lb(t,e):e(t)}const _4=ye({provide:String,useValue:ye});function Vb(n){return null!==n&&"object"==typeof n&&_4 in n}function fc(n){return"function"==typeof n}const Ub=new ae("Set Injector scope."),Iy={},v4={};let Bb;function by(){return void 0===Bb&&(Bb=new kb),Bb}class qi{}class nd extends qi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$b(e,o=>this.processProvider(o)),this.records.set(hR,rd(void 0,this)),i.has("environment")&&this.records.set(qi,rd(void 0,this));const s=this.records.get(Ub);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(fR.multi,ct,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=rs(this),r=gr(void 0);try{return e()}finally{rs(t),gr(r)}}get(e,t=ko,r=st.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(zm))return e[zm](this);r=pl(r);const s=rs(this),o=gr(void 0);try{if(!(r&st.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function C4(n){return"function"==typeof n||"object"==typeof n&&n instanceof ae}(e)&&ba(e);u=l&&this.injectableDefInScope(l)?rd(jb(e),Iy):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&st.Self?by():this.parent).get(e,t=r&st.Optional&&t===ko?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Da]=a[Da]||[]).unshift(Nt(e)),s)throw a;return function II(n,e,t,r){const i=n[Da];throw e[$m]&&i.unshift(e[$m]),n.message=function bI(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Nt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(As,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Da]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{gr(o),rs(s)}}resolveInjectorInitializers(){const e=rs(this),t=gr(void 0);try{const i=this.get(tp.multi,ct,st.Self);for(const s of i)s()}finally{rs(e),gr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(e){let t=fc(e=Fe(e))?e:Fe(e&&e.provide);const r=function w4(n){return Vb(n)?rd(void 0,n.useValue):rd(yR(n),Iy)}(e);if(fc(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=rd(void 0,Iy,!0),i.factory=()=>jh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Iy&&(t.value=v4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function b4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Fe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function jb(n){const e=ba(n),t=null!==e?e.factory:jo(n);if(null!==t)return t;if(n instanceof ae)throw new w(204,!1);if(n instanceof Function)return function E4(n){const e=n.length;if(e>0)throw Ga(e,"?"),new w(204,!1);const t=function xm(n){return n&&(n[hl]||n[Nm])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new w(204,!1)}function yR(n,e,t){let r;if(fc(n)){const i=Fe(n);return jo(i)||jb(i)}if(Vb(n))r=()=>Fe(n.useValue);else if(function _R(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...jh(n.deps||[]));else if(function mR(n){return!(!n||!n.useExisting)}(n))r=()=>G(Fe(n.useExisting));else{const i=Fe(n&&(n.useClass||n.provide));if(!function I4(n){return!!n.deps}(n))return jo(i)||jb(i);r=()=>new i(...jh(n.deps))}return r}function rd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $b(n,e){for(const t of n)Array.isArray(t)?$b(t,e):t&&No(t)?$b(t.\u0275providers,e):e(t)}const Cy=new ae("AppId",{providedIn:"root",factory:()=>T4}),T4="ng",vR=new ae("Platform Initializer"),ds=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ER=new ae("AnimationModuleType"),wR=new ae("CSP nonce",{providedIn:"root",factory:()=>function td(){if(void 0!==Pb)return Pb;if(typeof document<"u")return document;throw new w(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let IR=(n,e,t)=>null;function Qb(n,e,t=!1){return IR(n,e,t)}class k4{}class TR{}class L4{resolveComponentFactory(e){throw function F4(n){const e=Error(`No component factory found for ${Nt(n)}.`);return e.ngComponent=n,e}(e)}}let ip=(()=>{class n{static#e=this.NULL=new L4}return n})();function V4(){return od(Vn(),X())}function od(n,e){return new Er(vr(n,e))}let Er=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=V4}return n})();function U4(n){return n instanceof Er?n.nativeElement:n}class pc{}let Fs=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function B4(){const n=X(),t=Ln(Vn().index,n);return(qr(t)?t:n)[qe]}()}return n})(),j4=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>null})}return n})();class ad{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AR=new ad("16.2.12"),Xb={};function RR(n,e=null,t=null,r){const i=OR(n,e,t,r);return i.resolveInjectorInitializers(),i}function OR(n,e=null,t=null,r,i=new Set){const s=[t||ct,m4(n)];return r=r||("object"==typeof n?void 0:Nt(n)),new nd(s,e||by(),r||null,i)}let Nr=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=ko;static#t=this.NULL=new kb;static create(t,r){if(Array.isArray(t))return RR({name:""},r,t,"");{const i=t.name??"";return RR({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=le({token:n,providedIn:"any",factory:()=>G(hR)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function tC(n){return n.ngOriginalError}class Wo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&tC(e);for(;t&&tC(t);)t=tC(t);return t||null}}function rC(n){return e=>{setTimeout(n,void 0,e)}}const Dt=class K4 extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=rC(s),i&&(i=rC(i)),o&&(o=rC(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof gt&&e.add(a),a}};function NR(...n){}class mt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dt(!1),this.onMicrotaskEmpty=new Dt(!1),this.onStable=new Dt(!1),this.onError=new Dt(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Z4(){const n="function"==typeof qt.requestAnimationFrame;let e=qt[n?"requestAnimationFrame":"setTimeout"],t=qt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function J4(n){const e=()=>{!function Y4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,sC(n),n.isCheckStableRunning=!0,iC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),sC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function ez(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return kR(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),FR(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return kR(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),FR(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,sC(n),iC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mt.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(mt.isInAngularZone())throw new w(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Q4,NR,NR);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Q4={};function iC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FR(n){n._nesting--,iC(n)}class X4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dt,this.onMicrotaskEmpty=new Dt,this.onStable=new Dt,this.onError=new Dt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const LR=new ae("",{providedIn:"root",factory:VR});function VR(){const n=fe(mt);let e=!0;return Q(new ut(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ut(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{mt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Oe()))}function oC(n){return n.ownerDocument.defaultView}function Ko(n){return n instanceof Function?n():n}let aC=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function sp(n){for(;n;){n[We]|=64;const e=Qf(n);if(Zu(n)&&!e)return n;n=e}return null}const HR=new ae("",{providedIn:"root",factory:()=>!1});let Ry=null;function WR(n,e){return n[e]??QR()}function KR(n,e){const t=QR();t.producerNode?.length&&(n[e]=Ry,t.lView=n,Ry=ZR())}const cz={...n_,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{sp(n.lView)},lView:null};function ZR(){return Object.create(cz)}function QR(){return Ry??=ZR(),Ry}const Ye={};function Me(n){YR(dt(),X(),xr()+n,!1)}function YR(n,e,t,r){if(!r)if(3==(3&e[We])){const s=n.preOrderCheckHooks;null!==s&&Bl(e,s,t)}else{const s=n.preOrderHooks;null!==s&&jl(e,s,0,t)}Ho(t)}function W(n,e=st.Default){const t=X();return null===t?G(n,e):zl(Vn(),t,Fe(n),e)}function Oy(n,e,t,r,i,s,o,a,u,l,f){const g=e.blueprint.slice();return g[mn]=i,g[We]=140|r,(null!==l||n&&2048&n[We])&&(g[We]|=2048),xl(g),g[Gt]=g[Sa]=n,g[Cn]=t,g[Ys]=o||n&&n[Ys],g[qe]=a||n&&n[qe],g[Qs]=u||n&&n[Qs]||null,g[yr]=s,g[Uo]=function p3(){return f3++}(),g[Rs]=f,g[Xm]=l,g[un]=2==e.type?n[un]:g,g}function ld(n,e,t,r,i){let s=n.data[e];if(null===s)s=function uC(n,e,t,r,i){const s=A_(),o=yf(),u=n.data[e]=function _z(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Na()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function S_(){return Le.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ic(){const n=Le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Pi(s,!0),s}function op(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function XR(n,e,t,r,i){const s=WR(e,Bo),o=xr(),a=2&r;try{Ho(-1),a&&e.length>rt&&YR(n,e,rt,!1),Si(a?2:0,i);const l=a?s:null,f=Qu(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{af(l,f)}}finally{a&&null===e[Bo]&&KR(e,Bo),Ho(o),Si(a?3:1,i)}}function cC(n,e,t){if(tf(e)){const r=Fn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Fn(r)}}}function lC(n,e,t){D_()&&(function Cz(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Ma(t)&&function Rz(n,e,t){const r=vr(e,n),i=eO(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=xy(n,Oy(n,i,null,o,r,e,null,n[Ys].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||cs(t,e),Yr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=qo(e,n,a,t);Yr(l,e),null!==o&&Oz(0,a-i,l,u,0,o),as(u)&&(Ln(t.index,e)[Cn]=qo(e,n,a,t))}}(n,e,t,vr(t,e)),64==(64&t.flags)&&sO(n,e,t))}function dC(n,e,t=vr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function eO(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=hC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function hC(n,e,t,r,i,s,o,a,u,l,f){const g=rt+r,m=g+i,y=function dz(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ye);return t}(g,m),E="function"==typeof l?l():l;return y[me]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:E,incompleteFirstPass:!1,ssrId:f}}let tO=n=>null;function nO(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?rO(t,e,i,s):r.hasOwnProperty(i)&&rO(t,e,r[i],s)}return t}function rO(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function fC(n,e,t,r){if(D_()){const i=null===r?null:{"":-1},s=function Dz(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(vl(e,o.selectors,!1))if(r||(r=[]),as(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),pC(n,e,a.length)}else r.unshift(o),pC(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&iO(n,e,t,o,i,a),i&&function Az(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new w(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=mr(t.mergedAttrs,t.attrs)}function iO(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Nf(cs(t,e),n,r[l].type);!function Pz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=op(n,e,r.length,null);for(let l=0;l<r.length;l++){const f=r[l];t.mergedAttrs=mr(t.mergedAttrs,f.hostAttrs),Mz(n,t,e,u,f),Sz(u,f,i),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function yz(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,l=null;for(let f=e.directiveStart;f<i;f++){const g=s[f],m=t?t.get(g):null,E=m?m.outputs:null;u=nO(g.inputs,f,u,m?m.inputs:null),l=nO(g.outputs,f,l,E);const b=null===u||null===o||qu(e)?null:xz(u,f,o);a.push(b)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(n,t,s)}function sO(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function zI(){return Le.lFrame.currentDirectiveIndex}();try{Ho(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];Fl(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Tz(u,l)}}finally{Ho(-1),Fl(o)}}function Tz(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function pC(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Sz(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;as(e)&&(t[""]=n)}}function Mz(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=jo(i.type)),o=new zo(s,as(i),W);n.blueprint[r]=o,t[r]=o,function Iz(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function bz(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,op(n,t,i.hostVars,Ye),i)}function so(n,e,t,r,i,s){const o=vr(n,e);!function gC(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Y(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[qe],o,s,n.value,t,r,i)}function Oz(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)oO(r,t,o[a++],o[a++],o[a++])}function oO(n,e,t,r,i){const s=Fn(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Fn(s)}}function xz(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function aO(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function uO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];bf(t[r]),o.contentQueries(2,e[s],s)}}}function xy(n,e){return n[Gu]?n[Tl][ji]=e:n[Gu]=e,n[Tl]=e,e}function mC(n,e,t){bf(0);const r=Fn(null);try{e(n,t)}finally{Fn(r)}}function cO(n){return n[Zs]||(n[Zs]=[])}function lO(n){return n.cleanup||(n.cleanup=[])}function hO(n,e){const t=n[Qs],r=t?t.get(Wo,null):null;r&&r.handleError(e)}function _C(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];oO(n.data[o],e[o],r,a,i)}}function Nz(n,e){const t=Ln(e,n),r=t[me];!function kz(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[mn];null!==i&&null===t[Rs]&&(t[Rs]=Qb(i,t[Qs])),yC(r,t,t[Cn])}function yC(n,e,t){Cf(e);try{const r=n.viewQuery;null!==r&&mC(1,r,t);const i=n.template;null!==i&&XR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&uO(n,e),n.staticViewQueries&&mC(2,n.viewQuery,t);const s=n.components;null!==s&&function Fz(n,e){for(let t=0;t<e.length;t++)Nz(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[We]&=-5,Df()}}let fO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function OI(n,e,t){const r=Object.create(xI);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>s_(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Pl(r))return;r.hasRun=!0;const o=Qu(r);try{r.cleanupFn(),r.cleanupFn=p_,r.fn(i)}finally{af(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ny(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ks(i,a):2==s&&(r=Ks(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ap(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Wt(s)),Or(s)&&pO(s,r);const o=t.type;if(8&o)ap(n,e,t.child,r);else if(32&o){const a=Eb(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=ZM(e,t);if(Array.isArray(a))r.push(...a);else{const u=Qf(e[un]);ap(u[me],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function pO(n,e){for(let t=sr;t<n.length;t++){const r=n[t],i=r[me].firstChild;null!==i&&ap(r[me],r,i,e)}n[Ai]!==n[mn]&&e.push(n[Ai])}function ky(n,e,t,r=!0){const i=e[Ys],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{gO(n,e,n.template,t)}catch(u){throw r&&hO(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function gO(n,e,t,r){const i=e[We];if(256!=(256&i)){e[Ys].effectManager?.flush(),Cf(e);try{xl(e),function wf(n){return Le.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&XR(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&Bl(e,l,null)}else{const l=n.preOrderHooks;null!==l&&jl(e,l,0,null),Sf(e,0)}if(function Uz(n){for(let e=LM(n);null!==e;e=VM(e)){if(!e[ef])continue;const t=e[$i];for(let r=0;r<t.length;r++){w_(t[r])}}}(e),mO(e,2),null!==n.contentQueries&&uO(n,e),o){const l=n.contentCheckHooks;null!==l&&Bl(e,l)}else{const l=n.contentHooks;null!==l&&jl(e,l,1),Sf(e,1)}!function lz(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=WR(e,Ku);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Ho(~s);else{const o=s,a=t[++i],u=t[++i];P_(a,o),r.dirty=!1;const l=Qu(r);try{u(2,e[o])}finally{af(r,l)}}}}finally{null===e[Ku]&&KR(e,Ku),Ho(-1)}}(n,e);const a=n.components;null!==a&&yO(e,a,0);const u=n.viewQuery;if(null!==u&&mC(2,u,r),o){const l=n.viewCheckHooks;null!==l&&Bl(e,l)}else{const l=n.viewHooks;null!==l&&jl(e,l,2),Sf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[We]&=-73,I_(e)}finally{Df()}}}function mO(n,e){for(let t=LM(n);null!==t;t=VM(t))for(let r=sr;r<t.length;r++)_O(t[r],e)}function Bz(n,e,t){_O(Ln(e,n),t)}function _O(n,e){if(!function UI(n){return 128==(128&n[We])}(n))return;const t=n[me],r=n[We];if(80&r&&0===e||1024&r||2===e)gO(t,n,t.template,n[Cn]);else if(n[Vo]>0){mO(n,1);const i=t.components;null!==i&&yO(n,i,1)}}function yO(n,e,t){for(let r=0;r<e.length;r++)Bz(n,e[r],t)}class up{get rootNodes(){const e=this._lView,t=e[me];return ap(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cn]}set context(e){this._lView[Cn]=e}get destroyed(){return 256==(256&this._lView[We])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Gt];if(Or(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(fy(e,r),ro(t,r))}this._attachedToViewContainer=!1}Ib(this._lView[me],this._lView)}onDestroy(e){!function Nl(n,e){if(256==(256&n[We]))throw new w(911,!1);null===n[os]&&(n[os]=[]),n[os].push(e)}(this._lView,e)}markForCheck(){sp(this._cdRefInjectingView||this._lView)}detach(){this._lView[We]&=-129}reattach(){this._lView[We]|=128}detectChanges(){ky(this._lView[me],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function S3(n,e){Jf(n,e,e[qe],2,null,null)}(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=e}}class jz extends up{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ky(e[me],e,e[Cn],!1)}checkNoChanges(){}get context(){return null}}class vO extends ip{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ot(e);return new cp(t,this.ngModule)}}function EO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Hz{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=pl(r);const i=this.injector.get(e,Xb,r);return i!==Xb||t===Xb?i:this.parentInjector.get(e,t,r)}}class cp extends TR{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=EO(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return EO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Qh(n){return n.map(Zm).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof qi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Hz(e,s):e,a=o.get(pc,null);if(null===a)throw new w(407,!1);const g={rendererFactory:a,sanitizer:o.get(j4,null),effectManager:o.get(fO,null),afterRenderEventManager:o.get(aC,null)},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",E=r?function hz(n,e,t,r){const s=r.get(HR,!1)||t===zr.ShadowDom,o=n.selectRootElement(e,s);return function fz(n){tO(n)}(o),o}(m,r,this.componentDef.encapsulation,o):hy(m,y,function $z(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let P=null;null!==E&&(P=Qb(E,o,!0));const x=hC(0,null,null,1,0,null,null,null,null,null,null),z=Oy(null,x,null,M,null,null,g,m,o,null,P);let ce,Ae;Cf(z);try{const He=this.componentDef;let xt,wi=null;He.findHostDirectiveDefs?(xt=[],wi=new Map,He.findHostDirectiveDefs(He,xt,wi),xt.push(He)):xt=[He];const Vi=function qz(n,e){const t=n[me],r=rt;return n[r]=e,ld(t,r,2,"#host",null)}(z,E),lI=function Gz(n,e,t,r,i,s,o){const a=i[me];!function Wz(n,e,t,r){for(const i of n)e.mergedAttrs=mr(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ny(e,e.mergedAttrs,!0),null!==t&&XM(r,t,e))}(r,n,e,o);let u=null;null!==e&&(u=Qb(e,i[Qs]));const l=s.rendererFactory.createRenderer(e,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const g=Oy(i,eO(t),null,f,i[n.index],n,s,l,null,null,u);return a.firstCreatePass&&pC(a,n,r.length-1),xy(i,g),i[n.index]=g}(Vi,E,He,xt,z,g,m);Ae=Ol(x,rt),E&&function Zz(n,e,t,r){if(r)_l(n,t,["ng-version",AR.full]);else{const{attrs:i,classes:s}=function Il(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Bi(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&_l(n,t,i),s&&s.length>0&&JM(n,t,s.join(" "))}}(m,He,E,r),void 0!==t&&function Qz(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(Ae,this.ngContentSelectors,t),ce=function Kz(n,e,t,r,i,s){const o=Vn(),a=i[me],u=vr(o,i);iO(a,i,o,t,null,r);for(let f=0;f<t.length;f++)Yr(qo(i,a,o.directiveStart+f,o),i);sO(a,i,o),u&&Yr(u,i);const l=qo(i,a,o.directiveStart+o.componentOffset,o);if(n[Cn]=i[Cn]=l,null!==s)for(const f of s)f(l,e);return cC(a,o,n),l}(lI,He,xt,wi,z,[Yz]),yC(x,z,null)}finally{Df()}return new zz(this.componentType,ce,od(Ae,z),z,Ae)}}class zz extends k4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new jz(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;_C(s[me],s,i,e,t),this.previousInputValues.set(e,t),sp(Ln(this._tNode.index,s))}}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Yz(){const n=Vn();Ul(X()[me],n)}function Ft(n){let e=function wO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(as(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new w(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Fy(n.inputs),o.inputTransforms=Fy(n.inputTransforms),o.declaredInputs=Fy(n.declaredInputs),o.outputs=Fy(n.outputs);const a=i.hostBindings;a&&t5(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&Xz(n,u),l&&e5(n,l),gn(n.inputs,i.inputs),gn(n.declaredInputs,i.declaredInputs),gn(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),gn(o.inputTransforms,i.inputTransforms)),as(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ft&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Jz(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mr(i.hostAttrs,t=mr(t,i.hostAttrs))}}(r)}function Fy(n){return n===Gn?{}:n===ct?[]:n}function Xz(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function e5(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function t5(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function TO(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Ly(n){return!!vC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function vC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function oo(n,e,t){return n[e]=t}function Jr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ls(n,e,t,r){const i=X();return Jr(i,to(),e)&&(dt(),so(cn(),i,n,e,t,r)),Ls}function _t(n,e,t,r,i,s,o,a){const u=X(),l=dt(),f=n+rt,g=l.firstCreatePass?function D5(n,e,t,r,i,s,o,a,u){const l=e.consts,f=ld(e,n,4,o||null,eo(l,a));fC(e,t,f,eo(l,u)),Ul(e,f);const g=f.tView=hC(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}(f,l,u,e,t,r,i,s,o):l.data[f];Pi(g,!1);const m=VO(l,u,g,n);Vl()&&gy(l,u,m,g),Yr(m,u),xy(u,u[f]=aO(m,u,m,g)),nf(g)&&lC(l,u,g),null!=o&&dC(u,g,a)}let VO=function UO(n,e,t,r){return no(!0),e[qe].createComment("")};function $y(n){return us(function Ef(){return Le.lFrame.contextLView}(),rt+n)}function Ne(n,e,t){const r=X();return Jr(r,to(),e)&&function Gi(n,e,t,r,i,s,o,a){const u=vr(e,t);let f,l=e.inputs;!a&&null!=l&&(f=l[r])?(_C(n,t,f,r,i),Ma(e)&&function Ez(n,e){const t=Ln(e,n);16&t[We]||(t[We]|=64)}(t,e.index)):3&e.type&&(r=function vz(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(dt(),cn(),r,n,e,r[qe],t,!1),Ne}function TC(n,e,t,r,i){const o=i?"class":"style";_C(n,t,e.inputs[o],o,r)}function re(n,e,t,r){const i=X(),s=dt(),o=rt+n,a=i[qe],u=s.firstCreatePass?function M5(n,e,t,r,i,s){const o=e.consts,u=ld(e,n,2,r,eo(o,i));return fC(e,t,u,eo(o,s)),null!==u.attrs&&Ny(u,u.attrs,!1),null!==u.mergedAttrs&&Ny(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],l=BO(s,i,u,a,e,n);i[o]=l;const f=nf(u);return Pi(u,!0),XM(a,l,u),32!=(32&u.flags)&&Vl()&&gy(s,i,l,u),0===function ff(){return Le.lFrame.elementDepthCount}()&&Yr(l,i),function $I(){Le.lFrame.elementDepthCount++}(),f&&(lC(s,i,u),cC(s,u,i)),null!==r&&dC(i,u),re}function oe(){let n=Vn();yf()?vf():(n=n.parent,Pi(n,!1));const e=n;(function pf(n){return Le.skipHydrationRootTNode===n})(e)&&function _f(){Le.skipHydrationRootTNode=null}(),function rc(){Le.lFrame.elementDepthCount--}();const t=dt();return t.firstCreatePass&&(Ul(t,n),tf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function XI(n){return 0!=(8&n.flags)}(e)&&TC(t,e,X(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function gM(n){return 0!=(16&n.flags)}(e)&&TC(t,e,X(),e.stylesWithoutHost,!1),oe}function Ot(n,e,t,r){return re(n,e,t,r),oe(),Ot}let BO=(n,e,t,r,i,s)=>(no(!0),hy(r,i,function x_(){return Le.lFrame.currentNamespace}()));function Hy(n,e,t){const r=X(),i=dt(),s=n+rt,o=i.firstCreatePass?function x5(n,e,t,r,i){const s=e.consts,o=eo(s,r),a=ld(e,n,8,"ng-container",o);return null!==o&&Ny(a,o,!0),fC(e,t,a,eo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Pi(o,!0);const a=jO(i,r,o,n);return r[s]=a,Vl()&&gy(i,r,a,o),Yr(a,r),nf(o)&&(lC(i,r,o),cC(i,o,r)),null!=t&&dC(r,o),Hy}function zy(){let n=Vn();const e=dt();return yf()?vf():(n=n.parent,Pi(n,!1)),e.firstCreatePass&&(Ul(e,n),tf(n)&&e.queries.elementEnd(n)),zy}function qy(n,e,t){return Hy(n,e,t),zy(),qy}let jO=(n,e,t,r)=>(no(!0),wb(e[qe],""));function hi(){return X()}function pp(n){return!!n&&"function"==typeof n.then}function $O(n){return!!n&&"function"==typeof n.subscribe}function bt(n,e,t,r){const i=X(),s=dt(),o=Vn();return function zO(n,e,t,r,i,s,o){const a=nf(r),l=n.firstCreatePass&&lO(n),f=e[Cn],g=cO(e);let m=!0;if(3&r.type||o){const b=vr(r,e),C=o?o(b):b,M=g.length,P=o?z=>o(Wt(z[r.index])):r.index;let x=null;if(!o&&a&&(x=function F5(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Zs],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,m=!1;else{s=GO(r,e,f,s,!1);const z=t.listen(C,i,s);g.push(s,z),l&&l.push(i,P,M,M+1)}}else s=GO(r,e,f,s,!1);const y=r.outputs;let E;if(m&&null!==y&&(E=y[i])){const b=E.length;if(b)for(let C=0;C<b;C+=2){const ce=e[E[C]][E[C+1]].subscribe(s),Ae=g.length;g.push(s,ce),l&&l.push(i,r.index,Ae,-(Ae+1))}}}(s,i,i[qe],o,n,e,r),bt}function qO(n,e,t,r){try{return Si(6,e,t),!1!==t(r)}catch(i){return hO(n,i),!1}finally{Si(7,e,t)}}function GO(n,e,t,r,i){return function s(o){if(o===Function)return r;sp(n.componentOffset>-1?Ln(n.index,e):e);let u=qO(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)u=qO(e,t,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Lt(n=1){return function GI(n){return(Le.lFrame.contextLView=function WI(n,e){for(;n>0;)e=e[Sa],n--;return e}(n,Le.lFrame.contextLView))[Cn]}(n)}function L5(n,e){let t=null;const r=function Kh(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?vl(n,s,!0):Km(r,s))return i}else t=i}return t}function Gy(n,e){return n<<17|e<<2}function Za(n){return n>>17&32767}function AC(n){return 2|n}function mc(n){return(131068&n)>>2}function SC(n,e){return-131069&n|e<<2}function PC(n){return 1|n}function ix(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Za(s):mc(s),u=!1;for(;0!==a&&(!1===u||o);){const f=n[a+1];H5(n[a],e)&&(u=!0,n[a+1]=r?PC(f):AC(f)),a=r?Za(f):mc(f)}u&&(n[t+1]=r?AC(s):PC(s))}function H5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&di(n,e)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sx(n){return n.substring(ur.key,ur.keyEnd)}function ox(n,e){const t=ur.textEnd;return t===e?-1:(e=ur.keyEnd=function W5(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ur.key=e,t),Ed(n,e,t))}function Ed(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Qo(n,e,t){return Vs(n,e,t,!1),Qo}function _c(n,e){return Vs(n,e,null,!0),_c}function Wy(n){!function Us(n,e,t,r){const i=dt(),s=xs(2);i.firstUpdatePass&&hx(i,null,s,r);const o=X();if(t!==Ye&&Jr(o,s,t)){const a=i.data[xr()];if(mx(a,r)&&!dx(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=Ks(u,t||"")),TC(i,a,o,t,r)}else!function rq(n,e,t,r,i,s,o,a){i===Ye&&(i=ct);let u=0,l=0,f=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==f||null!==g;){const m=u<i.length?i[u+1]:void 0,y=l<s.length?s[l+1]:void 0;let b,E=null;f===g?(u+=2,l+=2,m!==y&&(E=g,b=y)):null===g||null!==f&&f<g?(u+=2,E=f):(l+=2,E=g,b=y),null!==E&&px(n,e,t,r,E,b,o,a),f=u<i.length?i[u]:null,g=l<s.length?s[l]:null}}(i,a,o,o[qe],o[s+1],o[s+1]=function tq(n,e,t){if(null==t||""===t)return ct;const r=[],i=zi(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(nq,uo,n,!0)}function uo(n,e){for(let t=function q5(n){return function ux(n){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=n.length}(n),ox(n,Ed(n,0,ur.textEnd))}(e);t>=0;t=ox(e,t))Zr(n,sx(e),!0)}function Vs(n,e,t,r){const i=X(),s=dt(),o=xs(2);s.firstUpdatePass&&hx(s,n,o,r),e!==Ye&&Jr(i,o,e)&&px(s,s.data[xr()],i,i[qe],n,i[o+1]=function iq(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Nt(zi(n)))),n}(e,t),r,o)}function dx(n,e){return e>=n.expandoStartIndex}function hx(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[xr()],o=dx(n,t);mx(s,r)&&null===e&&!o&&(e=!1),e=function Y5(n,e,t,r){const i=function sc(n){const e=Le.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=gp(t=MC(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=MC(i,n,e,t,r),null===s){let u=function J5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==mc(r))return n[Za(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=MC(null,n,e,u[1],r),u=gp(u,e.attrs,r),function X5(n,e,t,r){n[Za(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function eq(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=gp(r,n[s].hostAttrs,t);return gp(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function j5(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Za(o),u=mc(o);n[r]=t;let f,l=!1;if(Array.isArray(t)?(f=t[1],(null===f||di(t,f)>0)&&(l=!0)):f=t,i)if(0!==u){const m=Za(n[a+1]);n[r+1]=Gy(m,a),0!==m&&(n[m+1]=SC(n[m+1],r)),n[a+1]=function U5(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Gy(a,0),0!==a&&(n[a+1]=SC(n[a+1],r)),a=r;else n[r+1]=Gy(u,0),0===a?a=r:n[u+1]=SC(n[u+1],r),u=r;l&&(n[r+1]=AC(n[r+1])),ix(n,f,r,!0),ix(n,f,r,!1),function $5(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&di(s,e)>=0&&(t[r+1]=PC(t[r+1]))}(e,f,n,r,s),o=Gy(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function MC(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=gp(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function gp(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zr(n,o,!!t||e[++s]))}return void 0===n?null:n}function nq(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Zr(n,r,t)}function px(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1],f=function B5(n){return 1==(1&n)}(l)?gx(u,e,t,i,mc(l),o):void 0;Ky(f)||(Ky(s)||function V5(n){return 2==(2&n)}(l)&&(s=gx(u,null,t,i,a,o)),function V3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Ka.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ka.Important),n.setStyle(t,r,i,s))}}(r,o,$o(xr(),t),i,s))}function gx(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),f=l?u[1]:u,g=null===f;let m=t[i+1];m===Ye&&(m=g?ct:void 0);let y=g?Uf(m,r):f===r?m:void 0;if(l&&!Ky(y)&&(y=Uf(u,r)),Ky(y)&&(a=y,o))return a;const E=n[i+1];i=o?Za(E):mc(E)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Uf(u,r))}return a}function Ky(n){return void 0!==n}function mx(n,e){return 0!=(n.flags&(e?8:16))}function Se(n,e=""){const t=X(),r=dt(),i=n+rt,s=r.firstCreatePass?ld(r,i,1,e,null):r.data[i],o=_x(r,t,s,e,n);t[i]=o,Vl()&&gy(r,t,o,s),Pi(s,!1)}let _x=(n,e,t,r,i)=>(no(!0),function dy(n,e){return n.createText(e)}(e[qe],r));function fs(n){return mp("",n,""),fs}function mp(n,e,t){const r=X(),i=function hd(n,e,t,r){return Jr(n,to(),t)?e+Y(t)+r:Ye}(r,n,e,t);return i!==Ye&&function Zo(n,e,t){const r=$o(e,n);!function BM(n,e,t){n.setValue(e,t)}(n[qe],r,t)}(r,xr(),i),mp}const Id="en-US";let Ux=Id;function xC(n,e,t,r,i){if(n=Fe(n),Array.isArray(n))for(let s=0;s<n.length;s++)xC(n[s],e,t,r,i);else{const s=dt(),o=X(),a=Vn();let u=fc(n)?n:Fe(n.provide);const l=yR(n),f=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(fc(n)||!n.multi){const y=new zo(l,i,W),E=kC(u,e,i?f:f+m,g);-1===E?(Nf(cs(a,o),s,u),NC(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[E]=y,o[E]=y)}else{const y=kC(u,e,f+m,g),E=kC(u,e,f,f+m),C=E>=0&&t[E];if(i&&!C||!i&&!(y>=0&&t[y])){Nf(cs(a,o),s,u);const M=function T9(n,e,t,r,i){const s=new zo(n,t,W);return s.multi=[],s.index=e,s.componentProviders=0,lN(s,i,r&&!t),s}(i?C9:b9,t.length,i,r,l);!i&&C&&(t[E].providerFactory=M),NC(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),o.push(M)}else NC(s,n,y>-1?y:E,lN(t[i?E:y],l,!i&&r));!i&&r&&C&&t[E].componentProviders++}}}function NC(n,e,t,r){const i=fc(e),s=function y4(n){return!!n.useClass}(e);if(i||s){const u=(s?Fe(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=l.indexOf(t);-1===f?l.push(t,[r,u]):l[f+1].push(r,u)}else l.push(t,u)}}}function lN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function kC(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function b9(n,e,t,r){return FC(this.multi,[])}function C9(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=qo(t,t[me],this.providerFactory.index,r);s=a.slice(0,o),FC(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],FC(i,s);return s}function FC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function yn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function I9(n,e,t){const r=dt();if(r.firstCreatePass){const i=as(n);xC(t,r.data,r.blueprint,i,!0),xC(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class vc{}class dN{}class LC extends vc{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vO(this);const i=Rr(e);this._bootstrapComponents=Ko(i.bootstrap),this._r3Injector=OR(e,t,[{provide:vc,useValue:this},{provide:ip,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class VC extends dN{constructor(e){super(),this.moduleType=e}create(e){return new LC(this.moduleType,e,[])}}class hN extends vc{constructor(e){super(),this.componentFactoryResolver=new vO(this),this.instance=null;const t=new nd([...e.providers,{provide:vc,useValue:this},{provide:ip,useValue:this.componentFactoryResolver}],e.parent||by(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function UC(n,e,t=null){return new hN({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let S9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=pR(0,t.type),i=r.length>0?UC([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=le({token:n,providedIn:"environment",factory:()=>new n(G(qi))})}return n})();function fN(n){n.getStandaloneInjector=e=>e.get(S9).getOrCreateStandaloneInjector(n)}function Wi(n,e,t){const r=Zn()+n,i=X();return i[r]===Ye?oo(i,r,t?e.call(t):e()):function lp(n,e){return n[e]}(i,r)}function jC(n,e,t,r){return EN(X(),Zn(),n,e,t,r)}function EN(n,e,t,r,i,s){const o=e+t;return Jr(n,o,i)?oo(n,o+1,s?r.call(s,i):r(i)):function Ip(n,e){const t=n[e];return t===Ye?void 0:t}(n,o+1)}function DN(n,e,t){const r=n+rt,i=X(),s=us(i,r);return function bp(n,e){return n[me].data[e].pure}(i,r)?EN(i,Zn(),e,s.transform,t,s):s.transform(t)}function Q9(){return this._results[Symbol.iterator]()}class $C{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Dt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=$C.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Q9)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Wr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function cb(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function J9(n,e,t,r=!0){const i=e[me];if(function M3(n,e,t,r){const i=sr+r,s=t.length;r>0&&(t[i-1][ji]=e),r<s-sr?(e[ji]=t[i],Kr(t,sr+r,e)):(t.push(e),e[ji]=null),e[Gt]=t;const o=e[Wu];null!==o&&t!==o&&function R3(n,e){const t=n[$i];e[un]!==e[Gt][Gt][un]&&(n[ef]=!0),null===t?n[$i]=[e]:t.push(e)}(o,e);const a=e[ss];null!==a&&a.insertView(n),e[We]|=128}(i,e,n,t),r){const s=Db(t,n),o=e[qe],a=py(o,n[Ai]);null!==a&&function A3(n,e,t,r,i,s){r[mn]=i,r[yr]=e,Jf(n,r,t,1,i,s)}(i,n[yr],o,e,a,s)}}let co=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=tG}return n})();const X9=co,eG=class extends X9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function Y9(n,e,t,r){const i=e.tView,a=Oy(n,i,t,4096&n[We]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Wu]=n[e.index];const l=n[ss];return null!==l&&(a[ss]=l.createEmbeddedView(i)),yC(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new up(i)}};function tG(){return Xy(Vn(),X())}function Xy(n,e){return 4&n.type?new eG(e,n,od(n,e)):null}let Bs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=aG}return n})();function aG(){return xN(Vn(),X())}const uG=Bs,RN=class extends uG{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){const e=Va(this._hostTNode,this._hostLView);if(Fa(e)){const t=ac(e,this._hostLView),r=La(e);return new or(t[me].data[r+8],t)}return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ON(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-sr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function za(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const b=t||{};a=b.index,r=b.injector,i=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}const u=o?e:new cp(ot(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const C=(o?l:this.parentInjector).get(qi,null);C&&(s=C)}ot(u.componentType??{});const y=u.create(l,i,null,s);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function BI(n){return Or(n[Gt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const l=i[Gt],f=new RN(l,l[yr],l[Gt]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return J9(a,i,o,!r),e.attachToViewContainerRef(),Kr(HC(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ON(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=fy(this._lContainer,t);r&&(ro(HC(this._lContainer),t),Ib(r[me],r))}detach(e){const t=this._adjustIndex(e,-1),r=fy(this._lContainer,t);return r&&null!=ro(HC(this._lContainer),t)?new up(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ON(n){return n[8]}function HC(n){return n[8]||(n[8]=[])}function xN(n,e){let t;const r=e[n.index];return Or(r)?t=r:(t=aO(r,e,null,n),e[n.index]=t,xy(e,t)),NN(t,e,n,r),new RN(t,n,e)}let NN=function kN(n,e,t,r){if(n[Ai])return;let i;i=8&t.type?Wt(r):function cG(n,e){const t=n[qe],r=t.createComment(""),i=vr(e,n);return dc(t,py(t,i),r,function k3(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Ai]=i};class zC{constructor(e){this.queryList=e,this.matches=null}clone(){return new zC(this.queryList)}setDirty(){this.queryList.setDirty()}}class qC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new qC(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==$N(e,t).matches&&this.queries[t].setDirty()}}class FN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class GC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new GC(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class WC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new WC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,hG(t,s)),this.matchTNodeWithReadOption(e,t,Ua(t,e,s,!1,!1))}else r===co?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ua(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Er||i===Bs||i===co&&4&t.type)this.addMatch(t.index,-2);else{const s=Ua(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function hG(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function pG(n,e,t,r){return-1===t?function fG(n,e){return 11&n.type?od(n,e):4&n.type?Xy(n,e):null}(e,n):-2===t?function gG(n,e,t){return t===Er?od(e,n):t===co?Xy(e,n):t===Bs?xN(e,n):void 0}(n,e,r):qo(n,n[me],t,e)}function LN(n,e,t,r){const i=e[ss].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:pG(e,s[l],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function KC(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=LN(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],f=e[-u];for(let g=sr;g<f.length;g++){const m=f[g];m[Wu]===m[Gt]&&KC(m[me],m,l,r)}if(null!==f[$i]){const g=f[$i];for(let m=0;m<g.length;m++){const y=g[m];KC(y[me],y,l,r)}}}}}return r}function ZC(n){const e=X(),t=dt(),r=M_();bf(r+1);const i=$N(t,r);if(n.dirty&&function hf(n){return 4==(4&n[We])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?KC(t,e,r,[]):LN(t,e,i,r);n.reset(s,U4),n.notifyOnChanges()}return!0}return!1}function VN(n,e,t){const r=dt();r.firstCreatePass&&(function jN(n,e,t){null===n.queries&&(n.queries=new GC),n.queries.track(new WC(e,t))}(r,new FN(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function BN(n,e,t){const r=new $C(4==(4&t));(function mz(n,e,t,r){const i=cO(e);i.push(t),n.firstCreatePass&&lO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[ss]&&(e[ss]=new qC),e[ss].queries.push(new zC(r))}(r,X(),e)}function $N(n,e){return n.queries.getByIndex(e)}function tv(n,e){return Xy(n,e)}const n0=new ae("Application Initializer");let r0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=fe(n0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(pp(s))t.push(s);else if($O(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o1=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Yo=new ae("LocaleId",{providedIn:"root",factory:()=>fe(Yo,st.Optional|st.SkipSelf)||function VG(){return typeof $localize<"u"&&$localize.locale||Id}()});let rv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class jG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let a1=(()=>{class n{compileModuleSync(t){return new VC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ko(Rr(t).declarations).reduce((o,a)=>{const u=ot(a);return u&&o.push(new cp(u)),o},[]);return new jG(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const d1=new ae(""),sv=new ae("");let c0,a0=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,c0||(function c6(n){c0=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(G(mt),G(u0),G(sv))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),u0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return c0?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Qa=null;const h1=new ae("AllowMultipleToken"),l0=new ae("PlatformDestroyListeners"),d0=new ae("appBootstrapListener");class p1{constructor(e,t){this.name=e,this.token=t}}function m1(n,e,t=[]){const r=`Platform: ${e}`,i=new ae(r);return(s=[])=>{let o=h0();if(!o||o.injector.get(h1,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function h6(n){if(Qa&&!Qa.get(h1,!1))throw new w(400,!1);(function f1(){!function d_(n){l_=n}(()=>{throw new w(600,!1)})})(),Qa=n;const e=n.get(y1);(function g1(n){n.get(vR,null)?.forEach(t=>t())})(n)}(function _1(n=[],e){return Nr.create({name:e,providers:[{provide:Ub,useValue:"platform"},{provide:l0,useValue:new Set([()=>Qa=null])},...n]})}(a,r))}return function p6(n){const e=h0();if(!e)throw new w(401,!1);return e}()}}function h0(){return Qa?.get(y1)??null}let y1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function g6(n="zone.js",e){return"noop"===n?new X4:"zone.js"===n?new mt(e):n}(r?.ngZone,function v1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function A9(n,e,t){return new LC(n,e,t)}(t.moduleType,this.injector,function C1(n){return[{provide:mt,useFactory:n},{provide:tp,multi:!0,useFactory:()=>{const e=fe(_6,{optional:!0});return()=>e.initialize()}},{provide:b1,useFactory:m6},{provide:LR,useFactory:VR}]}(()=>i)),o=s.injector.get(Wo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{ov(this._modules,s),a.unsubscribe()})}),function E1(n,e,t){try{const r=t();return pp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(r0);return a.runInitializers(),a.donePromise.then(()=>(function Bx(n){Ti(n,"Expected localeId to be defined"),"string"==typeof n&&(Ux=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Yo,Id)||Id),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=w1({},r);return function l6(n,e,t){const r=new VC(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ya);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new w(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(l0,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(G(Nr))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function w1(n,e){return Array.isArray(e)?e.reduce(w1,n):{...n,...e}}let Ya=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(b1),this.zoneIsStable=fe(LR),this.componentTypes=[],this.components=[],this.isStable=fe(rv).hasPendingTasks.pipe(ze(t=>t?$(!1):this.zoneIsStable),xn(),Oe()),this._injector=fe(qi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof TR;if(!this._injector.get(r0).done)throw!i&&function Ms(n){const e=ot(n)||kn(n)||ir(n);return null!==e&&e.standalone}(t),new w(405,!1);let o;o=i?t:this._injector.get(ip).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function d6(n){return n.isBoundToModule}(o)?void 0:this._injector.get(vc),l=o.create(Nr.NULL,[],r||o.selector,a),f=l.location.nativeElement,g=l.injector.get(d1,null);return g?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),ov(this.components,l),g?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;ov(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(d0,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ov(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new w(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ov(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const b1=new ae("",{providedIn:"root",factory:()=>fe(Wo).handleError.bind(void 0)});function m6(){const n=fe(mt),e=fe(Wo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let _6=(()=>{class n{constructor(){this.zone=fe(mt),this.applicationRef=fe(Ya)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Dp=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=v6}return n})();function v6(n){return function E6(n,e,t){if(Ma(n)&&!t){const r=Ln(n.index,e);return new up(r,r)}return 47&n.type?new up(e[un],e):null}(Vn(),X(),16==(16&n))}class P1{constructor(){}supports(e){return Ly(e)}create(e){return new D6(e)}}const T6=(n,e)=>e;class D6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||T6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<R1(r,i,s)?t:r,a=R1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){const y=m<s.length?s[m]:s[m]=0,E=y+m;f<=E&&E<l&&(s[m]=y+1)}s[o.previousIndex]=f-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ly(e))throw new w(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function u5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new A6(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new M1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new M1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class A6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class S6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class M1{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new S6,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function R1(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class O1{constructor(){}supports(e){return e instanceof Map||vC(e)}create(){return new P6}}class P6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||vC(e)))throw new w(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new M6(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class M6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function x1(){return new cv([new P1])}let cv=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:x1});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||x1()),deps:[[n,new Kl,new Wa]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new w(901,!1)}}return n})();function N1(){return new Ap([new O1])}let Ap=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:N1});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||N1()),deps:[[n,new Kl,new Wa]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new w(901,!1)}}return n})();const x6=m1(null,"core",[]);let N6=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(G(Ya))};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({})}return n})();function Td(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let y0=null;function Ja(){return y0}class K6{}const Qn=new ae("DocumentToken");let v0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(Q6)},providedIn:"platform"})}return n})();const Z6=new ae("Location Initialized");let Q6=(()=>{class n extends v0{constructor(){super(),this._doc=fe(Qn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ja().getBaseHref(this._doc)}onPopState(t){const r=Ja().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ja().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function E0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function H1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Jo(n){return n&&"?"!==n[0]?"?"+n:n}let wc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(q1)},providedIn:"root"})}return n})();const z1=new ae("appBaseHref");let q1=(()=>{class n extends wc{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??fe(Qn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return E0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Jo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Jo(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Jo(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(G(v0),G(z1,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y6=(()=>{class n extends wc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=E0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Jo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Jo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(G(v0),G(z1,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),w0=(()=>{class n{constructor(t){this._subject=new Dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function e8(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(H1(G1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Jo(r))}normalize(t){return n.stripTrailingSlash(function X6(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,G1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Jo;static#t=this.joinWithSlash=E0;static#n=this.stripTrailingSlash=H1;static#r=this.\u0275fac=function(r){return new(r||n)(G(wc))};static#i=this.\u0275prov=le({token:n,factory:function(){return function J6(){return new w0(G(wc))}()},providedIn:"root"})}return n})();function G1(n){return n.replace(/\/index.html$/,"")}function tk(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const R0=/\s+/,nk=[];let rk=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=nk,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(R0):nk}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(R0):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(R0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(W(cv),W(Ap),W(Er),W(Fs))};static#t=this.\u0275dir=Be({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class U8{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mp=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new U8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),sk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{sk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(W(Bs),W(co),W(cv))};static#t=this.\u0275dir=Be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function sk(n,e){n.context.$implicit=e.item}let Ic=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new B8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ok("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ok("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(W(Bs),W(co))};static#t=this.\u0275dir=Be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class B8{constructor(){this.$implicit=null,this.ngIf=null}}function ok(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Nt(e)}'.`)}let uk=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Bs))};static#t=this.\u0275dir=Be({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Gr]})}return n})(),ck=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=lk}transform(t,r=lk){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function uW(n,e){return{key:n,value:e}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static#e=this.\u0275fac=function(r){return new(r||n)(W(Ap,16))};static#t=this.\u0275pipe=_r({name:"keyvalue",type:n,pure:!1,standalone:!0})}return n})();function lk(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let wv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({})}return n})();const dk="browser";function hk(n){return n===dk}function Iv(n){return"server"===n}let gW=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new mW(G(Qn),window)})}return n})();class mW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _W(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class fk{}class BW extends K6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class V0 extends BW{static makeCurrent(){!function W6(n){y0||(y0=n)}(new V0)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function jW(){return Op=Op||document.querySelector("base"),Op?Op.getAttribute("href"):null}();return null==t?null:function $W(n){Tv=Tv||document.createElement("a"),Tv.setAttribute("href",n);const e=Tv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Op=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tk(document.cookie,e)}}let Tv,Op=null,zW=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const U0=new ae("EventManagerPlugins");let yk=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(G(U0),G(mt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class vk{constructor(e){this._doc=e}}const B0="ng-app-id";let Ek=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Iv(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${B0}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(B0),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(B0,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(G(Qn),G(Cy),G(wR,8),G(ds))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const j0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$0=/%COMP%/g,KW=new ae("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ik(n,e){return e.map(t=>t.replace($0,n))}let H0=(()=>{class n{constructor(t,r,i,s,o,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Iv(a),this.defaultRenderer=new z0(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===zr.ShadowDom&&(r={...r,encapsulation:zr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Ck?i.applyToHost(t):i instanceof q0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case zr.Emulated:s=new Ck(u,l,r,this.appId,f,o,a,g);break;case zr.ShadowDom:return new JW(u,l,t,r,o,a,this.nonce,g);default:s=new q0(u,l,r,f,o,a,g)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(G(yk),G(Ek),G(Cy),G(KW),G(Qn),G(ds),G(mt),G(wR))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class z0{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(j0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new w(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=j0[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=j0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ka.DashCase|Ka.Important)?e.style.setProperty(t,r,i&Ka.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ka.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Ja().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function bk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class JW extends z0{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ik(i.id,i.styles);for(const f of l){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class q0 extends z0{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?Ik(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ck extends q0{constructor(e,t,r,i,s,o,a,u){const l=i+"-"+r.id;super(e,t,r,s,o,a,u,l),this.contentAttr=function ZW(n){return"_ngcontent-%COMP%".replace($0,n)}(l),this.hostAttr=function QW(n){return"_nghost-%COMP%".replace($0,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let XW=(()=>{class n extends vk{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(G(Qn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const Tk=["alt","control","meta","shift"],e7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},t7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let n7=(()=>{class n extends vk{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ja().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Tk.forEach(l=>{const f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=e7[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tk.forEach(o=>{o!==i&&(0,t7[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(G(Qn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const Ak=[{provide:ds,useValue:dk},{provide:vR,useValue:function r7(){V0.makeCurrent()},multi:!0},{provide:Qn,useFactory:function s7(){return function H3(n){Pb=n}(document),document},deps:[]}],o7=m1(x6,"browser",Ak),a7=new ae(""),Sk=[{provide:sv,useClass:class HW{addToWindow(e){qt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new w(5103,!1);return s},qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),qt.getAllAngularRootElements=()=>e.getAllRootElements(),qt.frameworkStabilizers||(qt.frameworkStabilizers=[]),qt.frameworkStabilizers.push(r=>{const i=qt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ja().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d1,useClass:a0,deps:[mt,u0,sv]},{provide:a0,useClass:a0,deps:[mt,u0,sv]}],Pk=[{provide:Ub,useValue:"root"},{provide:Wo,useFactory:function i7(){return new Wo},deps:[]},{provide:U0,useClass:XW,multi:!0,deps:[Qn,mt,ds]},{provide:U0,useClass:n7,multi:!0,deps:[Qn]},H0,Ek,yk,{provide:pc,useExisting:H0},{provide:fk,useClass:zW,deps:[]},[]];let Mk=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Cy,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(G(a7,12))};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({providers:[...Pk,...Sk],imports:[wv,N6]})}return n})(),Rk=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(G(Qn))};static#t=this.\u0275prov=le({token:n,factory:function(r){let i=null;return i=r?new r:function c7(){return new Rk(G(Qn))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let Nk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(r){let i=null;return i=r?new(r||n):G(kk),i},providedIn:"root"})}return n})(),kk=(()=>{class n extends Nk{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case ls.NONE:return r;case ls.HTML:return io(r,"HTML")?zi(r):cR(this._doc,String(r)).toString();case ls.STYLE:return io(r,"Style")?zi(r):r;case ls.SCRIPT:if(io(r,"Script"))return zi(r);throw new w(5200,!1);case ls.URL:return io(r,"URL")?zi(r):vy(String(r));case ls.RESOURCE_URL:if(io(r,"ResourceURL"))return zi(r);throw new w(5201,!1);default:throw new w(5202,!1)}}bypassSecurityTrustHtml(t){return function Q3(n){return new z3(n)}(t)}bypassSecurityTrustStyle(t){return function Y3(n){return new q3(n)}(t)}bypassSecurityTrustScript(t){return function J3(n){return new G3(n)}(t)}bypassSecurityTrustUrl(t){return function X3(n){return new W3(n)}(t)}bypassSecurityTrustResourceUrl(t){return function e4(n){return new K3(n)}(t)}static#e=this.\u0275fac=function(r){return new(r||n)(G(Qn))};static#t=this.\u0275prov=le({token:n,factory:function(r){let i=null;return i=r?new r:function f7(n){return new kk(n.get(Qn))}(G(Nr)),i},providedIn:"root"})}return n})();function Ad(n,e){return I(e)?Ht(n,e,1):Ht(n,1)}function Xr(n,e){return B((t,r)=>{let i=0;t.subscribe(se(r,s=>n.call(e,s,i++)&&r.next(s)))})}function xp(n){return B((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Dv{}class Av{}class lo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof lo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new lo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof lo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class p7{encodeKey(e){return Lk(e)}encodeValue(e){return Lk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const m7=/%(\d[a-f0-9])/gi,_7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lk(n){return encodeURIComponent(n).replace(m7,(e,t)=>_7[t]??e)}function Sv(n){return`${n}`}class eu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new p7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function g7(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Sv):[Sv(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new eu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Sv(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Sv(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class y7{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Vk(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Uk(n){return typeof Blob<"u"&&n instanceof Blob}function Bk(n){return typeof FormData<"u"&&n instanceof FormData}class Np{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function v7(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new lo),this.context||(this.context=new y7),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new eu,this.urlWithParams=t}serializeBody(){return null===this.body?null:Vk(this.body)||Uk(this.body)||Bk(this.body)||function E7(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof eu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bk(this.body)?null:Uk(this.body)?this.body.type||null:Vk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof eu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,l=e.params||this.params;const f=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),l)),new Np(t,r,s,{params:l,headers:u,context:f,reportProgress:a,responseType:i,withCredentials:o})}}var Sd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Sd||{});class W0{constructor(e,t=200,r="OK"){this.headers=e.headers||new lo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class K0 extends W0{constructor(e={}){super(e),this.type=Sd.ResponseHeader}clone(e={}){return new K0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pd extends W0{constructor(e={}){super(e),this.type=Sd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Pd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jk extends W0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Z0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $k=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Np)s=t;else{let u,l;u=i.headers instanceof lo?i.headers:new lo(i.headers),i.params&&(l=i.params instanceof eu?i.params:new eu({fromObject:i.params})),s=new Np(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=$(s).pipe(Ad(u=>this.handler.handle(u)));if(t instanceof Np||"events"===i.observe)return o;const a=o.pipe(Xr(u=>u instanceof Pd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(be(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(be(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(be(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(be(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new eu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Z0(i,r))}post(t,r,i={}){return this.request("POST",t,Z0(i,r))}put(t,r,i={}){return this.request("PUT",t,Z0(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(G(Dv))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function qk(n,e){return e(n)}function I7(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const C7=new ae(""),kp=new ae(""),Gk=new ae("");function T7(){let n=null;return(e,t)=>{null===n&&(n=(fe(C7,{optional:!0})??[]).reduceRight(I7,qk));const r=fe(rv),i=r.add();return n(e,t).pipe(xp(()=>r.remove(i)))}}let Wk=(()=>{class n extends Dv{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=fe(rv)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(kp),...this.injector.get(Gk,[])]));this.chain=i.reduceRight((s,o)=>function b7(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,o,this.injector),qk)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(xp(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(G(Av),G(qi))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const P7=/^\)\]\}',?\n/;let Zk=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new w(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?S(r.\u0275loadImpl()):$(null)).pipe(ze(()=>new ut(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((b,C)=>o.setRequestHeader(b,C.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const b=t.detectContentTypeHeader();null!==b&&o.setRequestHeader("Content-Type",b)}if(t.responseType){const b=t.responseType.toLowerCase();o.responseType="json"!==b?b:"text"}const a=t.serializeBody();let u=null;const l=()=>{if(null!==u)return u;const b=o.statusText||"OK",C=new lo(o.getAllResponseHeaders()),M=function M7(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return u=new K0({headers:C,status:o.status,statusText:b,url:M}),u},f=()=>{let{headers:b,status:C,statusText:M,url:P}=l(),x=null;204!==C&&(x=typeof o.response>"u"?o.responseText:o.response),0===C&&(C=x?200:0);let z=C>=200&&C<300;if("json"===t.responseType&&"string"==typeof x){const ce=x;x=x.replace(P7,"");try{x=""!==x?JSON.parse(x):null}catch(Ae){x=ce,z&&(z=!1,x={error:Ae,text:x})}}z?(s.next(new Pd({body:x,headers:b,status:C,statusText:M,url:P||void 0})),s.complete()):s.error(new jk({error:x,headers:b,status:C,statusText:M,url:P||void 0}))},g=b=>{const{url:C}=l(),M=new jk({error:b,status:o.status||0,statusText:o.statusText||"Unknown Error",url:C||void 0});s.error(M)};let m=!1;const y=b=>{m||(s.next(l()),m=!0);let C={type:Sd.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),"text"===t.responseType&&o.responseText&&(C.partialText=o.responseText),s.next(C)},E=b=>{let C={type:Sd.UploadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),s.next(C)};return o.addEventListener("load",f),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),t.reportProgress&&(o.addEventListener("progress",y),null!==a&&o.upload&&o.upload.addEventListener("progress",E)),o.send(a),s.next({type:Sd.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",f),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",y),null!==a&&o.upload&&o.upload.removeEventListener("progress",E)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(G(fk))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const Q0=new ae("XSRF_ENABLED"),Qk=new ae("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Yk=new ae("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Jk{}let x7=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=tk(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(G(Qn),G(ds),G(Qk))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function N7(n,e){const t=n.url.toLowerCase();if(!fe(Q0)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=fe(Jk).getToken(),i=fe(Yk);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var tu=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(tu||{});function k7(...n){const e=[$k,Zk,Wk,{provide:Dv,useExisting:Wk},{provide:Av,useExisting:Zk},{provide:kp,useValue:N7,multi:!0},{provide:Q0,useValue:!0},{provide:Jk,useClass:x7}];for(const t of n)e.push(...t.\u0275providers);return function Fb(n){return{\u0275providers:n}}(e)}const Xk=new ae("LEGACY_INTERCEPTOR_FN");function F7(){return function bc(n,e){return{\u0275kind:n,\u0275providers:e}}(tu.LegacyInterceptors,[{provide:Xk,useFactory:T7},{provide:kp,useExisting:Xk,multi:!0}])}let L7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({providers:[k7(F7())]})}return n})();const{isArray:z7}=Array,{getPrototypeOf:q7,prototype:G7,keys:W7}=Object;function eF(n){if(1===n.length){const e=n[0];if(z7(e))return{args:e,keys:null};if(function K7(n){return n&&"object"==typeof n&&q7(n)===G7}(e)){const t=W7(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Z7}=Array;function Y0(n){return be(e=>function Q7(n,e){return Z7(e)?n(...e):n(e)}(n,e))}function tF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function J0(...n){const e=Cs(n),t=zn(n),{args:r,keys:i}=eF(n);if(0===r.length)return S([],e);const s=new ut(function Y7(n,e,t=Qt){return r=>{nF(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)nF(e,()=>{const l=S(n[u],e);let f=!1;l.subscribe(se(r,g=>{s[u]=g,f||(f=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>tF(i,o):Qt));return t?s.pipe(Y0(t)):s}function nF(n,e,t){n?pr(t,n,e):e()}const Mv=Ve(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X0(...n){return function J7(){return ns(1)}()(S(n,Cs(n)))}function rF(n){return new ut(e=>{bn(n()).subscribe(e)})}function Fp(n,e){const t=I(n)?n:()=>n,r=i=>i.error(t());return new ut(e?i=>e.schedule(r,0,i):r)}function eT(){return B((n,e)=>{let t=null;n._refCount++;const r=se(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class iF extends ut{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ue(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gt;const t=this.getSubject();e.add(this.source.subscribe(se(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gt.EMPTY)}return e}refCount(){return eT()(this)}}function Cc(n){return n<=0?()=>Hn:B((e,t)=>{let r=0;e.subscribe(se(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Rv(...n){const e=Cs(n);return B((t,r)=>{(e?X0(n,t,e):X0(n,t)).subscribe(r)})}function Ov(n){return B((e,t)=>{let r=!1;e.subscribe(se(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function sF(n=X7){return B((e,t)=>{let r=!1;e.subscribe(se(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function X7(){return new Mv}function nu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xr((i,s)=>n(i,s,r)):Qt,Cc(1),t?Ov(e):sF(()=>new Mv))}function kr(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?B((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(se(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Qt}function ru(n){return B((e,t)=>{let s,r=null,i=!1;r=e.subscribe(se(t,void 0,void 0,o=>{s=bn(n(o,ru(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function xv(n,e){return B(function eK(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(se(o,f=>{const g=l++;u=a?n(u,f,g):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function tT(n){return n<=0?()=>Hn:B((e,t)=>{let r=[];e.subscribe(se(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const et="primary",Lp=Symbol("RouteTitle");class iK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Md(n){return new iK(n)}function sK(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ho(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!oF(n[i],e[i]))return!1;return!0}function oF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function aF(n){return n.length>0?n[n.length-1]:null}function iu(n){return function H7(n){return!!n&&(n instanceof ut||I(n.lift)&&I(n.subscribe))}(n)?n:pp(n)?S(Promise.resolve(n)):$(n)}const aK={exact:function lF(n,e,t){if(!Tc(n.segments,e.segments)||!Nv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!lF(n.children[r],e.children[r],t))return!1;return!0},subset:dF},uF={exact:function uK(n,e){return ho(n,e)},subset:function cK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oF(n[t],e[t]))},ignored:()=>!0};function cF(n,e,t){return aK[t.paths](n.root,e.root,t.matrixParams)&&uF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function dF(n,e,t){return hF(n,e,e.segments,t)}function hF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Tc(i,t)||e.hasChildren()||!Nv(i,t,r))}if(n.segments.length===t.length){if(!Tc(n.segments,t)||!Nv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!dF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Tc(n.segments,i)&&Nv(n.segments,i,r)&&n.children[et])&&hF(n.children[et],e,s,r)}}function Nv(n,e,t){return e.every((r,i)=>uF[t](n[i].parameters,r.parameters))}class Rd{constructor(e=new Vt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return hK.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kv(this)}}class Vp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Md(this.parameters)),this._parameterMap}toString(){return gF(this)}}function Tc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Up=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new nT},providedIn:"root"})}return n})();class nT{parse(e){const t=new bK(e);return new Rd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bp(e.root,!0)}`,r=function gK(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Fv(t)}=${Fv(i)}`).join("&"):`${Fv(t)}=${Fv(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fK(n){return encodeURI(n)}(e.fragment)}`:""}`}}const hK=new nT;function kv(n){return n.segments.map(e=>gF(e)).join("/")}function Bp(n,e){if(!n.hasChildren())return kv(n);if(e){const t=n.children[et]?Bp(n.children[et],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==et&&r.push(`${i}:${Bp(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function dK(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===et&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==et&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===et?[Bp(n.children[et],!1)]:[`${i}:${Bp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[et]?`${kv(n)}/${t[0]}`:`${kv(n)}/(${t.join("//")})`}}function fF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fv(n){return fF(n).replace(/%3B/gi,";")}function rT(n){return fF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lv(n){return decodeURIComponent(n)}function pF(n){return Lv(n.replace(/\+/g,"%20"))}function gF(n){return`${rT(n.path)}${function pK(n){return Object.keys(n).map(e=>`;${rT(e)}=${rT(n[e])}`).join("")}(n.parameters)}`}const mK=/^[^\/()?;#]+/;function iT(n){const e=n.match(mK);return e?e[0]:""}const _K=/^[^\/()?;=#]+/,vK=/^[^=?&#]+/,wK=/^[^&#]+/;class bK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[et]=new Vt(e,t)),r}parseSegment(){const e=iT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(e),new Vp(Lv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function yK(n){const e=n.match(_K);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=iT(this.remaining);i&&(r=i,this.capture(r))}e[Lv(t)]=Lv(r)}parseQueryParam(e){const t=function EK(n){const e=n.match(vK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function IK(n){const e=n.match(wK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=pF(t),s=pF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=iT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new w(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=et);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[et]:new Vt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new w(4011,!1)}}function mF(n){return n.segments.length>0?new Vt([],{[et]:n}):n}function _F(n){const e={};for(const r of Object.keys(n.children)){const s=_F(n.children[r]);if(r===et&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function CK(n){if(1===n.numberOfChildren&&n.children[et]){const e=n.children[et];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}function Dc(n){return n instanceof Rd}function yF(n){let e;const i=mF(function t(s){const o={};for(const u of s.children){const l=t(u);o[u.outlet]=l}const a=new Vt(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function vF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return sT(i,i,i,t,r);const s=function DK(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new wF(t,e,r)}(e);if(s.toRoot())return sT(i,i,new Vt([],{}),t,r);const o=function AK(n,e,t){if(n.isAbsolute)return new Uv(e,!0,0);if(!t)return new Uv(e,!1,NaN);if(null===t.parent)return new Uv(t,!0,0);const r=Vv(n.commands[0])?0:1;return function SK(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new Uv(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?$p(o.segmentGroup,o.index,s.commands):IF(o.segmentGroup,o.index,s.commands);return sT(i,o.segmentGroup,a,t,r)}function Vv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jp(n){return"object"==typeof n&&null!=n&&n.outlets}function sT(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),o=n===e?t:EF(n,e,t);const a=mF(_F(o));return new Rd(a,s,i)}function EF(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:EF(s,e,t)}),new Vt(n.segments,r)}class wF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vv(r[0]))throw new w(4003,!1);const i=r.find(jp);if(i&&i!==aF(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uv{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function IF(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return $p(n,e,t);const r=function MK(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(jp(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!CF(u,l,o))return s;r+=2}else{if(!CF(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Vt(n.segments.slice(0,r.pathIndex),{});return s.children[et]=new Vt(n.segments.slice(r.pathIndex),n.children),$p(s,0,i)}return r.match&&0===i.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?oT(n,e,t):r.match?$p(n,0,i):oT(n,e,t)}function $p(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function PK(n){return jp(n[0])?n[0].outlets:{[et]:n}}(t),i={};if(Object.keys(r).some(s=>s!==et)&&n.children[et]&&1===n.numberOfChildren&&0===n.children[et].segments.length){const s=$p(n.children[et],e,t);return new Vt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=IF(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Vt(n.segments,i)}}function oT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(jp(s)){const u=RK(s.outlets);return new Vt(r,u)}if(0===i&&Vv(t[0])){r.push(new Vp(n.segments[e].path,bF(t[0]))),i++;continue}const o=jp(s)?s.outlets[et]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Vv(a)?(r.push(new Vp(o,bF(a))),i+=2):(r.push(new Vp(o,{})),i++)}return new Vt(r,{})}function RK(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=oT(new Vt([],{}),0,r))}),e}function bF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function CF(n,e,t){return n==t.path&&ho(e,t.parameters)}const Hp="imperative";class fo{constructor(e,t){this.id=e,this.url=t}}class Bv extends fo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class su extends fo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zp extends fo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Od extends fo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class jv extends fo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TF extends fo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OK extends fo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xK extends fo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class NK extends fo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kK extends fo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class LK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class VK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class aT{}class uT{constructor(e){this.url=e}}class $K{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qp,this.attachRef=null}}let qp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $K,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class AF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=cT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=cT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lT(e,this._root).map(t=>t.value)}}function cT(n,e){if(n===e.value)return e;for(const t of e.children){const r=cT(n,t);if(r)return r}return null}function lT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=lT(n,t);if(r.length)return r.unshift(e),r}return[]}class ta{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class SF extends AF{constructor(e,t){super(e),this.snapshot=t,dT(this,e)}toString(){return this.snapshot.toString()}}function PF(n,e){const t=function HK(n,e){const o=new $v([],{},{},"",{},et,e,null,{});return new RF("",new ta(o,[]))}(0,e),r=new O([new Vp("",{})]),i=new O({}),s=new O({}),o=new O({}),a=new O(""),u=new Nd(r,i,o,a,s,et,e,t.root);return u.snapshot=t.root,new SF(new ta(u,[]),t)}class Nd{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(be(l=>l[Lp]))??$(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(e=>Md(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(e=>Md(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function zK(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $v{get title(){return this.data?.[Lp]}constructor(e,t,r,i,s,o,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Md(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RF extends AF{constructor(e,t){super(t),this.url=e,dT(this,t)}toString(){return OF(this._root)}}function dT(n,e){e.value._routerState=n,e.children.forEach(t=>dT(n,t))}function OF(n){const e=n.children.length>0?` { ${n.children.map(OF).join(", ")} } `:"";return`${n.value}${e}`}function hT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ho(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ho(e.params,t.params)||n.paramsSubject.next(t.params),function oK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ho(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ho(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fT(n,e){const t=ho(n.params,e.params)&&function lK(n,e){return Tc(n,e)&&n.every((t,r)=>ho(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fT(n.parent,e.parent))}let pT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new Dt,this.deactivateEvents=new Dt,this.attachEvents=new Dt,this.detachEvents=new Dt,this.parentContexts=fe(qp),this.location=fe(Bs),this.changeDetector=fe(Dp),this.environmentInjector=fe(qi),this.inputBinder=fe(Hv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new qK(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Be({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gr]})}return n})();class qK{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Nd?this.route:e===qp?this.childContexts:this.parent.get(e,t)}}const Hv=new ae("");let xF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=J0([r.queryParams,r.params,r.data]).pipe(ze(([s,o,a],u)=>(a={...s,...o,...a},0===u?$(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function G6(n){const e=ot(n);if(!e)return null;const t=new cp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function Gp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function WK(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Gp(n,r,i);return Gp(n,r)})}(n,e,t);return new ta(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Gp(n,a)),o}}const r=function KK(n){return new Nd(new O(n.url),new O(n.params),new O(n.queryParams),new O(n.fragment),new O(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Gp(n,s));return new ta(r,i)}}const gT="ngNavigationCancelingError";function NF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Dc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function kF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[gT]=!0,r.cancellationCode=e,t&&(r.url=t),r}function FF(n){return n&&n[gT]}let LF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Di({type:n,selectors:[["ng-component"]],standalone:!0,features:[fN],decls:1,vars:0,template:function(r,i){1&r&&Ot(0,"router-outlet")},dependencies:[pT],encapsulation:2})}return n})();function mT(n){const e=n.children&&n.children.map(mT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==et&&(t.component=LF),t}function Hs(n){return n.outlet||et}function Wp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nZ{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=xd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=xd(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new jK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new UK(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(hT(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hT(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Wp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class VF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zv{constructor(e,t){this.component=e,this.route=t}}function rZ(n,e,t){const r=n._root;return Kp(r,e?e._root:null,t,[r.value])}function kd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function yI(n){return null!==ba(n)}(n)?e.get(n):n:r}function Kp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xd(e);return n.children.forEach(o=>{(function sZ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function oZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Tc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Tc(n.url,e.url)||!ho(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fT(n,e)||!ho(n.queryParams,e.queryParams);default:return!fT(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new VF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Kp(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zv(a.outlet.component,o))}else o&&Zp(e,a,i),i.canActivateChecks.push(new VF(r)),Kp(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Zp(a,t.getContext(o),i)),i}function Zp(n,e,t){const r=xd(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Zp(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new zv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Qp(n){return"function"==typeof n}function UF(n){return n instanceof Mv||"EmptyError"===n?.name}const qv=Symbol("INITIAL_VALUE");function Fd(){return ze(n=>J0(n.map(e=>e.pipe(Cc(1),Rv(qv)))).pipe(be(e=>{for(const t of e)if(!0!==t){if(t===qv)return qv;if(!1===t||t instanceof Rd)return t}return!0}),Xr(e=>e!==qv),Cc(1)))}function BF(n){return function ai(...n){return Ii(n)}(kr(e=>{if(Dc(e))throw NF(0,e)}),be(e=>!0===e))}class Gv{constructor(e){this.segmentGroup=e||null}}class jF{constructor(e){this.urlTree=e}}function Ld(n){return Fp(new Gv(n))}function $F(n){return Fp(new jF(n))}class DZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new w(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[et])return Fp(new w(4e3,!1));i=i.children[et]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Rd(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Vt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const _T={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AZ(n,e,t,r,i){const s=yT(n,e,t);return s.matched?(r=function QK(n,e){return n.providers&&!n._injector&&(n._injector=UC(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function bZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(o=>{const a=kd(o,n);return iu(function hZ(n){return n&&Qp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Fd(),BF()):$(!0)}(r,e,t).pipe(be(o=>!0===o?s:{..._T}))):$(s)}function yT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{..._T}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||sK)(t,n,e);if(!i)return{..._T};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function HF(n,e,t,r){return t.length>0&&function MZ(n,e,t){return t.some(r=>Wv(n,e,r)&&Hs(r)!==et)}(n,t,r)?{segmentGroup:new Vt(e,PZ(r,new Vt(t,n.children))),slicedSegments:[]}:0===t.length&&function RZ(n,e,t){return t.some(r=>Wv(n,e,r))}(n,t,r)?{segmentGroup:new Vt(n.segments,SZ(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Vt(n.segments,n.children),slicedSegments:t}}function SZ(n,e,t,r,i){const s={};for(const o of r)if(Wv(n,t,o)&&!i[Hs(o)]){const a=new Vt([],{});s[Hs(o)]=a}return{...i,...s}}function PZ(n,e){const t={};t[et]=e;for(const r of n)if(""===r.path&&Hs(r)!==et){const i=new Vt([],{});t[Hs(r)]=i}return t}function Wv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class kZ{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new DZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new w(4002,!1)}recognize(){const e=HF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,et).pipe(ru(t=>{if(t instanceof jF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Gv?this.noMatchError(t):t}),be(t=>{const r=new $v([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},et,this.rootComponentType,null,{}),i=new ta(r,t),s=new RF("",i),o=function TK(n,e,t=null,r=null){return vF(yF(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,et).pipe(ru(r=>{throw r instanceof Gv?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=MF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return S(i).pipe(Ad(s=>{const o=r.children[s],a=function eZ(n,e){const t=n.filter(r=>Hs(r)===e);return t.push(...n.filter(r=>Hs(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),xv((s,o)=>(s.push(...o),s)),Ov(null),function tK(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xr((i,s)=>n(i,s,r)):Qt,tT(1),t?Ov(e):sF(()=>new Mv))}(),Ht(s=>{if(null===s)return Ld(r);const o=zF(s);return function FZ(n){n.sort((e,t)=>e.value.outlet===et?-1:t.value.outlet===et?1:e.value.outlet.localeCompare(t.value.outlet))}(o),$(o)}))}processSegment(e,t,r,i,s,o){return S(t).pipe(Ad(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(ru(u=>{if(u instanceof Gv)return $(null);throw u}))),nu(a=>!!a),ru(a=>{if(UF(a))return function xZ(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?$([]):Ld(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function OZ(n,e,t,r){return!!(Hs(n)===r||r!==et&&Wv(e,t,n))&&("**"===n.path||yT(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Ld(i):Ld(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?$F(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ht(o=>{const a=new Vt(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:f}=yT(t,i,s);if(!a)return Ld(t);const g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f);return i.redirectTo.startsWith("/")?$F(g):this.applyRedirects.lineralizeSegments(i,g).pipe(Ht(m=>this.processSegment(e,r,t,m.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?aF(i).parameters:{};a=$({snapshot:new $v(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qF(r),Hs(r),r.component??r._loadedComponent??null,r,GF(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=AZ(t,r,i,e).pipe(be(({matched:u,consumedSegments:l,remainingSegments:f,parameters:g})=>u?{snapshot:new $v(l,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qF(r),Hs(r),r.component??r._loadedComponent??null,r,GF(r)),consumedSegments:l,remainingSegments:f}:null));return a.pipe(ze(u=>null===u?Ld(t):this.getChildConfig(e=r._injector??e,r,i).pipe(ze(({routes:l})=>{const f=r._loadedInjector??e,{snapshot:g,consumedSegments:m,remainingSegments:y}=u,{segmentGroup:E,slicedSegments:b}=HF(t,m,y,l);if(0===b.length&&E.hasChildren())return this.processChildren(f,l,E).pipe(be(M=>null===M?null:[new ta(g,M)]));if(0===l.length&&0===b.length)return $([new ta(g,[])]);const C=Hs(r)===s;return this.processSegment(f,l,E,b,C?et:s,!0).pipe(be(M=>[new ta(g,M)]))}))))}getChildConfig(e,t,r){return t.children?$({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?$({routes:t._loadedRoutes,injector:t._loadedInjector}):function IZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(o=>{const a=kd(o,n);return iu(function uZ(n){return n&&Qp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Fd(),BF())}(e,t,r).pipe(Ht(i=>i?this.configLoader.loadChildren(e,t).pipe(kr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function TZ(n){return Fp(kF(!1,3))}())):$({routes:[],injector:e})}}function LZ(n){const e=n.value.routeConfig;return e&&""===e.path}function zF(n){const e=[],t=new Set;for(const r of n){if(!LZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=zF(r.children);e.push(new ta(r.value,i))}return e.filter(r=>!t.has(r))}function qF(n){return n.data||{}}function GF(n){return n.resolve||{}}function WF(n){return"string"==typeof n.title||null===n.title}function vT(n){return ze(e=>{const t=n(e);return t?S(t).pipe(be(()=>e)):$(e)})}const Vd=new ae("ROUTES");let ET=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(a1)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return $(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=iu(t.loadComponent()).pipe(be(KF),kr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),xp(()=>{this.componentLoaders.delete(t)})),i=new iF(r,()=>new j).pipe(eT());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function zZ(n,e,t,r){return iu(n.loadChildren()).pipe(be(KF),Ht(i=>i instanceof dN||Array.isArray(i)?$(i):S(e.compileModuleAsync(i))),be(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Vd,[],{optional:!0,self:!0}).flat()),{routes:o.map(mT),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(xp(()=>{this.childrenLoaders.delete(r)})),o=new iF(s,()=>new j).pipe(eT());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KF(n){return function qZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Kv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new j,this.transitionAbortSubject=new j,this.configLoader=fe(ET),this.environmentInjector=fe(qi),this.urlSerializer=fe(Up),this.rootContexts=fe(qp),this.inputBindingEnabled=null!==fe(Hv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new LK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new FK(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new O({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xr(s=>0!==s.id),be(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),ze(s=>{this.currentTransition=s;let o=!1,a=!1;return $(s).pipe(kr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ze(u=>{const l=u.currentBrowserUrl.toString(),f=!t.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!f&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new Od(u.id,this.urlSerializer.serialize(u.rawUrl),m,0)),u.resolve(null),Hn}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return $(u).pipe(ze(m=>{const y=this.transitions?.getValue();return this.events.next(new Bv(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Hn:Promise.resolve(m)}),function VZ(n,e,t,r,i,s){return Ht(o=>function NZ(n,e,t,r,i,s,o="emptyOnly"){return new kZ(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(be(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),kr(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new TF(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:m,extractedUrl:y,source:E,restoredState:b,extras:C}=u,M=new Bv(m,this.urlSerializer.serialize(y),E,b);this.events.next(M);const P=PF(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:P,urlAfterRedirects:y,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},$(s)}{const m="";return this.events.next(new Od(u.id,this.urlSerializer.serialize(u.extractedUrl),m,1)),u.resolve(null),Hn}}),kr(u=>{const l=new OK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),be(u=>(this.currentTransition=s={...u,guards:rZ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function pZ(n,e){return Ht(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?$({...t,guardsResult:!0}):function gZ(n,e,t,r){return S(n).pipe(Ht(i=>function wZ(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const u=Wp(e)??i,l=kd(a,u);return iu(function dZ(n){return n&&Qp(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(nu())})).pipe(Fd()):$(!0)}(i.component,i.route,t,e,r)),nu(i=>!0!==i,!0))}(o,r,i,n).pipe(Ht(a=>a&&function aZ(n){return"boolean"==typeof n}(a)?function mZ(n,e,t,r){return S(e).pipe(Ad(i=>X0(function yZ(n,e){return null!==n&&e&&e(new VK(n)),$(!0)}(i.route.parent,r),function _Z(n,e){return null!==n&&e&&e(new BK(n)),$(!0)}(i.route,r),function EZ(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function iZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>rF(()=>$(o.guards.map(u=>{const l=Wp(o.node)??t,f=kd(u,l);return iu(function lZ(n){return n&&Qp(n.canActivateChild)}(f)?f.canActivateChild(r,n):l.runInContext(()=>f(r,n))).pipe(nu())})).pipe(Fd())));return $(s).pipe(Fd())}(n,i.path,t),function vZ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>rF(()=>{const o=Wp(e)??t,a=kd(s,o);return iu(function cZ(n){return n&&Qp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(nu())}));return $(i).pipe(Fd())}(n,i.route,t))),nu(i=>!0!==i,!0))}(r,s,n,e):$(a)),be(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),kr(u=>{if(s.guardsResult=u.guardsResult,Dc(u.guardsResult))throw NF(0,u.guardsResult);const l=new xK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Xr(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),vT(u=>{if(u.guards.canActivateChecks.length)return $(u).pipe(kr(l=>{const f=new NK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ze(l=>{let f=!1;return $(l).pipe(function UZ(n,e){return Ht(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return $(t);let s=0;return S(i).pipe(Ad(o=>function BZ(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!WF(i)&&(s[Lp]=i.title),function jZ(n,e,t,r){const i=function $Z(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return $({});const s={};return S(i).pipe(Ht(o=>function HZ(n,e,t,r){const i=Wp(e)??r,s=kd(n,i);return iu(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(nu(),kr(a=>{s[o]=a}))),tT(1),function nK(n){return be(()=>n)}(s),ru(o=>UF(o)?Hn:Fp(o)))}(s,n,e,r).pipe(be(o=>(n._resolvedData=o,n.data=MF(n,t).resolve,i&&WF(i)&&(n.data[Lp]=i.title),null)))}(o.route,r,n,e)),kr(()=>s++),tT(1),Ht(o=>s===i.length?$(t):Hn))})}(t.paramsInheritanceStrategy,this.environmentInjector),kr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",2)}}))}),kr(l=>{const f=new kK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),vT(u=>{const l=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(kr(m=>{f.component=m}),be(()=>{})));for(const m of f.children)g.push(...l(m));return g};return J0(l(u.targetSnapshot.root)).pipe(Ov(),Cc(1))}),vT(()=>this.afterPreactivation()),be(u=>{const l=function GK(n,e,t){const r=Gp(n,e._root,t?t._root:void 0);return new SF(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},s}),kr(()=>{this.events.next(new aT)}),((n,e,t,r)=>be(i=>(new nZ(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Cc(1),kr({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new su(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function rK(n){return B((e,t)=>{bn(n).subscribe(se(t,()=>t.complete(),Ce)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(kr(u=>{throw u}))),xp(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),ru(u=>{if(a=!0,FF(u))this.events.next(new zp(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function ZK(n){return FF(n)&&Dc(n.url)}(u)?this.events.next(new uT(u.url)):s.resolve(!1);else{this.events.next(new jv(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(u))}catch(l){s.reject(l)}}return Hn}))}))}cancelNavigationTransition(t,r,i){const s=new zp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZF(n){return n!==Hp}let QF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===et);return r}getResolvedTitleForRoute(t){return t.data[Lp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(GZ)},providedIn:"root"})}return n})(),GZ=(()=>{class n extends QF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(G(Rk))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(ZZ)},providedIn:"root"})}return n})();class KZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ZZ=(()=>{class n extends KZ{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zv=new ae("",{providedIn:"root",factory:()=>({})});let QZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(YZ)},providedIn:"root"})}return n})(),YZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Yp||{});function YF(n,e){n.events.pipe(Xr(t=>t instanceof su||t instanceof zp||t instanceof jv||t instanceof Od),be(t=>t instanceof su||t instanceof Od?Yp.COMPLETE:t instanceof zp&&(0===t.code||1===t.code)?Yp.REDIRECTING:Yp.FAILED),Xr(t=>t!==Yp.REDIRECTING),Cc(1)).subscribe(()=>{e()})}function JZ(n){throw n}function XZ(n,e,t){return e.parse("/")}const eQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=fe(o1),this.isNgZoneEnabled=!1,this._events=new j,this.options=fe(Zv,{optional:!0})||{},this.pendingTasks=fe(rv),this.errorHandler=this.options.errorHandler||JZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||XZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=fe(QZ),this.routeReuseStrategy=fe(WZ),this.titleStrategy=fe(QF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fe(Vd,{optional:!0})?.flat()??[],this.navigationTransitions=fe(Kv),this.urlSerializer=fe(Up),this.location=fe(w0),this.componentInputBindingEnabled=!!fe(Hv,{optional:!0}),this.eventsSubscription=new gt,this.isNgZoneEnabled=fe(mt)instanceof mt&&mt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=PF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(JF(r)&&this._events.next(r));if(r instanceof Bv)ZF(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Od)this.rawUrlTree=i.rawUrl;else if(r instanceof TF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof aT)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof zp)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof uT){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ZF(i.source)};this.scheduleNavigation(s,Hp,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof jv&&this.restoreHistory(i,!0),r instanceof su&&(this.navigated=!0),JF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let g,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{g=yF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),g=this.currentUrlTree.root}return vF(g,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Dc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Hp,null,r)}navigate(t,r={skipLocationChange:!1}){return function nQ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new w(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...eQ}:!1===r?{...tQ}:r,Dc(t))return cF(this.currentUrlTree,t,i);const s=this.parseUrl(t);return cF(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((g,m)=>{a=g,u=m});const f=this.pendingTasks.add();return YF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JF(n){return!(n instanceof aT||n instanceof uT)}let Ud=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new j,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof su&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function dR(n,e,t){return function g4(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?lR:Nb}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(W(wr),W(Nd),function ql(n){return function kf(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(zh(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Vn(),n)}("tabindex"),W(Fs),W(Er),W(wc))};static#t=this.\u0275dir=Be({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&bt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Ls("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Td],skipLocationChange:["skipLocationChange","skipLocationChange",Td],replaceUrl:["replaceUrl","replaceUrl",Td],routerLink:"routerLink"},standalone:!0,features:[TO,Gr]})}return n})();class XF{}let sQ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Xr(t=>t instanceof su),Ad(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=UC(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return S(i).pipe(ns())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):$(null);const s=i.pipe(Ht(o=>null===o?$(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?S([s,this.loader.loadComponent(r)]).pipe(ns()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(G(wr),G(a1),G(qi),G(XF),G(ET))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wT=new ae("");let eL=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Bv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof su?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Od&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof DF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new DF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function JR(){throw new Error("invalid")}()};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function na(n,e){return{\u0275kind:n,\u0275providers:e}}function nL(){const n=fe(Nr);return e=>{const t=n.get(Ya);if(e!==t.components[0])return;const r=n.get(wr),i=n.get(rL);1===n.get(IT)&&r.initialNavigation(),n.get(iL,null,st.Optional)?.setUpPreloading(),n.get(wT,null,st.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const rL=new ae("",{factory:()=>new j}),IT=new ae("",{providedIn:"root",factory:()=>1}),iL=new ae("");function cQ(n){return na(0,[{provide:iL,useExisting:sQ},{provide:XF,useExisting:n}])}const sL=new ae("ROUTER_FORROOT_GUARD"),dQ=[w0,{provide:Up,useClass:nT},wr,qp,{provide:Nd,useFactory:function tL(n){return n.routerState.root},deps:[wr]},ET,[]];function hQ(){return new p1("Router",wr)}let oL=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[dQ,[],{provide:Vd,multi:!0,useValue:t},{provide:sL,useFactory:mQ,deps:[[wr,new Wa,new Kl]]},{provide:Zv,useValue:r||{}},r?.useHash?{provide:wc,useClass:Y6}:{provide:wc,useClass:q1},{provide:wT,useFactory:()=>{const n=fe(gW),e=fe(mt),t=fe(Zv),r=fe(Kv),i=fe(Up);return t.scrollOffset&&n.setOffset(t.scrollOffset),new eL(i,r,n,e,t)}},r?.preloadingStrategy?cQ(r.preloadingStrategy).\u0275providers:[],{provide:p1,multi:!0,useFactory:hQ},r?.initialNavigation?_Q(r):[],r?.bindToComponentInputs?na(8,[xF,{provide:Hv,useExisting:xF}]).\u0275providers:[],[{provide:aL,useFactory:nL},{provide:d0,multi:!0,useExisting:aL}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Vd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(G(sL,8))};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({})}return n})();function mQ(n){return"guarded"}function _Q(n){return["disabled"===n.initialNavigation?na(3,[{provide:n0,multi:!0,useFactory:()=>{const e=fe(wr);return()=>{e.setUpLocationChangeListener()}}},{provide:IT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?na(2,[{provide:IT,useValue:0},{provide:n0,multi:!0,deps:[Nr],useFactory:e=>{const t=e.get(Z6,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(wr),s=e.get(rL);YF(i,()=>{r(!0)}),e.get(Kv).afterPreactivation=()=>(r(!0),s.closed?$(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const aL=new ae("");var Ac=Ze(534);(0,Ac.registerVersion)("firebase","10.11.0","app");class wQ extends gt{constructor(e,t){super()}schedule(e,t=0){return this}}const Qv={setInterval(n,e,...t){const{delegate:r}=Qv;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Qv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class bT extends wQ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Qv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Qv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const CT={now:()=>(CT.delegate||Date).now(),delegate:void 0};class Jp{constructor(e,t=Jp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Jp.now=CT.now;class TT extends Jp{constructor(e,t=Jp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const CQ=new class bQ extends TT{}(class IQ extends bT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),uL=new TT(bT),DT=new ad("ANGULARFIRE2_VERSION");class cL{constructor(){return((n,e)=>{const t=(0,Ac.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(DQ)}}const DQ="app-check";function Bd(){}class lL{zone;delegate;constructor(e,t=CQ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class AQ{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bd,{},Bd,Bd)),t.pipe(kr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dL=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new lL(Zone.current)),this.insideAngular=t.run(()=>new lL(Zone.current,uL)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(G(mt))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zi(n){return function PQ(n){return function(t){return(t=t.lift(new AQ(n.ngZone))).pipe(Pr(n.outsideAngular),ci(n.insideAngular))}}(function jd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var ou=Ze(106);ou.Z.registerVersion("firebase","10.11.0","app-compat");const xQ=["ngOnDestroy"];class hL{constructor(e){return e}}const Yv=new ae("angularfire2.app.options"),Jv=new ae("angularfire2.app.name");function AT(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=ou.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>ou.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;FQ("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new hL(o)}const FQ=(n,...e)=>{},LQ={provide:hL,useFactory:AT,deps:[Yv,mt,[new Wa,Jv]]};let VQ=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Yv,useValue:t},{provide:Jv,useValue:r}]}}constructor(t){ou.Z.registerVersion("angularfire",DT.full,"core"),ou.Z.registerVersion("angularfire",DT.full,"app-compat"),ou.Z.registerVersion("angular",AR.full,t.toString())}static \u0275fac=function(r){return new(r||n)(G(ds))};static \u0275mod=An({type:n});static \u0275inj=Nn({providers:[LQ]})}return n})();function fL(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function UQ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(pL("error",`${e} was already initialized on the ${t} Firebase App with different settings.${BQ?" You may need to reload as Firebase is not HMR aware.":""}`),pL("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const BQ=typeof module<"u"&&!!module.hot,pL=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Ze(622);class jQ extends j{constructor(e=1/0,t=1/0,r=CT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function gL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,Oe({connector:()=>new jQ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function mL(n,e){return I(e)?ze(()=>n,e):ze(()=>n)}const _L=new ae("angularfire2.auth.use-emulator"),yL=new ae("angularfire2.auth.settings"),vL=new ae("angularfire2.auth.tenant-id"),EL=new ae("angularfire2.auth.langugage-code"),wL=new ae("angularfire2.auth.use-device-language"),IL=new ae("angularfire.auth.persistence"),bL=(n,e,t,r,i,s,o,a)=>fL(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[l,f]of Object.entries(o))u.settings[l]=f;return a&&u.setPersistence(a),u},[t,r,i,s,o,a]);let CL=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,u,l,f,g,m,y){const E=new j,b=$(void 0).pipe(ci(o.outsideAngular),ze(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ze.bind(Ze,622)))),be(()=>AT(t,s,r)),be(C=>bL(C,s,a,l,f,g,u,m)),gL({bufferSize:1,refCount:!1}));if(Iv(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=$(null);else{b.pipe(nu()).subscribe();const C=b.pipe(ze(x=>x.getRedirectResult().then(z=>z,()=>null)),Zi,gL({bufferSize:1,refCount:!1})),M=b.pipe(ze(x=>new ut(z=>({unsubscribe:s.runOutsideAngular(()=>x.onAuthStateChanged(ce=>z.next(ce),ce=>z.error(ce),()=>z.complete()))})))),P=b.pipe(ze(x=>new ut(z=>({unsubscribe:s.runOutsideAngular(()=>x.onIdTokenChanged(ce=>z.next(ce),ce=>z.error(ce),()=>z.complete()))}))));this.authState=C.pipe(mL(M),Pr(o.outsideAngular),ci(o.insideAngular)),this.user=C.pipe(mL(P),Pr(o.outsideAngular),ci(o.insideAngular)),this.idToken=this.user.pipe(ze(x=>x?S(x.getIdToken()):$(null))),this.idTokenResult=this.user.pipe(ze(x=>x?S(x.getIdTokenResult()):$(null))),this.credential=Q(C,E,this.authState.pipe(Xr(x=>!x))).pipe(be(x=>x?.user?x:null),Pr(o.outsideAngular),ci(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(xQ.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const u=a?.[s];return"function"==typeof u?u.bind(a):u?.then?u.then(l=>t.run(()=>l)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,l)=>o.then(f=>{const g=f?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,g),g})})})}))(this,b,s,{spy:{apply:(C,M,P)=>{(C.startsWith("signIn")||C.startsWith("createUser"))&&P.then(x=>E.next(x))}}})}static \u0275fac=function(r){return new(r||n)(G(Yv),G(Jv,8),G(ds),G(mt),G(dL),G(_L,8),G(yL,8),G(vL,8),G(EL,8),G(wL,8),G(IL,8),G(cL,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function ST(){return B((n,e)=>{let t,r=!1;n.subscribe(se(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var _e,Z=Ze(861),TL=Ze(537),po=Ze(879),Mt=Ze(58),HQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zs={},PT=PT||{},Qe=HQ||self;function Xv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var MT="closure_uid_"+(1e9*Math.random()>>>0),qQ=0;function GQ(n,e,t){return n.call.apply(n.bind,arguments)}function WQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ei(n,e,t){return(ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?GQ:WQ).apply(null,arguments)}function eE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ir(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function au(){this.s=this.s,this.o=this.o}au.prototype.s=!1,au.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zQ(n){Object.prototype.hasOwnProperty.call(n,MT)&&n[MT]||(n[MT]=++qQ)}(this)},au.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function RT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function AL(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Xv(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ti.prototype.h=function(){this.defaultPrevented=!0};var ZQ=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};Qe.addEventListener("test",t,e),Qe.removeEventListener("test",t,e)}catch{}return n}();function eg(n){return/^[\s\xa0]*$/.test(n)}function tE(){var n=Qe.navigator;return n&&(n=n.userAgent)?n:""}function go(n){return-1!=tE().indexOf(n)}function OT(n){return OT[" "](n),n}OT[" "]=function(){};var NT,n,YQ=go("Opera"),$d=go("Trident")||go("MSIE"),SL=go("Edge"),xT=SL||$d,PL=go("Gecko")&&!(-1!=tE().toLowerCase().indexOf("webkit")&&!go("Edge"))&&!(go("Trident")||go("MSIE"))&&!go("Edge"),JQ=-1!=tE().toLowerCase().indexOf("webkit")&&!go("Edge");function ML(){var n=Qe.document;return n?n.documentMode:void 0}e:{var kT="",FT=(n=tE(),PL?/rv:([^\);]+)(\)|;)/.exec(n):SL?/Edge\/([\d\.]+)/.exec(n):$d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JQ?/WebKit\/(\S+)/.exec(n):YQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(FT&&(kT=FT?FT[1]:""),$d){var LT=ML();if(null!=LT&&LT>parseFloat(kT)){NT=String(LT);break e}}NT=kT}var XQ=Qe.document&&$d&&(ML()||parseInt(NT,10))||void 0;function tg(n,e){if(ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(PL){e:{try{OT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&tg.$.h.call(this)}}Ir(tg,ti);var eY={2:"touch",3:"pen",4:"mouse"};tg.prototype.h=function(){tg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ng="closure_listenable_"+(1e6*Math.random()|0),tY=0;function nY(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++tY,this.fa=this.ia=!1}function nE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function UT(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function OL(n){const e={};for(const t in n)e[t]=n[t];return e}const xL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<xL.length;s++)t=xL[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function rE(n){this.src=n,this.g={},this.h=0}function BT(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=DL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(nE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function jT(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}rE.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=jT(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new nY(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var $T="closure_lm_"+(1e6*Math.random()|0),HT={};function kL(n,e,t,r,i){if(r&&r.once)return LL(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)kL(n,e[s],t,r,i);return null}return t=WT(t),n&&n[ng]?n.O(e,t,Xp(r)?!!r.capture:!!r,i):FL(n,e,t,!1,r,i)}function FL(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Xp(i)?!!i.capture:!!i,a=qT(n);if(a||(n[$T]=a=new rE(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function iY(){const e=sY;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ZQ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(UL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function LL(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)LL(n,e[s],t,r,i);return null}return t=WT(t),n&&n[ng]?n.P(e,t,Xp(r)?!!r.capture:!!r,i):FL(n,e,t,!0,r,i)}function VL(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)VL(n,e[s],t,r,i);else r=Xp(r)?!!r.capture:!!r,t=WT(t),n&&n[ng]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=jT(s=n.g[e],t,r,i))&&(nE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=qT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jT(e,t,r,i)),(t=-1<n?e[n]:null)&&zT(t))}function zT(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ng])BT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(UL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qT(e))?(BT(t,n),0==t.h&&(t.src=null,e[$T]=null)):nE(n)}}}function UL(n){return n in HT?HT[n]:HT[n]="on"+n}function sY(n,e){if(n.fa)n=!0;else{e=new tg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&zT(n),n=t.call(r,e)}return n}function qT(n){return(n=n[$T])instanceof rE?n:null}var GT="__closure_events_fn_"+(1e9*Math.random()>>>0);function WT(n){return"function"==typeof n?n:(n[GT]||(n[GT]=function(e){return n.handleEvent(e)}),n[GT])}function br(){au.call(this),this.i=new rE(this),this.S=this,this.J=null}function Fr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ti(e,n);else if(e instanceof ti)e.target=e.target||n;else{var i=e;NL(e=new ti(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=iE(o,r,!0,e)&&i}if(i=iE(o=e.g=n,r,!0,e)&&i,i=iE(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=iE(o=e.g=t[s],r,!1,e)&&i}function iE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&BT(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ir(br,au),br.prototype[ng]=!0,br.prototype.removeEventListener=function(n,e,t,r){VL(this,n,e,t,r)},br.prototype.N=function(){if(br.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)nE(t[r]);delete n.g[e],n.h--}}this.J=null},br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},br.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var KT=Qe.JSON.stringify;function aY(){var n=ZT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var BL=new class oY{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new cY,n=>n.reset());class cY{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lY(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function dY(n){Qe.setTimeout(()=>{throw n},0)}let rg,ig=!1,ZT=new class uY{constructor(){this.h=this.g=null}add(e,t){const r=BL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},jL=()=>{const n=Qe.Promise.resolve(void 0);rg=()=>{n.then(hY)}};var hY=()=>{for(var n;n=aY();){try{n.h.call(n.g)}catch(t){dY(t)}var e=BL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ig=!1};function sE(n,e){br.call(this),this.h=n||1,this.g=e||Qe,this.j=ei(this.qb,this),this.l=Date.now()}function QT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function YT(n,e,t){if("function"==typeof n)t&&(n=ei(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ei(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qe.setTimeout(n,e||0)}function $L(n){n.g=YT(()=>{n.g=null,n.i&&(n.i=!1,$L(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ir(sE,br),(_e=sE.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fr(this,"tick"),this.ga&&(QT(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){sE.$.N.call(this),QT(this),delete this.g};class fY extends au{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$L(this)}N(){super.N(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sg(n){au.call(this),this.h=n,this.g={}}Ir(sg,au);var HL=[];function zL(n,e,t,r){Array.isArray(t)||(t&&(HL[0]=t.toString()),t=HL);for(var i=0;i<t.length;i++){var s=kL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function qL(n){UT(n.g,function(e,t){this.g.hasOwnProperty(t)&&zT(e)},n),n.g={}}function oE(){this.g=!0}function Hd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _Y(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return KT(t)}catch{return e}}(n,t)+(r?" "+r:"")})}sg.prototype.N=function(){sg.$.N.call(this),qL(this)},sg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oE.prototype.Ea=function(){this.g=!1},oE.prototype.info=function(){};var Pc={},GL=null;function aE(){return GL=GL||new br}function WL(n){ti.call(this,Pc.Ta,n)}function og(n){const e=aE();Fr(e,new WL(e))}function KL(n,e){ti.call(this,Pc.STAT_EVENT,n),this.stat=e}function mi(n){const e=aE();Fr(e,new KL(e,n))}function ZL(n,e){ti.call(this,Pc.Ua,n),this.size=e}function ag(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){n()},e)}Pc.Ta="serverreachability",Ir(WL,ti),Pc.STAT_EVENT="statevent",Ir(KL,ti),Pc.Ua="timingevent",Ir(ZL,ti);var uE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function JT(){}function JL(){}JT.prototype.h=null;var tD,ug={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function XT(){ti.call(this,"d")}function eD(){ti.call(this,"c")}function cE(){}function cg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new sg(this),this.P=yY,this.V=new sE(n=xT?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XL}function XL(){this.i=null,this.g="",this.h=!1}Ir(XT,ti),Ir(eD,ti),Ir(cE,JT),cE.prototype.g=function(){return new XMLHttpRequest},cE.prototype.i=function(){return{}},tD=new cE;var yY=45e3,eV={},nD={};function rD(n,e,t){n.L=1,n.A=fE(ra(e)),n.u=t,n.S=!0,tV(n,null)}function tV(n,e){n.G=Date.now(),lg(n),n.B=ra(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),dV(t.i,"t",r),n.o=0,t=n.l.J,n.h=new XL,n.g=kV(n.l,t?e:null,!n.u),0<n.O&&(n.M=new fY(ei(n.Pa,n,n.g),n.O)),zL(n.U,n.g,"readystatechange",n.nb),e=n.I?OL(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),og(),function pY(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var f=l[0];l=l[1];var g=f.split("_");o=2<=g.length&&"type"==g[1]?o+(f+"=")+l+"&":o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function nV(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function rV(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=vY(n,t),i==nD){4==e&&(n.s=4,mi(14),r=!1),Hd(n.j,n.m,null,"[Incomplete Response]");break}if(i==eV){n.s=4,mi(15),Hd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Hd(n.j,n.m,i,null),iD(n,i)}nV(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,mi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),dD(e),e.M=!0,mi(11))):(Hd(n.j,n.m,t,"[Invalid Chunked Response]"),Mc(n),dg(n))}function vY(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?nD:(t=Number(e.substring(t,r)),isNaN(t)?eV:(r+=1)+t>e.length?nD:(e=e.slice(r,r+t),n.o=r+t,e))}function lg(n){n.Y=Date.now()+n.P,iV(n,n.P)}function iV(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=ag(ei(n.lb,n),e)}function lE(n){n.C&&(Qe.clearTimeout(n.C),n.C=null)}function dg(n){0==n.l.H||n.J||RV(n.l,n)}function Mc(n){lE(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,QT(n.V),qL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function iD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||sD(t.i,n)))if(!n.K&&sD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;vE(t),_E(t)}lD(t),mi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=ag(ei(t.ib,t),6e3));if(1>=pV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Oc(t,11)}else if((n.K||t.g==n)&&vE(t),!eg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const f=l[3];null!=f&&(t.ra=f,t.l.info("VER="+t.ra));const g=l[4];null!=g&&(t.Ga=g,t.l.info("SVER="+t.Ga));const m=l[5];null!=m&&"number"==typeof m&&0<m&&(t.L=r=1.5*m,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const E=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||-1==E.indexOf("spdy")&&-1==E.indexOf("quic")&&-1==E.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(oD(s,s.h),s.h=null))}if(r.F){const b=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,ln(r.I,r.F,b))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=NV(r,r.J?r.pa:null,r.Y),o.K){gV(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(lE(a),lg(a)),r.g=o}else PV(r);0<t.j.length&&yE(t)}else"stop"!=l[0]&&"close"!=l[0]||Oc(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Oc(t,7):cD(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}og()}catch{}}function sV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Xv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function wY(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Xv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function EY(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Xv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(_e=cg.prototype).setTimeout=function(n){this.P=n},_e.nb=function(n){n=n.target;const e=this.M;e&&3==mo(n)?e.l():this.Pa(n)},_e.Pa=function(n){try{if(n==this.g)e:{const f=mo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>f)&&(3!=f||xT||this.g&&(this.h.h||this.g.ja()||bV(this.g)))){this.J||4!=f||7==e||og(),lE(this);var t=this.g.da();this.ca=t;t:if(nV(this)){var r=bV(this.g);n="";var i=r.length,s=4==mo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mc(this),dg(this);var o="";break t}this.h.i=new Qe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function gY(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,f,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!eg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.s=3,mi(12),Mc(this),dg(this);break e}Hd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iD(this,t)}this.S?(rV(this,f,o),xT&&this.i&&3==f&&(zL(this.U,this.V,"tick",this.mb),this.V.start())):(Hd(this.j,this.m,o,null),iD(this,o)),4==f&&Mc(this),this.i&&!this.J&&(4==f?RV(this.l,this):(this.i=!1,lg(this)))}else(function UY(n){const e={};n=(n.g&&2<=mo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(eg(n[r]))continue;var t=lY(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function rY(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,mi(12)):(this.s=0,mi(13)),Mc(this),dg(this)}}}catch{}},_e.mb=function(){if(this.g){var n=mo(this.g),e=this.g.ja();this.o<e.length&&(lE(this),rV(this,n,e),this.i&&4!=n&&lg(this))}},_e.cancel=function(){this.J=!0,Mc(this)},_e.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function mY(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(og(),mi(17)),Mc(this),this.s=2,dg(this)):iV(this,this.Y-n)};var oV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Rc){this.h=n.h,dE(this,n.j),this.s=n.s,this.g=n.g,hE(this,n.m),this.l=n.l;var e=n.i,t=new pg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),aV(this,t),this.o=n.o}else n&&(e=String(n).match(oV))?(this.h=!1,dE(this,e[1]||"",!0),this.s=hg(e[2]||""),this.g=hg(e[3]||"",!0),hE(this,e[4]),this.l=hg(e[5]||"",!0),aV(this,e[6]||"",!0),this.o=hg(e[7]||"")):(this.h=!1,this.i=new pg(null,this.h))}function ra(n){return new Rc(n)}function dE(n,e,t){n.j=t?hg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function hE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function aV(n,e,t){e instanceof pg?(n.i=e,function SY(n,e){e&&!n.j&&(uu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(cV(this,r),dV(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=fg(e,DY)),n.i=new pg(e,n.h))}function ln(n,e,t){n.i.set(e,t)}function fE(n){return ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,bY),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Rc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fg(e,uV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fg(e,uV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(fg(t,"/"==t.charAt(0)?TY:CY,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fg(t,AY)),n.join("")};var uV=/[#\/\?@]/g,CY=/[#\?:]/g,TY=/[#\?]/g,DY=/[#\?@]/g,AY=/#/g;function pg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uu(n){n.g||(n.g=new Map,n.h=0,n.i&&function IY(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cV(n,e){uu(n),e=zd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lV(n,e){return uu(n),e=zd(n,e),n.g.has(e)}function dV(n,e,t){cV(n,e),0<t.length&&(n.i=null,n.g.set(zd(n,e),RT(t)),n.h+=t.length)}function zd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function hV(n){this.l=n||MY,n=Qe.PerformanceNavigationTiming?0<(n=Qe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qe.g&&Qe.g.Ka&&Qe.g.Ka()&&Qe.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=pg.prototype).add=function(n,e){uu(this),this.i=null,n=zd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(n,e){uu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},_e.ta=function(){uu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},_e.Z=function(n){uu(this);let e=[];if("string"==typeof n)lV(this,n)&&(e=e.concat(this.g.get(zd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_e.set=function(n,e){return uu(this),this.i=null,lV(this,n=zd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var MY=10;function fV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pV(n){return n.h?1:n.g?n.g.size:0}function sD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function oD(n,e){n.g?n.g.add(e):n.h=e}function gV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function mV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return RT(n.i)}hV.prototype.cancel=function(){if(this.i=mV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var RY=class{stringify(n){return Qe.JSON.stringify(n,void 0)}parse(n){return Qe.JSON.parse(n,void 0)}};function OY(){this.g=new RY}function xY(n,e,t){const r=t||"";try{sV(n,function(i,s){let o=i;Xp(i)&&(o=KT(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function gg(n){this.l=n.ec||null,this.j=n.ob||!1}function gE(n,e){br.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=aD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ir(gg,JT),gg.prototype.g=function(){return new gE(this.l,this.j)},gg.prototype.i=function(n){return function(){return n}}({}),Ir(gE,br);var aD=0;function _V(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function mg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_g(n)}function _g(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_e=gE.prototype).open=function(n,e){if(this.readyState!=aD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_g(this)},_e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mg(this)),this.readyState=aD},_e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_g(this)),this.g&&(this.readyState=3,_g(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_V(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mg(this):_g(this),3==this.readyState&&_V(this)}},_e.Za=function(n){this.g&&(this.response=this.responseText=n,mg(this))},_e.Ya=function(n){this.g&&(this.response=n,mg(this))},_e.ka=function(){this.g&&mg(this)},_e.setRequestHeader=function(n,e){this.v.append(n,e)},_e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(gE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kY=Qe.JSON.parse;function Mn(n){br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yV,this.L=this.M=!1}Ir(Mn,br);var yV="",FY=/^https?$/i,LY=["POST","PUT"];function vV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,EV(n),mE(n)}function EV(n){n.F||(n.F=!0,Fr(n,"complete"),Fr(n,"error"))}function wV(n){if(n.h&&typeof PT<"u"&&(!n.C[1]||4!=mo(n)||2!=n.da()))if(n.v&&4==mo(n))YT(n.La,0,n);else if(Fr(n,"readystatechange"),4==mo(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(oV)[1]||null;!i&&Qe.self&&Qe.self.location&&(i=Qe.self.location.protocol.slice(0,-1)),r=!FY.test(i?i.toLowerCase():"")}t=r}if(t)Fr(n,"complete"),Fr(n,"success");else{n.m=6;try{var s=2<mo(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",EV(n)}}finally{mE(n)}}}function mE(n,e){if(n.g){IV(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Fr(n,"ready");try{t.onreadystatechange=r}catch{}}}function IV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qe.clearTimeout(n.A),n.A=null)}function mo(n){return n.g?n.g.readyState:0}function bV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case yV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function CV(n){let e="";return UT(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function uD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=CV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ln(n,e,t))}function yg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function TV(n){this.Ga=0,this.j=[],this.l=new oE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=yg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=yg("baseRetryDelayMs",5e3,n),this.hb=yg("retryDelaySeedMs",1e4,n),this.eb=yg("forwardChannelMaxRetries",2,n),this.xa=yg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new hV(n&&n.concurrentRequestLimit),this.Ja=new OY,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function cD(n){if(DV(n),3==n.H){var e=n.W++,t=ra(n.I);if(ln(t,"SID",n.K),ln(t,"RID",e),ln(t,"TYPE","terminate"),vg(n,t),(e=new cg(n,n.l,e)).L=2,e.A=fE(ra(t)),t=!1,Qe.navigator&&Qe.navigator.sendBeacon)try{t=Qe.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&Qe.Image&&((new Image).src=e.A,t=!0),t||(e.g=kV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),lg(e)}xV(n)}function _E(n){n.g&&(dD(n),n.g.cancel(),n.g=null)}function DV(n){_E(n),n.u&&(Qe.clearTimeout(n.u),n.u=null),vE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qe.clearTimeout(n.m),n.m=null)}function yE(n){if(!fV(n.i)&&!n.m){n.m=!0;var e=n.Na;rg||jL(),ig||(rg(),ig=!0),ZT.add(e,n),n.C=0}}function AV(n,e){var t;t=e?e.m:n.W++;const r=ra(n.I);ln(r,"SID",n.K),ln(r,"RID",t),ln(r,"AID",n.V),vg(n,r),n.o&&n.s&&uD(r,n.o,n.s),t=new cg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=SV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),oD(n.i,t),rD(t,r,e)}function vg(n,e){n.na&&UT(n.na,function(t,r){ln(e,r,t)}),n.h&&sV({},function(t,r){ln(e,r,t)})}function SV(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ei(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].g;const f=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{xY(f,o,"req"+l+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function PV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;rg||jL(),ig||(rg(),ig=!0),ZT.add(e,n),n.A=0}}function lD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ag(ei(n.Ma,n),OV(n,n.A)),n.A++,0))}function dD(n){null!=n.B&&(Qe.clearTimeout(n.B),n.B=null)}function MV(n){n.g=new cg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ra(n.wa);ln(e,"RID","rpc"),ln(e,"SID",n.K),ln(e,"AID",n.V),ln(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ln(e,"TO",n.qa),ln(e,"TYPE","xmlhttp"),vg(n,e),n.o&&n.s&&uD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=fE(ra(e)),t.u=null,t.S=!0,tV(t,n)}function vE(n){null!=n.v&&(Qe.clearTimeout(n.v),n.v=null)}function RV(n,e){var t=null;if(n.g==e){vE(n),dD(n),n.g=null;var r=2}else{if(!sD(n.i,e))return;t=e.F,gV(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Fr(r=aE(),new ZL(r,t)),yE(n)}else PV(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function BY(n,e){return!(pV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ag(ei(n.Na,n,e),OV(n,n.C)),n.C++,0)))}(n,e)||2==r&&lD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Oc(n,5);break;case 4:Oc(n,10);break;case 3:Oc(n,6);break;default:Oc(n,2)}}function OV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Oc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ei(n.pb,n);t||(t=new Rc("//www.google.com/images/cleardot.gif"),Qe.location&&"http"==Qe.location.protocol||dE(t,"https"),fE(t)),function NY(n,e){const t=new oE;if(Qe.Image){const r=new Image;r.onload=eE(pE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=eE(pE,t,r,"TestLoadImage: error",!1,e),r.onabort=eE(pE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=eE(pE,t,r,"TestLoadImage: timeout",!1,e),Qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else mi(2);n.H=0,n.h&&n.h.za(e),xV(n),DV(n)}function xV(n){if(n.H=0,n.ma=[],n.h){const e=mV(n.i);(0!=e.length||0!=n.j.length)&&(AL(n.ma,e),AL(n.ma,n.j),n.i.i.length=0,RT(n.j),n.j.length=0),n.h.ya()}}function NV(n,e,t){var r=t instanceof Rc?ra(t):new Rc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),hE(r,r.m);else{var i=Qe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Rc(null);r&&dE(s,r),e&&(s.g=e),i&&hE(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ln(r,t,e),ln(r,"VER",n.ra),vg(n,r),r}function kV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mn(n.Ha&&!n.va?new gg({ob:t}):n.va)).Oa(n.J),e}function FV(){}function EE(){if($d&&!(10<=Number(XQ)))throw Error("Environmental error: no available transport.")}function Qi(n,e){br.call(this),this.g=new TV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!eg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!eg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qd(this)}function LV(n){XT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function VV(){eD.call(this),this.status=1}function qd(n){this.g=n}function qs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hD(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ut(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(_e=Mn.prototype).Oa=function(n){this.M=n},_e.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tD.g(),this.C=function YL(n){return n.h||(n.h=n.i())}(this.u?this.u:tD),this.g.onreadystatechange=ei(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void vV(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Qe.FormData&&n instanceof Qe.FormData,!(0<=DL(LY,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{IV(this),0<this.B&&((this.L=function VY(n){return $d&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ei(this.ua,this)):this.A=YT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){vV(this,s)}},_e.ua=function(){typeof PT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))},_e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fr(this,"complete"),Fr(this,"abort"),mE(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mE(this,!0)),Mn.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?wV(this):this.kb())},_e.kb=function(){wV(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<mo(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),kY(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=TV.prototype).ra=8,_e.H=1,_e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new cg(this,this.l,n);let s=this.s;if(this.U&&(s?(s=OL(s),NL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=SV(this,i,e),ln(t=ra(this.I),"RID",n),ln(t,"CVER",22),this.F&&ln(t,"X-HTTP-Session-Id",this.F),vg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(CV(s)))+"&"+e:this.o&&uD(t,this.o,s)),oD(this.i,i),this.bb&&ln(t,"TYPE","init"),this.P?(ln(t,"$req",e),ln(t,"SID","null"),i.aa=!0,rD(i,t,null)):rD(i,t,e),this.H=2}}else 3==this.H&&(n?AV(this,n):0==this.j.length||fV(this.i)||AV(this))},_e.Ma=function(){if(this.u=null,MV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ag(ei(this.jb,this),n)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mi(10),_E(this),MV(this))},_e.ib=function(){null!=this.v&&(this.v=null,_E(this),lD(this),mi(19))},_e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),mi(2)):(this.l.info("Failed to ping google.com"),mi(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=FV.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},EE.prototype.g=function(n,e){return new Qi(n,e)},Ir(Qi,br),Qi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;mi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=NV(n,null,n.Y),yE(n)},Qi.prototype.close=function(){cD(this.g)},Qi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=KT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&yE(e)},Qi.prototype.N=function(){this.g.h=null,delete this.j,cD(this.g),delete this.g,Qi.$.N.call(this)},Ir(LV,XT),Ir(VV,eD),Ir(qd,FV),qd.prototype.Ba=function(){Fr(this.g,"a")},qd.prototype.Aa=function(n){Fr(this.g,new LV(n))},qd.prototype.za=function(n){Fr(this.g,new VV)},qd.prototype.ya=function(){Fr(this.g,"b")},Ir(qs,function jY(){this.blockSize=-1}),qs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)hD(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){hD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){hD(this,r),i=0;break}}this.h=i,this.i+=e},qs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var $Y={};function fD(n){return-128<=n&&128>n?function QQ(n,e){var t=$Y;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ut([0|e],0>e?-1:0)}):new Ut([0|n],0>n?-1:0)}function _o(n){if(isNaN(n)||!isFinite(n))return Gd;if(0>n)return Lr(_o(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=pD;return new Ut(e,0)}var pD=4294967296,Gd=fD(0),gD=fD(1),BV=fD(16777216);function ia(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ms(n){return-1==n.h}function Lr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ut(t,~n.h).add(gD)}function wE(n,e){return n.add(Lr(e))}function IE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Eg(n,e){this.g=n,this.h=e}function bE(n,e){if(ia(e))throw Error("division by zero");if(ia(n))return new Eg(Gd,Gd);if(ms(n))return e=bE(Lr(n),e),new Eg(Lr(e.g),Lr(e.h));if(ms(e))return e=bE(n,Lr(e)),new Eg(Lr(e.g),e.h);if(30<n.g.length){if(ms(n)||ms(e))throw Error("slowDivide_ only works with positive integers.");for(var t=gD,r=e;0>=r.X(n);)t=jV(t),r=jV(r);var i=Wd(t,1),s=Wd(r,1);for(r=Wd(r,2),t=Wd(t,2);!ia(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Wd(r,1),t=Wd(t,1)}return e=wE(n,i.R(e)),new Eg(i,e)}for(i=Gd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=_o(t)).R(e);ms(o)||0<o.X(n);)o=(s=_o(t-=r)).R(e);ia(s)&&(s=gD),i=i.add(s),n=wE(n,o)}return new Eg(i,n)}function jV(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ut(t,n.h)}function Wd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ut(i,n.h)}(_e=Ut.prototype).ea=function(){if(ms(this))return-Lr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:pD+r)*e,e*=pD}return n},_e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ia(this))return"0";if(ms(this))return"-"+Lr(this).toString(n);for(var e=_o(Math.pow(n,6)),t=this,r="";;){var i=bE(t,e).g,s=((0<(t=wE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ia(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},_e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_e.X=function(n){return ms(n=wE(this,n))?-1:ia(n)?0:1},_e.abs=function(){return ms(this)?Lr(this):this},_e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Ut(t,-2147483648&t[t.length-1]?-1:0)},_e.R=function(n){if(ia(this)||ia(n))return Gd;if(ms(this))return ms(n)?Lr(this).R(Lr(n)):Lr(Lr(this).R(n));if(ms(n))return Lr(this.R(Lr(n)));if(0>this.X(BV)&&0>n.X(BV))return _o(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,IE(t,2*r+2*i),t[2*r+2*i+1]+=s*u,IE(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,IE(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,IE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ut(t,0)},_e.gb=function(n){return bE(this,n).h},_e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ut(t,this.h&n.h)},_e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ut(t,this.h|n.h)},_e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ut(t,this.h^n.h)},EE.prototype.createWebChannel=EE.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,uE.NO_ERROR=0,uE.TIMEOUT=8,uE.HTTP_ERROR=6,QL.COMPLETE="complete",JL.EventType=ug,ug.OPEN="a",ug.CLOSE="b",ug.ERROR="c",ug.MESSAGE="d",br.prototype.listen=br.prototype.O,Mn.prototype.listenOnce=Mn.prototype.P,Mn.prototype.getLastError=Mn.prototype.Sa,Mn.prototype.getLastErrorCode=Mn.prototype.Ia,Mn.prototype.getStatus=Mn.prototype.da,Mn.prototype.getResponseJson=Mn.prototype.Wa,Mn.prototype.getResponseText=Mn.prototype.ja,Mn.prototype.send=Mn.prototype.ha,Mn.prototype.setWithCredentials=Mn.prototype.Oa,qs.prototype.digest=qs.prototype.l,qs.prototype.reset=qs.prototype.reset,qs.prototype.update=qs.prototype.j,Ut.prototype.add=Ut.prototype.add,Ut.prototype.multiply=Ut.prototype.R,Ut.prototype.modulo=Ut.prototype.gb,Ut.prototype.compare=Ut.prototype.X,Ut.prototype.toNumber=Ut.prototype.ea,Ut.prototype.toString=Ut.prototype.toString,Ut.prototype.getBits=Ut.prototype.D,Ut.fromNumber=_o,Ut.fromString=function UV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Lr(UV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=_o(Math.pow(e,8)),r=Gd,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=_o(Math.pow(e,s)),r=r.R(s).add(_o(o))):r=(r=r.R(t)).add(_o(o))}return r};var HY=zs.createWebChannelTransport=function(){return new EE},zY=zs.getStatEventTarget=function(){return aE()},mD=zs.ErrorCode=uE,qY=zs.EventType=QL,GY=zs.Event=Pc,$V=zs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},CE=(zs.FetchXmlHttpFactory=gg,zs.WebChannel=JL),WY=zs.XhrIo=Mn,KY=zs.Md5=qs,Kd=zs.Integer=Ut;const HV="@firebase/firestore";class Cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");let Zd="10.11.0";const cu=new po.Yd("@firebase/firestore");function Qd(){return cu.logLevel}function ne(n,...e){if(cu.logLevel<=po.in.DEBUG){const t=e.map(_D);cu.debug(`Firestore (${Zd}): ${n}`,...t)}}function Bn(n,...e){if(cu.logLevel<=po.in.ERROR){const t=e.map(_D);cu.error(`Firestore (${Zd}): ${n}`,...t)}}function ki(n,...e){if(cu.logLevel<=po.in.WARN){const t=e.map(_D);cu.warn(`Firestore (${Zd}): ${n}`,...t)}}function _D(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ie(n="Unexpected state"){const e=`FIRESTORE (${Zd}) INTERNAL ASSERTION FAILED: `+n;throw Bn(e),new Error(e)}function De(n,e){n||Ie()}function he(n,e){return n}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Mt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cr.UNAUTHENTICATED))}shutdown(){}}class JY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XY{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,Z.Z)(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De("string"==typeof r.accessToken),new zV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(null===e||"string"==typeof e),new Cr(e)}}class eJ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tJ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new eJ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(De("string"==typeof t.token),this.R=t.token,new qV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class GV{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=rJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function Yd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function WV(n){return n+"\0"}class vn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ee(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vn.fromMillis(Date.now())}static fromDate(e){return vn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new vn(0,0))}static max(){return new Pe(new vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wg{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ie(),void 0===r?r=e.length-t:r>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===wg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ft extends wg{construct(e,t,r){return new ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const iJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends wg{construct(e,t,r){return new dn(e,t,r)}static isValidIdentifier(e){return iJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ee(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ee(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ee(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ft.fromString(e))}static fromName(e){return new pe(ft.fromString(e).popFirst(5))}static empty(){return new pe(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ft.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ft(e.slice()))}}class Jd{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function yD(n){return n.fields.find(e=>2===e.kind)}function xc(n){return n.fields.filter(e=>2!==e.kind)}Jd.UNKNOWN_ID=-1;class Nc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xd(0,Yi.min())}}function KV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(1e9===r?new vn(t+1,0):new vn(t,r));return new Yi(i,pe.empty(),e)}function ZV(n){return new Yi(n.readTime,n.key,-1)}class Yi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yi(Pe.min(),pe.empty(),-1)}static max(){return new Yi(Pe.max(),pe.empty(),-1)}}function vD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:Ke(n.largestBatchId,e.largestBatchId))}const QV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lu(n){return ED.apply(this,arguments)}function ED(){return ED=(0,Z.Z)(function*(n){if(n.code!==L.FAILED_PRECONDITION||n.message!==QV)throw n;ne("LocalStore","Unexpectedly lost primary lease")}),ED.apply(this,arguments)}class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof N?t:N.resolve(t)}catch(t){return N.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):N.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):N.reject(t)}static resolve(e){return new N((t,r)=>{t(e)})}static reject(e){return new N((t,r)=>{r(e)})}static waitFor(e){return new N((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=N.resolve(!1);for(const r of e)t=t.next(i=>i?N.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(f=>{o[l]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new N((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class TE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new cr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ig(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=wD(r.target.error);this.V.reject(new Ig(e,i))}}static open(e,t,r,i){try{return new TE(t,e.transaction(i,r))}catch(s){throw new Ig(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new uJ(t)}}class _s{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===_s.S((0,Mt.z$)())&&Bn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ne("SimpleDb","Removing database:",e),kc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Mt.hl)())return!1;if(_s.C())return!0;const e=(0,Mt.z$)(),t=_s.S(e),r=0<t&&t<10,i=_s.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,Z.Z)(function*(){return t.db||(ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new Ig(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new ee(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ee(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Ig(e,a))},s.onupgradeneeded=o=>{ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.L&&(t.db.onversionchange=r=>t.L(r)),t.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,Z.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=TE.open(s.db,e,o?"readonly":"readwrite",r),l=i(u).next(f=>(u.g(),f)).catch(f=>(u.abort(f),N.reject(f))).toPromise();return l.catch(()=>{}),yield u.m,l}catch(u){const l=u,f="FirebaseError"!==l.name&&a<3;if(ne("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),s.close(),!f)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aJ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return kc(this.k.delete())}}class Ig extends ee{constructor(e,t){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function du(n){return"IndexedDbTransactionError"===n.name}class uJ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kc(r)}add(e){return ne("SimpleDb","ADD",this.store.name,e,e),kc(this.store.add(e))}get(e){return kc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ne("SimpleDb","DELETE",this.store.name,e),kc(this.store.delete(e))}count(){return ne("SimpleDb","COUNT",this.store.name),kc(this.store.count())}W(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const s=i.getAll(r.range);return new N((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new N((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new N((r,i)=>{t.onerror=s=>{const o=wD(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new N((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new aJ(a),l=t(a.primaryKey,a.value,u);if(l instanceof N){const f=l.catch(g=>(u.done(),N.reject(g)));r.push(f)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>N.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function kc(n){return new N((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=wD(r.target.error);t(i)}})}let JV=!1;function wD(n){const e=_s.S((0,Mt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JV||(JV=!0,setTimeout(()=>{throw r},0)),r}}return n}class cJ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;ne("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Z.Z)(function*(){t.task=null;try{ne("IndexBackfiller",`Documents written: ${yield t.X.te()}`)}catch(r){du(r)?ne("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield lu(r)}yield t.ee(6e4)}))}}class lJ{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,Z.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return N.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return ne("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(ne("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=ZV(s);vD(o,r)>0&&(r=o)}),new Yi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ji=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function bg(n){return null==n}function Cg(n){return 0===n&&1/n==-1/0}function XV(n){return"number"==typeof n&&Number.isInteger(n)&&!Cg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ni(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=e2(e)),e=dJ(n.get(t),e);return e2(e)}function dJ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function e2(n){return n+"\x01\x01"}function yo(n){const e=n.length;if(De(e>=2),2===e)return De("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ft.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Ie(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:Ie()}s=o+2}return new ft(r)}const t2=["userId","batchId"];function DE(n,e){return[n,ni(e)]}function n2(n,e,t){return[n,ni(e),t]}const hJ={},fJ=["prefixPath","collectionGroup","readTime","documentId"],pJ=["prefixPath","collectionGroup","documentId"],gJ=["collectionGroup","readTime","prefixPath","documentId"],mJ=["canonicalId","targetId"],_J=["targetId","path"],yJ=["path","targetId"],vJ=["collectionId","parent"],EJ=["indexId","uid"],wJ=["uid","sequenceNumber"],IJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bJ=["indexId","uid","orderedDocumentKey"],CJ=["userId","collectionPath","documentId"],TJ=["userId","collectionPath","largestBatchId"],DJ=["userId","collectionGroup","largestBatchId"],r2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AJ=[...r2,"documentOverlays"],i2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],s2=i2,o2=[...s2,"indexConfiguration","indexState","indexEntries"],SJ=o2;class ID extends YV{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Tr(n,e){const t=he(n);return _s.M(t.ae,e)}function a2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rn{constructor(e,t){this.comparator=e,this.root=t||Vr.EMPTY}insert(e,t){return new rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new AE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new AE(this.root,e,this.comparator,!1)}getReverseIterator(){return new AE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new AE(this.root,e,this.comparator,!0)}}class AE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Vr.RED,this.left=i??Vr.EMPTY,this.right=s??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Vr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Vr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Vr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new c2(this.data.getIterator())}getIteratorFrom(e){return new c2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class c2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eh(n){return n.hasNext()?n.getNext():void 0}class Fi{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Fi([])}unionWith(e){let t=new Zt(dn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class l2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new l2("Invalid base64 string: "+s):s}}(e);return new lr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const MJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(n){if(De(!!n),"string"==typeof n){let e=0;const t=MJ.exec(n);if(De(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(n.seconds),nanos:Rn(n.nanos)}}function Rn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function oa(n){return"string"==typeof n?lr.fromBase64String(n):lr.fromUint8Array(n)}function SE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function PE(n){const e=n.mapValue.fields.__previous_value__;return SE(e)?PE(e):e}function Tg(n){const e=sa(n.mapValue.fields.__local_write_time__.timestampValue);return new vn(e.seconds,e.nanos)}class RJ{constructor(e,t,r,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class fu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}const pu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ME={nullValue:"NULL_VALUE"};function gu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?SE(n)?4:p2(n)?9007199254740991:10:Ie()}function vo(n,e){if(n===e)return!0;const t=gu(n);if(t!==gu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tg(n).isEqual(Tg(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=sa(i.timestampValue),a=sa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,oa(n.bytesValue).isEqual(oa(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Rn(i.geoPointValue.latitude)===Rn(s.geoPointValue.latitude)&&Rn(i.geoPointValue.longitude)===Rn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Rn(i.integerValue)===Rn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Rn(i.doubleValue),a=Rn(s.doubleValue);return o===a?Cg(o)===Cg(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Yd(n.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(a2(o)!==a2(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!vo(o[u],a[u])))return!1;return!0}(n,e);default:return Ie()}var s}function Dg(n,e){return void 0!==(n.values||[]).find(t=>vo(t,e))}function mu(n,e){if(n===e)return 0;const t=gu(n),r=gu(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Rn(s.integerValue||s.doubleValue),u=Rn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return d2(n.timestampValue,e.timestampValue);case 4:return d2(Tg(n),Tg(e));case 5:return Ke(n.stringValue,e.stringValue);case 6:return function(s,o){const a=oa(s),u=oa(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const f=Ke(a[l],u[l]);if(0!==f)return f}return Ke(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ke(Rn(s.latitude),Rn(o.latitude));return 0!==a?a:Ke(Rn(s.longitude),Rn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const f=mu(a[l],u[l]);if(f)return f}return Ke(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===pu.mapValue&&o===pu.mapValue)return 0;if(s===pu.mapValue)return 1;if(o===pu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const m=Ke(u[g],f[g]);if(0!==m)return m;const y=mu(a[u[g]],l[f[g]]);if(0!==y)return y}return Ke(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function d2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ke(n,e);const t=sa(n),r=sa(e),i=Ke(t.seconds,r.seconds);return 0!==i?i:Ke(t.nanos,r.nanos)}function th(n){return bD(n)}function bD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=sa(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?oa(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=bD(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${bD(t.fields[o])}`;return i+"}"}(n.mapValue):Ie()}function Fc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function CD(n){return!!n&&"integerValue"in n}function Ag(n){return!!n&&"arrayValue"in n}function h2(n){return!!n&&"nullValue"in n}function f2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function OE(n){return!!n&&"mapValue"in n}function Sg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return hu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Sg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function p2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function OJ(n){return"nullValue"in n?ME:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fc(fu.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ie()}function xJ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fc(fu.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pu:Ie()}function g2(n,e){const t=mu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function m2(n,e){const t=mu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!OE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sg(t)}setAll(e){let t=dn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Sg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());OE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];OE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){hu(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ur(Sg(this.value))}}function _2(n){const e=[];return hu(n.fields,(t,r)=>{const i=new dn([t]);if(OE(r)){const s=_2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fi(e)}class hn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,Pe.min(),Pe.min(),Pe.min(),Ur.empty(),0)}static newFoundDocument(e,t,r,i){return new hn(e,1,t,Pe.min(),r,i,0)}static newNoDocument(e,t){return new hn(e,2,t,Pe.min(),Pe.min(),Ur.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Pe.min(),Pe.min(),Ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _u{constructor(e,t){this.position=e,this.inclusive=t}}function y2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?pe.comparator(pe.fromName(o.referenceValue),t.key):mu(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function v2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vo(n.position[t],e.position[t]))return!1;return!0}class Pg{constructor(e,t="asc"){this.field=e,this.dir=t}}function NJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class E2{}class pt extends E2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new kJ(e,t,r):"array-contains"===t?new VJ(e,r):"in"===t?new D2(e,r):"not-in"===t?new UJ(e,r):"array-contains-any"===t?new BJ(e,r):new pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new FJ(e,r):new LJ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mu(t,this.value)):null!==t&&gu(this.value)===gu(t)&&this.matchesComparison(mu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bt extends E2{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Bt(e,t)}matches(e){return nh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function nh(n){return"and"===n.op}function TD(n){return"or"===n.op}function DD(n){return w2(n)&&nh(n)}function w2(n){for(const e of n.filters)if(e instanceof Bt)return!1;return!0}function AD(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+th(n.value);if(DD(n))return n.filters.map(e=>AD(e)).join(",");{const e=n.filters.map(t=>AD(t)).join(",");return`${n.op}(${e})`}}function I2(n,e){return n instanceof pt?(r=n,(i=e)instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&vo(r.value,i.value)):n instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&I2(o,i.filters[a]),!0)}(n,e):void Ie();var r,i}function b2(n,e){const t=n.filters.concat(e);return Bt.create(t,n.op)}function C2(n){return n instanceof pt?`${(t=n).field.canonicalString()} ${t.op} ${th(t.value)}`:n instanceof Bt?function(t){return t.op.toString()+" {"+t.getFilters().map(C2).join(" ,")+"}"}(n):"Filter";var t}class kJ extends pt{constructor(e,t,r){super(e,t,r),this.key=pe.fromName(r.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class FJ extends pt{constructor(e,t){super(e,"in",t),this.keys=T2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LJ extends pt{constructor(e,t){super(e,"not-in",t),this.keys=T2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function T2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>pe.fromName(r.referenceValue))}class VJ extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ag(t)&&Dg(t.arrayValue,this.value)}}class D2 extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dg(this.value.arrayValue,t)}}class UJ extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dg(this.value.arrayValue,t)}}class BJ extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dg(this.value.arrayValue,r))}}class jJ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function SD(n,e=null,t=[],r=[],i=null,s=null,o=null){return new jJ(n,e,t,r,i,s,o)}function Lc(n){const e=he(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>AD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),bg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>th(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>th(r)).join(",")),e.ce=t}return e.ce}function Mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!I2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!v2(n.startAt,e.startAt)&&v2(n.endAt,e.endAt)}function xE(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function NE(n,e){return n.filters.filter(t=>t instanceof pt&&t.field.isEqual(e))}function A2(n,e,t){let r=ME,i=!0;for(const s of NE(n,e)){let o=ME,a=!0;switch(s.op){case"<":case"<=":o=OJ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ME}g2({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];g2({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function S2(n,e,t){let r=pu,i=!0;for(const s of NE(n,e)){let o=pu,a=!0;switch(s.op){case">=":case">":o=xJ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=pu}m2({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];m2({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class aa{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function P2(n,e,t,r,i,s,o,a){return new aa(n,e,t,r,i,s,o,a)}function rh(n){return new aa(n)}function M2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function PD(n){return null!==n.collectionGroup}function ih(n){const e=he(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Zt(dn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Pg(s,r))}),t.has(dn.keyField().canonicalString())||e.le.push(new Pg(dn.keyField(),r))}return e.le}function _i(n){const e=he(n);return e.he||(e.he=function R2(n,e){if("F"===n.limitType)return SD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Pg(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new _u(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _u(n.startAt.position,n.startAt.inclusive):null;return SD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,ih(n))),e.he}function MD(n,e){const t=n.filters.concat([e]);return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function kE(n,e,t){return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rg(n,e){return Mg(_i(n),_i(e))&&n.limitType===e.limitType}function O2(n){return`${Lc(_i(n))}|lt:${n.limitType}`}function sh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>C2(i)).join(", ")}]`),bg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>th(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>th(i)).join(",")),`Target(${r})`}(_i(n))}; limitType=${n.limitType})`}function Og(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ih(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,u){const l=y2(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,ih(r),i)||r.endAt&&!function(o,a,u){const l=y2(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,ih(r),i)));var r,i}function x2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N2(n){return(e,t)=>{let r=!1;for(const i of ih(n)){const s=$J(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function $J(n,e,t){const r=n.field.isKeyField()?pe.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return null!==u&&null!==l?mu(u,l):Ie()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}class ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hu(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return u2(this.inner)}size(){return this.innerSize}}const HJ=new rn(pe.comparator);function Li(){return HJ}const k2=new rn(pe.comparator);function xg(...n){let e=k2;for(const t of n)e=e.insert(t.key,t);return e}function F2(n){let e=k2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Eo(){return Ng()}function L2(){return Ng()}function Ng(){return new ua(n=>n.toString(),(n,e)=>n.isEqual(e))}const zJ=new rn(pe.comparator),qJ=new Zt(pe.comparator);function tt(...n){let e=qJ;for(const t of n)e=e.add(t);return e}const GJ=new Zt(Ke);function RD(){return GJ}function V2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cg(e)?"-0":e}}function U2(n){return{integerValue:""+n}}function B2(n,e){return XV(e)?U2(e):V2(n,e)}class FE{constructor(){this._=void 0}}function WJ(n,e,t){return n instanceof oh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&SE(s)&&(s=PE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Vc?$2(n,e):n instanceof Uc?H2(n,e):function(i,s){const o=j2(i,s),a=z2(o)+z2(i.Ie);return CD(o)&&CD(i.Ie)?U2(a):V2(i.serializer,a)}(n,e)}function KJ(n,e,t){return n instanceof Vc?$2(n,e):n instanceof Uc?H2(n,e):t}function j2(n,e){return n instanceof ah?CD(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class oh extends FE{}class Vc extends FE{constructor(e){super(),this.elements=e}}function $2(n,e){const t=q2(e);for(const r of n.elements)t.some(i=>vo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Uc extends FE{constructor(e){super(),this.elements=e}}function H2(n,e){let t=q2(e);for(const r of n.elements)t=t.filter(i=>!vo(i,r));return{arrayValue:{values:t}}}class ah extends FE{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function z2(n){return Rn(n.integerValue||n.doubleValue)}function q2(n){return Ag(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kg{constructor(e,t){this.field=e,this.transform=t}}class QJ{constructor(e,t){this.version=e,this.transformResults=t}}class En{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function LE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class VE{}function G2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ch(n.key,En.none()):new uh(n.key,n.data,En.none());{const t=n.data,r=Ur.empty();let i=new Zt(dn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ca(n.key,r,new Fi(i.toArray()),En.none())}}function YJ(n,e,t){n instanceof uh?function(i,s,o){const a=i.value.clone(),u=Z2(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ca?function(i,s,o){if(!LE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Z2(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(K2(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fg(n,e,t,r){return n instanceof uh?function(s,o,a,u){if(!LE(s.precondition,o))return a;const l=s.value.clone(),f=Q2(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ca?function(s,o,a,u){if(!LE(s.precondition,o))return a;const l=Q2(s.fieldTransforms,u,o),f=o.data;return f.setAll(K2(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):(a=t,LE(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function JJ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=j2(r.transform,i||null);null!=s&&(null===t&&(t=Ur.empty()),t.set(r.field,s))}return t||null}function W2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Yd(r,i,(s,o)=>function ZJ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Vc&&i instanceof Vc||r instanceof Uc&&i instanceof Uc?Yd(r.elements,i.elements,vo):r instanceof ah&&i instanceof ah?vo(r.Ie,i.Ie):r instanceof oh&&i instanceof oh);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class uh extends VE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ca extends VE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Z2(n,e,t){const r=new Map;De(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,KJ(o,a,t[i]))}return r}function Q2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,WJ(s,o,e))}return r}class ch extends VE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OD extends VE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&YJ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=L2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=G2(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Yd(this.mutations,e.mutations,(t,r)=>W2(t,r))&&Yd(this.baseMutations,e.baseMutations,(t,r)=>W2(t,r))}}class ND{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){De(e.mutations.length===r.length);let i=zJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ND(e,t,r,i)}}class kD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class eX{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jn,vt;function Y2(n){switch(n){default:return Ie();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function J2(n){if(void 0===n)return Bn("GRPC error has no .code"),L.UNKNOWN;switch(n){case Jn.OK:return L.OK;case Jn.CANCELLED:return L.CANCELLED;case Jn.UNKNOWN:return L.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return L.INTERNAL;case Jn.UNAVAILABLE:return L.UNAVAILABLE;case Jn.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Jn.NOT_FOUND:return L.NOT_FOUND;case Jn.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Jn.ABORTED:return L.ABORTED;case Jn.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Jn.DATA_LOSS:return L.DATA_LOSS;default:return Ie()}}(vt=Jn||(Jn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";function X2(){return new TextEncoder}const tX=new Kd([4294967295,4294967295],0);function eU(n){const e=X2().encode(n),t=new KY;return t.update(e),new Uint8Array(t.digest())}function tU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Kd([t,r],0),new Kd([i,s],0)]}class FD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Lg(`Invalid padding: ${t}`);if(r<0)throw new Lg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Lg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Lg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Kd.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Kd.fromNumber(r)));return 1===i.compare(tX)&&(i=new Kd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=eU(e),[r,i]=tU(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new FD(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=eU(e),[r,i]=tU(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Lg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vg{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ug.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Vg(Pe.min(),i,new rn(Ke),Li(),tt())}}class Ug{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ug(r,t,tt(),tt(),tt())}}class BE{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class nU{constructor(e,t){this.targetId=e,this.fe=t}}class rU{constructor(e,t,r=lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class iU{constructor(){this.ge=0,this.pe=oU(),this.ye=lr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=tt(),t=tt(),r=tt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Ug(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=oU()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,De(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class nX{constructor(e){this.Be=e,this.ke=new Map,this.qe=Li(),this.Qe=sU(),this.Ke=new rn(Ke)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(xE(s))if(0===r){const o=new pe(s.path);this.We(t,o,hn.newNoDocument(o,Pe.min()))}else De(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=oa(r).toUint8Array()}catch(u){if(u instanceof l2)return ki("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new FD(o,i,s)}catch(u){return ki(u instanceof Lg?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&xE(a.target)){const u=new pe(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,hn.newNoDocument(u,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=tt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Vg(e,t,this.Ke,this.qe,r);return this.qe=Li(),this.Qe=sU(),this.Ke=new rn(Ke),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new iU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Zt(Ke),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ne("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new iU),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function sU(){return new rn(pe.comparator)}function oU(){return new rn(pe.comparator)}const rX={asc:"ASCENDING",desc:"DESCENDING"},iX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sX={and:"AND",or:"OR"};class oX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function LD(n,e){return n.useProto3Json||bg(e)?e:{value:e}}function lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aX(n,e){return lh(n,e.toTimestamp())}function jn(n){return De(!!n),Pe.fromTimestamp(function(t){const r=sa(t);return new vn(r.seconds,r.nanos)}(n))}function VD(n,e){return UD(n,e).canonicalString()}function UD(n,e){const t=(i=n,new ft(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function uU(n){const e=ft.fromString(n);return De(yU(e)),e}function Bg(n,e){return VD(n.databaseId,e.path)}function wo(n,e){const t=uU(e);if(t.get(1)!==n.databaseId.projectId)throw new ee(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ee(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(dU(t))}function cU(n,e){return VD(n.databaseId,e)}function lU(n){const e=uU(n);return 4===e.length?ft.emptyPath():dU(e)}function BD(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dU(n){return De(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hU(n,e,t){return{name:Bg(n,e),fields:t.value.mapValue.fields}}function fU(n,e,t){const r=wo(n,e.name),i=jn(e.updateTime),s=e.createTime?jn(e.createTime):Pe.min(),o=new Ur({mapValue:{fields:e.fields}}),a=hn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function jg(n,e){let t;if(e instanceof uh)t={update:hU(n,e.key,e.value)};else if(e instanceof ch)t={delete:Bg(n,e.key)};else if(e instanceof ca)t={update:hU(n,e.key,e.data),updateMask:gX(e.fieldMask)};else{if(!(e instanceof OD))return Ie();t={verify:Bg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof oh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ah)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ie()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:aX(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ie()),t;var s}function jD(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?En.updateTime(jn(s.updateTime)):void 0!==s.exists?En.exists(s.exists):En.none():En.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;"setToServerValue"in a?(De("REQUEST_TIME"===a.setToServerValue),u=new oh):"appendMissingElements"in a?u=new Vc(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Uc(a.removeAllFromArray.values||[]):"increment"in a?u=new ah(o,a.increment):Ie();const l=dn.fromServerFormat(a.fieldPath);return new kg(l,u)}(n,i)):[];var s;if(e.update){const i=wo(n,e.update.name),s=new Ur({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Fi((e.updateMask.fieldPaths||[]).map(f=>dn.fromServerFormat(f)));return new ca(i,s,o,t,r)}return new uh(i,s,t,r)}if(e.delete){const i=wo(n,e.delete);return new ch(i,t)}if(e.verify){const i=wo(n,e.verify);return new OD(i,t)}return Ie()}function pU(n,e){return{documents:[cU(n,e.path)]}}function $D(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cU(n,i);const s=function(l){if(0!==l.length)return _U(Bt.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(l){if(0!==l.length)return l.map(f=>{return{field:yu((m=f).field),direction:hX(m.dir)};var m})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=LD(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:t,parent:i};var l}function gU(n){let e=lU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){De(1===r);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(g){const m=mU(g);return m instanceof Bt&&DD(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(m=>{return new Pg(dh((E=m).field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;t.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,bg(m)?null:m}(t.limit));let u=null;var g;t.startAt&&(u=new _u((g=t.startAt).values||[],!!g.before));let l=null;return t.endAt&&(l=function(g){return new _u(g.values||[],!g.before)}(t.endAt)),P2(e,i,o,s,a,"F",u,l)}function mU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=dh(t.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dh(t.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=dh(t.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=dh(t.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):void 0!==n.fieldFilter?pt.create(dh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Bt.create(t.compositeFilter.filters.map(r=>mU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie();var t}function hX(n){return rX[n]}function fX(n){return iX[n]}function pX(n){return sX[n]}function yu(n){return{fieldPath:n.canonicalString()}}function dh(n){return dn.fromServerFormat(n.fieldPath)}function _U(n){return n instanceof pt?function(t){if("=="===t.op){if(f2(t.value))return{unaryFilter:{field:yu(t.field),op:"IS_NAN"}};if(h2(t.value))return{unaryFilter:{field:yu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(f2(t.value))return{unaryFilter:{field:yu(t.field),op:"IS_NOT_NAN"}};if(h2(t.value))return{unaryFilter:{field:yu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(t.field),op:fX(t.op),value:t.value}}}(n):n instanceof Bt?function(t){const r=t.getFilters().map(i=>_U(i));return 1===r.length?r[0]:{compositeFilter:{op:pX(t.op),filters:r}}}(n):Ie()}function gX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class la{constructor(e,t,r,i,s=Pe.min(),o=Pe.min(),a=lr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vU{constructor(e){this.ct=e}}function EU(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Bg(s=n.ct,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:lh(s,o.version.toTimestamp()),createTime:lh(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Bc(e.version)};else{if(!e.isUnknownDocument())return Ie();r.unknownDocument={path:t.path.toArray(),version:Bc(e.version)}}var s,o;return r}function jE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jc(n){const e=new vn(n.seconds,n.nanoseconds);return Pe.fromTimestamp(e)}function $c(n,e){const t=(e.baseMutations||[]).map(s=>jD(n.ct,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>jD(n.ct,s)),i=vn.fromMillis(e.localWriteTimeMs);return new xD(e.batchId,i,t,r)}function $g(n){const e=jc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jc(n.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=void 0!==n.query.documents?(De(1===(s=n.query).documents.length),_i(rh(lU(s.documents[0])))):function(s){return _i(gU(s))}(n.query),new la(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,lr.fromBase64String(n.resumeToken));var s}function wU(n,e){const t=Bc(e.snapshotVersion),r=Bc(e.lastLimboFreeSnapshotVersion);let i;i=xE(e.target)?pU(n.ct,e.target):$D(n.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lc(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function HD(n){const e=gU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kE(e,e.limit,"L"):e}function zD(n,e){return new kD(e.largestBatchId,jD(n.ct,e.overlayMutation))}function IU(n,e){const t=e.path.lastSegment();return[n,ni(e.path.popLast()),t]}function bU(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Bc(r.readTime),documentKey:ni(r.documentKey.path),largestBatchId:r.largestBatchId}}class _X{getBundleMetadata(e,t){return CU(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:jc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return CU(e).put({bundleId:(i=t).id,createTime:Bc(jn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return TU(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:HD(s.bundledQuery),readTime:jc(s.readTime)};var s})}saveNamedQuery(e,t){return TU(e).put({name:(i=t).name,readTime:Bc(jn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function CU(n){return Tr(n,"bundles")}function TU(n){return Tr(n,"namedQueries")}class $E{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new $E(e,t.uid||"")}getOverlay(e,t){return Hg(e).get(IU(this.userId,t)).next(r=>r?zD(this.serializer,r):null)}getOverlays(e,t){const r=Eo();return N.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new kD(t,o);i.push(this.ht(e,a))}),N.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(ni(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Hg(e).H("collectionPathOverlayIndex",a))}),N.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Eo(),s=ni(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Hg(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=zD(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Eo();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hg(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,l,f)=>{const g=zD(this.serializer,l);s.size()<i||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):f.done()}).next(()=>s)}ht(e,t){return Hg(e).put(function(i,s,o){const[a,u,l]=IU(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:jg(i.ct,o.mutation)}}(this.serializer,this.userId,t))}}function Hg(n){return Tr(n,"documentOverlays")}class Hc{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Rn(e.integerValue));else if("doubleValue"in e){const r=Rn(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Cg(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),"string"==typeof r&&(r=sa(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(oa(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?p2(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Ie()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),pe.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function yX(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function DU(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=yX(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Hc.bt=new Hc;class vX{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ct(r.value),r=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Mt(r.value),r=t.next();this.xt()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=t.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=t.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const t=this.Bt(e),r=DU(t);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}qt(e){const t=this.Bt(e),r=DU(t);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class EX{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class wX{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class zg{constructor(){this.Gt=new vX,this.zt=new EX(this.Gt),this.jt=new wX(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class zc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zc(this.indexId,this.documentKey,this.arrayValue,r)}}function vu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=AU(n.arrayValue,e.arrayValue),0!==t?t:(t=AU(n.directionalValue,e.directionalValue),0!==t?t:pe.comparator(n.documentKey,e.documentKey)))}function AU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class SU{constructor(e){this.Yt=new Zt((t,r)=>dn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(De(e.collectionGroup===this.collectionId),this.en)return!1;const t=yD(e);if(void 0!==t&&!this.nn(t))return!1;const r=xc(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.rn(a,u)||!this.sn(this.Zt[o++],u))return!1}++s}for(;s<r.length;++s)if(o>=this.Zt.length||!this.sn(this.Zt[o++],r[s]))return!1;return!0}on(){if(this.en)return null;let e=new Zt(dn.comparator);const t=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Nc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Nc(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Nc(r.field,"asc"===r.dir?0:1)));return new Jd(Jd.UNKNOWN_ID,this.collectionId,t,Xd.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function PU(n){var e,t;if(De(n instanceof pt||n instanceof Bt),n instanceof pt){if(n instanceof D2){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>pt.create(n.field,"==",s)))||[];return Bt.create(i,"or")}return n}const r=n.filters.map(i=>PU(i));return Bt.create(r,n.op)}function IX(n){if(0===n.getFilters().length)return[];const e=WD(PU(n));return De(MU(e)),qD(e)||GD(e)?[e]:e.getFilters()}function qD(n){return n instanceof pt}function GD(n){return n instanceof Bt&&DD(n)}function MU(n){return qD(n)||GD(n)||function(t){if(t instanceof Bt&&TD(t)){for(const r of t.getFilters())if(!qD(r)&&!GD(r))return!1;return!0}return!1}(n)}function WD(n){if(De(n instanceof pt||n instanceof Bt),n instanceof pt)return n;if(1===n.filters.length)return WD(n.filters[0]);const e=n.filters.map(r=>WD(r));let t=Bt.create(e,n.op);return t=HE(t),MU(t)?t:(De(t instanceof Bt),De(nh(t)),De(t.filters.length>1),t.filters.reduce((r,i)=>KD(r,i)))}function KD(n,e){let t;return De(n instanceof pt||n instanceof Bt),De(e instanceof pt||e instanceof Bt),t=n instanceof pt?e instanceof pt?Bt.create([n,e],"and"):RU(n,e):e instanceof pt?RU(e,n):function(i,s){if(De(i.filters.length>0&&s.filters.length>0),nh(i)&&nh(s))return b2(i,s.getFilters());const o=TD(i)?i:s,a=TD(i)?s:i,u=o.filters.map(l=>KD(l,a));return Bt.create(u,"or")}(n,e),HE(t)}function RU(n,e){if(nh(e))return b2(e,n.getFilters());{const t=e.filters.map(r=>KD(n,r));return Bt.create(t,"or")}}function HE(n){if(De(n instanceof pt||n instanceof Bt),n instanceof pt)return n;const e=n.getFilters();if(1===e.length)return HE(e[0]);if(w2(n))return n;const t=e.map(i=>HE(i)),r=[];return t.forEach(i=>{i instanceof pt?r.push(i):i instanceof Bt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Bt.create(r,n.op)}class bX{constructor(){this._n=new ZD}addToCollectionParentIndex(e,t){return this._n.add(t),N.resolve()}getCollectionParents(e,t){return N.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return N.resolve()}deleteFieldIndex(e,t){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,t){return N.resolve()}getDocumentsMatchingTarget(e,t){return N.resolve(null)}getIndexType(e,t){return N.resolve(0)}getFieldIndexes(e,t){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,t){return N.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,t){return N.resolve(Yi.min())}updateCollectionGroup(e,t,r){return N.resolve()}updateIndexEntries(e,t){return N.resolve()}}class ZD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Zt(ft.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(ft.comparator)).toArray()}}const zE=new Uint8Array(0);class CX{constructor(e,t){this.databaseId=t,this.an=new ZD,this.un=new ua(r=>Lc(r),(r,i)=>Mg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const s={collectionId:r,parent:ni(i)};return OU(e).put(s)}return N.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[WV(t),""],!1,!0);return OU(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(yo(o.parent))}return r})}addFieldIndex(e,t){const r=qg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=fh(e);return s.next(a=>{o.put(bU(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=qg(e),i=fh(e),s=hh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=qg(e),r=hh(e),i=fh(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return N.forEach(this.cn(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new SU(r).on();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=hh(e);let i=!0;const s=new Map;return N.forEach(this.cn(t),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=tt();const a=[];return N.forEach(s,(u,l)=>{var x;ne("IndexedDbIndexManager",`Using index ${x=u,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(z=>`${z.fieldPath}:${z.kind}`).join(",")}`} to execute ${Lc(t)}`);const f=function(x,z){const ce=yD(z);if(void 0===ce)return null;for(const Ae of NE(x,ce.fieldPath))switch(Ae.op){case"array-contains-any":return Ae.value.arrayValue.values||[];case"array-contains":return[Ae.value]}return null}(l,u),g=function(x,z){const ce=new Map;for(const Ae of xc(z))for(const He of NE(x,Ae.fieldPath))switch(He.op){case"==":case"in":ce.set(Ae.fieldPath.canonicalString(),He.value);break;case"not-in":case"!=":return ce.set(Ae.fieldPath.canonicalString(),He.value),Array.from(ce.values())}return null}(l,u),m=function(x,z){const ce=[];let Ae=!0;for(const He of xc(z)){const xt=0===He.kind?A2(x,He.fieldPath,x.startAt):S2(x,He.fieldPath,x.startAt);ce.push(xt.value),Ae&&(Ae=xt.inclusive)}return new _u(ce,Ae)}(l,u),y=function(x,z){const ce=[];let Ae=!0;for(const He of xc(z)){const xt=0===He.kind?S2(x,He.fieldPath,x.endAt):A2(x,He.fieldPath,x.endAt);ce.push(xt.value),Ae&&(Ae=xt.inclusive)}return new _u(ce,Ae)}(l,u),E=this.hn(u,l,m),b=this.hn(u,l,y),C=this.Pn(u,l,g),M=this.In(u.indexId,f,E,m.inclusive,b,y.inclusive,C);return N.forEach(M,P=>r.j(P,t.limit).next(x=>{x.forEach(z=>{const ce=pe.fromSegments(z.documentKey);o.has(ce)||(o=o.add(ce),a.push(ce))})}))}).next(()=>a)}return N.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:IX(Bt.create(e.filters,"and")).map(r=>SD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,r,i,s,o,a){const u=(null!=t?t.length:1)*Math.max(r.length,s.length),l=u/(null!=t?t.length:1),f=[];for(let g=0;g<u;++g){const m=t?this.Tn(t[g/l]):zE,y=this.En(e,m,r[g%l],i),E=this.dn(e,m,s[g%l],o),b=a.map(C=>this.En(e,m,C,!0));f.push(...this.createRange(y,E,b))}return f}En(e,t,r,i){const s=new zc(e,pe.empty(),t,r);return i?s:s.Jt()}dn(e,t,r,i){const s=new zc(e,pe.empty(),t,r);return i?s.Jt():s}ln(e,t){const r=new SU(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.cn(t);return N.forEach(i,s=>this.ln(e,s).next(o=>{o?0!==r&&o.fields.length<function(u){let l=new Zt(dn.comparator),f=!1;for(const g of u.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?f=!0:l=l.add(m.field));for(const g of u.orderBy)g.field.isKeyField()||(l=l.add(g.field));return l.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}An(e,t){const r=new zg;for(const i of xc(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.Ht(i.kind);Hc.bt.Pt(s,o)}return r.Wt()}Tn(e){const t=new zg;return Hc.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const r=new zg;return Hc.bt.Pt(Fc(this.databaseId,t),r.Ht(function(s){const o=xc(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,t,r){if(null===r)return[];let i=[];i.push(new zg);let s=0;for(const o of xc(e)){const a=r[s++];for(const u of i)if(this.Vn(t,o.fieldPath)&&Ag(a))i=this.mn(i,o,a);else{const l=u.Ht(o.kind);Hc.bt.Pt(a,l)}}return this.fn(i)}hn(e,t,r){return this.Pn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Wt();return t}mn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new zg;u.seed(a.Wt()),Hc.bt.Pt(o,u.Ht(t.kind)),s.push(u)}return s}Vn(e,t){return!!e.filters.find(r=>r instanceof pt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=qg(e),i=fh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return N.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(f,g){const m=g?new Xd(g.sequenceNumber,new Yi(jc(g.readTime),new pe(yo(g.documentKey)),g.largestBatchId)):Xd.empty(),y=f.fields.map(([E,b])=>new Nc(dn.fromServerFormat(E),b));return new Jd(f.indexId,f.collectionGroup,y,m)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ke(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=qg(e),s=fh(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>N.forEach(a,u=>s.put(bU(u.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){const r=new Map;return N.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?N.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),N.forEach(a,u=>this.pn(e,i,u).next(l=>{const f=this.yn(s,u);return l.isEqual(f)?N.resolve():this.wn(e,s,u,l,f)}))))})}Sn(e,t,r,i){return hh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,t.key),documentKey:t.key.path.toArray()})}bn(e,t,r,i){return hh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,t.key),t.key.path.toArray()])}pn(e,t,r){const i=hh(e);let s=new Zt(vu);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,t)])},(o,a)=>{s=s.add(new zc(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,t){let r=new Zt(vu);const i=this.An(t,e);if(null==i)return r;const s=yD(t);if(null!=s){const o=e.data.field(s.fieldPath);if(Ag(o))for(const a of o.arrayValue.values||[])r=r.add(new zc(t.indexId,e.key,this.Tn(a),i))}else r=r.add(new zc(t.indexId,e.key,zE,i));return r}wn(e,t,r,i,s){ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(u,l,f,g,m){const y=u.getIterator(),E=l.getIterator();let b=eh(y),C=eh(E);for(;b||C;){let M=!1,P=!1;if(b&&C){const x=f(b,C);x<0?P=!0:x>0&&(M=!0)}else null!=b?P=!0:M=!0;M?(g(C),C=eh(E)):P?(m(b),b=eh(y)):(b=eh(y),C=eh(E))}}(i,s,vu,a=>{o.push(this.Sn(e,t,r,a))},a=>{o.push(this.bn(e,t,r,a))}),N.waitFor(o)}gn(e){let t=1;return fh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>vu(o,a)).filter((o,a,u)=>!a||0!==vu(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=vu(o,e),u=vu(o,t);if(0===a)i[0]=e.Jt();else if(a>0&&u<0)i.push(o),i.push(o.Jt());else if(u>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,zE,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,zE,[]]))}return s}Dn(e,t){return vu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xU)}getMinOffset(e,t){return N.mapArray(this.cn(t),r=>this.ln(e,r).next(i=>i||Ie())).next(xU)}}function OU(n){return Tr(n,"collectionParents")}function hh(n){return Tr(n,"indexEntries")}function qg(n){return Tr(n,"indexConfiguration")}function fh(n){return Tr(n,"indexState")}function xU(n){De(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;vD(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Yi(e.readTime,e.documentKey,t)}const NU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ri{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kU(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const u=r.Y({range:o},(f,g,m)=>(a++,m.delete()));s.push(u.next(()=>{De(1===a)}));const l=[];for(const f of t.mutations){const g=n2(e,f.key.path,t.batchId);s.push(i.delete(g)),l.push(f.key)}return N.waitFor(s).next(()=>l)}function qE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ie();e=n.noDocument}return JSON.stringify(e).length}ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(41943040,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);class GE{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,t,r,i){De(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new GE(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=ph(e),o=Eu(e);return o.add({}).next(a=>{De("number"==typeof a);const u=new xD(a,t,r,i),l=function(y,E,b){const C=b.baseMutations.map(P=>jg(y.ct,P)),M=b.mutations.map(P=>jg(y.ct,P));return{userId:E,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:C,mutations:M}}(this.serializer,this.userId,u),f=[];let g=new Zt((m,y)=>Ke(m.canonicalString(),y.canonicalString()));for(const m of i){const y=n2(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),f.push(o.put(l)),f.push(s.put(y,hJ))}return g.forEach(m=>{f.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=u.keys()}),N.waitFor(f).next(()=>u)})}lookupMutationBatch(e,t){return Eu(e).get(t).next(r=>r?(De(r.userId===this.userId),$c(this.serializer,r)):null)}vn(e,t){return this.Cn[t]?N.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Cn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Eu(e).Y({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(De(a.batchId>=r),s=$c(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Eu(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).W("userMutationsIndex",t).next(r=>r.map(i=>$c(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=DE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return ph(e).Y({range:i},(o,a,u)=>{const[l,f,g]=o,m=yo(f);if(l===this.userId&&t.path.isEqual(m))return Eu(e).get(g).next(y=>{if(!y)throw Ie();De(y.userId===this.userId),s.push($c(this.serializer,y))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(Ke);const i=[];return t.forEach(s=>{const o=DE(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=ph(e).Y({range:a},(l,f,g)=>{const[m,y,E]=l,b=yo(y);m===this.userId&&s.path.isEqual(b)?r=r.add(E):g.done()});i.push(u)}),N.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=DE(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Zt(Ke);return ph(e).Y({range:o},(u,l,f)=>{const[g,m,y]=u,E=yo(m);g===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(y)):f.done()}).next(()=>this.Fn(e,a))}Fn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Eu(e).get(s).next(o=>{if(null===o)throw Ie();De(o.userId===this.userId),r.push($c(this.serializer,o))}))}),N.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return kU(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),N.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return N.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return ph(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=yo(s[1]);i.push(u)}else a.done()}).next(()=>{De(0===i.length)})})}containsKey(e,t){return FU(e,this.userId,t)}xn(e){return LU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function FU(n,e,t){const r=DE(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ph(n).Y({range:s,J:!0},(a,u,l)=>{const[f,g,m]=a;f===e&&g===i&&(o=!0),l.done()}).next(()=>o)}function Eu(n){return Tr(n,"mutations")}function ph(n){return Tr(n,"documentMutations")}function LU(n){return Tr(n,"mutationQueues")}class qc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qc(0)}static Ln(){return new qc(-1)}}class TX{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new qc(t.highestTargetId);return t.highestTargetId=r.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Pe.fromTimestamp(new vn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.kn(e,i)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(t,r),this.kn(e,r))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(De(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return gh(e).Y((o,a)=>{const u=$g(a);u.sequenceNumber<=t&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>N.waitFor(s)).next(()=>i)}forEachTarget(e,t){return gh(e).Y((r,i)=>{const s=$g(i);t(s)})}Bn(e){return VU(e).get("targetGlobalKey").next(t=>(De(null!==t),t))}kn(e,t){return VU(e).put("targetGlobalKey",t)}qn(e,t){return gh(e).put(wU(this.serializer,t))}Qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return gh(e).Y({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=$g(a);Mg(t,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=wu(e);return t.forEach(o=>{const a=ni(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),N.waitFor(i)}removeMatchingKeys(e,t,r){const i=wu(e);return N.forEach(t,s=>{const o=ni(s.path);return N.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=wu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=wu(e);let s=tt();return i.Y({range:r,J:!0},(o,a,u)=>{const l=yo(o[1]),f=new pe(l);s=s.add(f)}).next(()=>s)}containsKey(e,t){const r=ni(t.path),i=IDBKeyRange.bound([r],[WV(r)],!1,!0);let s=0;return wu(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],u,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}_t(e,t){return gh(e).get(t).next(r=>r?$g(r):null)}}function gh(n){return Tr(n,"targets")}function VU(n){return Tr(n,"targetGlobal")}function wu(n){return Tr(n,"targetDocuments")}function UU([n,e],[t,r]){const i=Ke(n,t);return 0===i?Ke(e,r):i}class DX{constructor(e){this.Kn=e,this.buffer=new Zt(UU),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();UU(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var t=this;ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Z.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){du(r)?ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield lu(r)}yield t.zn(3e5)}))}}class AX{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return N.resolve(Ji._e);const r=new DX(t);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(NU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NU):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let r,i,s,o,a,u,l;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),Qd()<=po.in.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-f}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${g} documents in `+(l-u)+`ms\nTotal Duration: ${l-f}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}class SX{constructor(e,t){this.db=e,this.garbageCollector=function jU(n,e){return new AX(n,e)}(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Zn(e){let t=0;return this.Jn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(r,i)=>t(i))}addReference(e,t,r){return WE(e,r)}removeReference(e,t,r){return WE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return WE(e,t)}er(e,t){return function(i,s){let o=!1;return LU(i).Z(a=>FU(i,a,s).next(u=>(u&&(o=!0),N.resolve(!u)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=t){const u=this.er(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Pe.min()),wu(e).delete([0,ni(o.path)])))});i.push(u)}}).next(()=>N.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return WE(e,t)}Xn(e,t){const r=wu(e);let i,s=Ji._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{0===o?(s!==Ji._e&&t(new pe(yo(i)),s),s=l,i=u):s=Ji._e}).next(()=>{s!==Ji._e&&t(new pe(yo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function WE(n,e){return wu(n).put((i=n.currentSequenceNumber,{targetId:0,path:ni(e.path),sequenceNumber:i}));var i}class $U{constructor(){this.changes=new ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?N.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PX{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Gc(e).put(r)}removeEntry(e,t,r){return Gc(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],jE(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.tr(e,r)))}getEntry(e,t){let r=hn.newInvalidDocument(t);return Gc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Gg(t))},(i,s)=>{r=this.nr(t,s)}).next(()=>r)}rr(e,t){let r={size:0,document:hn.newInvalidDocument(t)};return Gc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Gg(t))},(i,s)=>{r={document:this.nr(t,s),size:qE(s)}}).next(()=>r)}getEntries(e,t){let r=Li();return this.ir(e,t,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,t){let r=Li(),i=new rn(pe.comparator);return this.ir(e,t,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,qE(o))}).next(()=>({documents:r,_r:i}))}ir(e,t,r){if(t.isEmpty())return N.resolve();let i=new Zt(GU);t.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(Gg(i.first()),Gg(i.last())),o=i.getIterator();let a=o.getNext();return Gc(e).Y({index:"documentKeyIndex",range:s},(u,l,f)=>{const g=pe.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&GU(a,g)<0;)r(a,null),a=o.getNext();a&&a.isEqual(g)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?f.U(Gg(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),jE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gc(e).W(IDBKeyRange.bound(a,u,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let f=Li();for(const g of l){const m=this.nr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(Og(t,m)||i.has(m.key))&&(f=f.insert(m.key,m))}return f})}getAllFromCollectionGroup(e,t,r,i){let s=Li();const o=qU(t,r),a=qU(t,Yi.max());return Gc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,f)=>{const g=this.nr(pe.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(g.key,g),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new MX(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zU(e).get("remoteDocumentGlobalKey").next(t=>(De(!!t),t))}tr(e,t){return zU(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const r=function mX(n,e){let t;if(e.document)t=fU(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),i=jc(e.noDocument.readTime);t=hn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ie();{const r=pe.fromSegments(e.unknownDocument.path),i=jc(e.unknownDocument.version);t=hn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new vn(i[0],i[1]);return Pe.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Pe.min()))return r}return hn.newInvalidDocument(e)}}function HU(n){return new PX(n)}class MX extends $U{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new ua(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Zt((s,o)=>Ke(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(t.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=EU(this.ar.serializer,o);i=i.add(s.path.popLast());const l=qE(u);r+=l-a.size,t.push(this.ar.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=EU(this.ar.serializer,o.convertToNoDocument(Pe.min()));t.push(this.ar.addEntry(e,s,u))}}),i.forEach(s=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.ar.updateMetadata(e,r)),N.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(r=>(this.ur.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function zU(n){return Tr(n,"remoteDocumentGlobal")}function Gc(n){return Tr(n,"remoteDocumentsV14")}function Gg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qU(n,e){const t=e.documentKey.path.toArray();return[n,jE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function GU(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ke(t[s],r[s]),i)return i;return i=Ke(t.length,r.length),i||(i=Ke(t[t.length-2],r[r.length-2]),i||Ke(t[t.length-1],r[r.length-1]))}class RX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class WU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Fg(r.mutation,i,Fi.empty(),vn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const i=Eo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=xg();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Eo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Li();const o=Ng(),a=Ng();return t.forEach((u,l)=>{const f=r.get(l.key);i.has(l.key)&&(void 0===f||f.mutation instanceof ca)?s=s.insert(l.key,l):void 0!==f?(o.set(l.key,f.mutation.getFieldMask()),Fg(f.mutation,l,f.mutation.getFieldMask(),vn.now())):o.set(l.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),t.forEach((l,f)=>{var g;return a.set(l,new RX(f,null!==(g=o.get(l))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ng();let i=new rn((o,a)=>o-a),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let f=r.get(u)||Fi.empty();f=a.applyToLocalView(l,f),r.set(u,f);const g=(i.get(a.batchId)||tt()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,f=u.value,g=L2();f.forEach(m=>{if(!s.has(m)){const y=G2(t.get(m),r.get(m));null!==y&&g.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return pe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):PD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):N.resolve(Eo());let a=-1,u=s;return o.next(l=>N.forEach(l,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,tt())).next(f=>({batchId:a,changes:F2(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(r=>{let i=xg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=xg();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,u=>{const l=(g=t,m=u.child(s),new aa(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,m)=>{o=o.insert(g,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{const f=l.getKey();null===o.get(f)&&(o=o.insert(f,hn.newInvalidDocument(f)))});let a=xg();return o.forEach((u,l)=>{const f=s.get(u);void 0!==f&&Fg(f.mutation,l,Fi.empty(),vn.now()),Og(t,l)&&(a=a.insert(u,l))}),a})}}class OX{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return N.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(i=t).id,version:i.version,createTime:jn(i.createTime)}),N.resolve();var i}getNamedQuery(e,t){return N.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(i=t).name,query:HD(i.bundledQuery),readTime:jn(i.readTime)}),N.resolve();var i}}class xX{constructor(){this.overlays=new rn(pe.comparator),this.hr=new Map}getOverlay(e,t){return N.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Eo();return N.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),N.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),N.resolve()}getOverlaysForCollection(e,t,r){const i=Eo(),s=t.length+1,o=new pe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new rn((l,f)=>l-f);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=s.get(l.largestBatchId);null===f&&(f=Eo(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}const a=Eo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return N.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kD(t,r));let s=this.hr.get(t);void 0===s&&(s=tt(),this.hr.set(t,s)),this.hr.set(t,s.add(r.key))}}class QD{constructor(){this.Pr=new Zt(Dr.Ir),this.Tr=new Zt(Dr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new Dr(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Dr(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new pe(new ft([])),r=new Dr(t,e),i=new Dr(t,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new pe(new ft([])),r=new Dr(t,e),i=new Dr(t,e+1);let s=tt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Dr(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Dr{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return pe.comparator(e.key,t.key)||Ke(e.pr,t.pr)}static Er(e,t){return Ke(e.pr,t.pr)||pe.comparator(e.key,t.key)}}class NX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Zt(Dr.Ir)}checkEmpty(e){return N.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.yr;this.yr++;const o=new xD(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Dr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,t){return N.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.br(t+1),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dr(t,0),i=new Dr(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(Ke);return t.forEach(i=>{const s=new Dr(i,0),o=new Dr(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),N.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Dr(new pe(s),0);let a=new Zt(Ke);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),N.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){De(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return N.forEach(t.mutations,i=>{const s=new Dr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new Dr(t,0),i=this.wr.firstAfterOrEqual(r);return N.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return N.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kX{constructor(e){this.vr=e,this.docs=new rn(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return N.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=Li();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hn.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Li();const o=t.path,a=new pe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||vD(ZV(f),r)<=0||(i.has(f.key)||Og(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ie()}Fr(e,t){return N.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FX(this)}getSize(e){return N.resolve(this.size)}}class FX extends $U{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),N.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class LX{constructor(e){this.persistence=e,this.Mr=new ua(t=>Lc(t),Mg),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new QD,this.targetCount=0,this.Lr=qc.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),N.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new qc(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,N.resolve()}updateTargetData(e,t){return this.qn(t),N.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return N.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),N.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),N.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return N.resolve(r)}containsKey(e,t){return N.resolve(this.Nr.containsKey(t))}}class YD{constructor(e,t){this.Br={},this.overlays={},this.kr=new Ji(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new LX(this),this.indexManager=new bX,this.remoteDocumentCache=new kX(r=>this.referenceDelegate.Kr(r)),this.serializer=new vU(t),this.$r=new OX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new NX(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){ne("MemoryPersistence","Starting transaction:",e);const i=new VX(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,t){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class VX extends YV{constructor(e){super(),this.currentSequenceNumber=e}}class KE{constructor(e){this.persistence=e,this.zr=new QD,this.jr=null}static Hr(e){return new KE(e)}get Jr(){if(this.jr)return this.jr;throw Ie()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),N.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),N.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Jr,r=>{const i=pe.fromPath(r);return this.Yr(e,i).next(s=>{s||t.removeEntry(i,Pe.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return N.or([()=>N.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class UX{constructor(e){this.serializer=e}N(e,t,r,i){const s=new TE("createOrUpgrade",t);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",t2,{unique:!0}),u.createObjectStore("documentMutations"),KU(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=N.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),KU(e)),o=o.next(()=>function(u){const l=u.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",f)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,l){return l.store("mutations").W().next(f=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",t2,{unique:!0});const g=l.store("mutations"),m=f.map(y=>g.put(y));return N.waitFor(m)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const l=u.createObjectStore("documentOverlays",{keyPath:CJ});l.createIndex("collectionPathOverlayIndex",TJ,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",DJ,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const l=u.createObjectStore("remoteDocumentsV14",{keyPath:fJ});l.createIndex("documentKeyIndex",pJ),l.createIndex("collectionGroupIndex",gJ)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:EJ}).createIndex("sequenceNumberIndex",wJ,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:IJ}).createIndex("documentKeyIndex",bJ,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),o}ei(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=qE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>N.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>N.forEach(a,u=>{De(u.userId===s.userId);const l=$c(this.serializer,u);return kU(e,s.userId,l).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const u=new ft(o),l=[0,ni(u)];s.push(t.get(l).next(f=>f?N.resolve():t.put({targetId:0,path:ni(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>N.waitFor(s))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:vJ});const r=t.store("collectionParents"),i=new ZD,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:ni(u)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const u=new ft(o);return s(u.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,u],l)=>{const f=yo(a);return s(f.popLast())}))}ri(e){const t=e.store("targets");return t.Y((r,i)=>{const s=$g(i),o=wU(this.serializer,s);return t.put(o)})}ii(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),u=(g=o,g.document?new pe(ft.fromString(g.document.name).popFirst(5)):g.noDocument?pe.fromSegments(g.noDocument.path):g.unknownDocument?pe.fromSegments(g.unknownDocument.path):Ie()).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var g;i.push(a.put(l))}).next(()=>N.waitFor(i))}si(e,t){const r=t.store("mutations"),i=HU(this.serializer),s=new YD(KE.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var l;let f=null!==(l=a.get(u.userId))&&void 0!==l?l:tt();$c(this.serializer,u).keys().forEach(g=>f=f.add(g)),a.set(u.userId,f)}),N.forEach(a,(u,l)=>{const f=new Cr(l),g=$E.lt(this.serializer,f),m=s.getIndexManager(f),y=GE.lt(f,this.serializer,m,s.referenceDelegate);return new WU(i,y,g,m).recalculateAndSaveOverlaysForDocumentKeys(new ID(t,Ji._e),u).next()})})}}function KU(n){n.createObjectStore("targetDocuments",{keyPath:_J}).createIndex("documentTargetsIndex",yJ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mJ,{unique:!0}),n.createObjectStore("targetGlobal")}const JD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class XD{constructor(e,t,r,i,s,o,a,u,l,f,g=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=l,this.ai=f,this.ui=g,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!XD.D())throw new ee(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SX(this,i),this.Ti=t+"main",this.serializer=new vU(u),this.Ei=new _s(this.Ti,this.ui,new UX(this.serializer)),this.Qr=new TX(this.referenceDelegate,this.serializer),this.remoteDocumentCache=HU(this.serializer),this.$r=new _X,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===f&&Bn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(L.FAILED_PRECONDITION,JD);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ji(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var t=this;return this.Ii=function(){var r=(0,Z.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var t=(0,Z.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,Z.Z)(function*(){t.started&&(yield t.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>QE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(du(e))return ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Wg(e).get("owner").next(t=>N.resolve(this.Si(t)))}bi(e){return QE(e).delete(this.clientId)}Di(){var e=this;return(0,Z.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Tr(r,"clientMetadata");return i.W().next(s=>{const o=e.vi(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return N.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of t)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?N.resolve(!0):Wg(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new ee(L.FAILED_PRECONDITION,JD);return!1}}return!(!this.networkEnabled||!this.inForeground)||QE(e).W().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Z.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new ID(t,Ji._e);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,t){return e.filter(r=>this.Ci(r.updateTimeMs,t)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>QE(e).W().next(t=>this.vi(t,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return GE.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new CX(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return $E.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,r){ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=16===(u=this.ui)?SJ:15===u?o2:14===u?s2:13===u?i2:12===u?AJ:11===u?r2:void Ie();var u;let o;return this.Ei.runTransaction(e,i,s,a=>(o=new ID(a,this.kr?this.kr.next():Ji._e),"readwrite-primary"===t?this.gi(o).next(u=>!!u||this.pi(o)).next(u=>{if(!u)throw Bn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ee(L.FAILED_PRECONDITION,QV);return r(o)}).next(u=>this.wi(o).next(()=>u)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Wg(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ee(L.FAILED_PRECONDITION,JD)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wg(e).put("owner",t)}static D(){return _s.D()}yi(e){const t=Wg(e);return t.get("owner").next(r=>this.Si(r)?(ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):N.resolve())}Ci(e,t){const r=Date.now();return!(e<r-t||e>r&&(Bn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Mt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const r=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Bn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Bn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wg(n){return Tr(n,"owner")}function QE(n){return Tr(n,"clientMetadata")}function eA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=tt(),i=tt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tA(e,t.fromCache,r,i)}}class BX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZU{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Mt.G6)()?8:_s.v((0,Mt.z$)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new BX;return this.Ji(e,t,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,t,o,a.size)})}).next(()=>s.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Qd()<=po.in.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",sh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),N.resolve()):(Qd()<=po.in.DEBUG&&ne("QueryEngine","Query:",sh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Qd()<=po.in.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",sh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(t))):N.resolve())}ji(e,t){if(M2(t))return N.resolve(null);let r=_i(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=kE(t,null,"F"),r=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=tt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Zi(t,a);return this.Xi(t,l,o,u.readTime)?this.ji(e,kE(t,null,"F")):this.es(e,l,t,u)}))})))}Hi(e,t,r,i){return M2(t)||i.isEqual(Pe.min())?N.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(t,s);return this.Xi(t,o,r,i)?N.resolve(null):(Qd()<=po.in.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sh(t)),this.es(e,o,t,KV(i,-1)).next(a=>a))})}Zi(e,t){let r=new Zt(N2(e));return t.forEach((i,s)=>{Og(e,s)&&(r=r.add(s))}),r}Xi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,t,r){return Qd()<=po.in.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",sh(t)),this.zi.getDocumentsMatchingQuery(e,t,Yi.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class jX{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new rn(Ke),this.rs=new ua(s=>Lc(s),Mg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function QU(n,e,t,r){return new jX(n,e,t,r)}function YU(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,Z.Z)(function*(n,e){const t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=tt();for(const l of i){o.push(l.batchId);for(const f of l.mutations)u=u.add(f.key)}for(const l of s){a.push(l.batchId);for(const f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}),nA.apply(this,arguments)}function JU(n){const e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function XU(n,e,t){let r=tt(),i=tt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Li();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Pe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function zX(n,e){const t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mh(n,e){const t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):t.Qr.allocateTargetId(r).next(o=>(i=new la(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function _h(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,Z.Z)(function*(n,e,t){const r=he(n),i=r.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!du(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),rA.apply(this,arguments)}function YE(n,e,t){const r=he(n);let i=Pe.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){const g=he(u),m=g.rs.get(f);return void 0!==m?N.resolve(g.ns.get(m)):g.Qr.getTargetData(l,f)}(r,o,_i(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,t?i:Pe.min(),t?s:tt())).next(a=>(nB(r,x2(e),a),{documents:a,hs:s})))}function eB(n,e){const t=he(n),r=he(t.Qr),i=t.ns.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function tB(n,e){const t=he(n),r=t.ss.get(e)||Pe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.os.getAllFromCollectionGroup(i,e,KV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(nB(t,e,i),i))}function nB(n,e,t){let r=n.ss.get(e)||Pe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ss.set(e,r)}function iA(){return iA=(0,Z.Z)(function*(n,e,t,r){const i=he(n);let s=tt(),o=Li();for(const l of t){const f=e.Ps(l.metadata.name);l.document&&(s=s.add(f));const g=e.Is(l);g.setReadTime(e.Ts(l.metadata.readTime)),o=o.insert(f,g)}const a=i.os.newChangeBuffer({trackRemovals:!0}),u=yield mh(i,(f=r,_i(rh(ft.fromString(`__bundle__/docs/${f}`)))));var f;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>XU(l,a,o).next(f=>(a.apply(l),f)).next(f=>i.Qr.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Qr.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,f.cs,f.ls)).next(()=>f.cs)))}),iA.apply(this,arguments)}function GX(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,Z.Z)(function*(n,e,t=tt()){const r=yield mh(n,_i(HD(e.bundledQuery))),i=he(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=jn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(lr.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}),sA.apply(this,arguments)}function rB(n,e){return`firestore_clients_${n}_${e}`}function iB(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function oA(n,e){return`firestore_targets_${n}_${e}`}class JE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Es(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new ee(i.error.code,i.error.message))),o?new JE(e,t,i.state,s):(Bn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Es(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ee(r.error.code,r.error.message))),s?new Kg(e,r.state,i):(Bn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class XE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=RD();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=XV(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new XE(e,s):(Bn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class aA{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aA(t.clientId,t.onlineState):(Bn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class uA{constructor(){this.activeTargetIds=RD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cA{constructor(e,t,r,i,s){this.window=e,this.oi=t,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new rn(Ke),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=rB(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new uA),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Z.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Vs)continue;const s=e.getItem(rB(e.persistenceKey,i));if(s){const o=XE.Es(i,s);o&&(e.ps=e.ps.insert(o.clientId,o))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,r){this.Ls(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(oA(this.persistenceKey,e));if(r){const i=Kg.Es(e,r);i&&(t=i.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oA(this.persistenceKey,e))}updateQueryState(e,t,r){this.qs(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ne("SharedClientState","READ",e,t),t}setItem(e,t){ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void Bn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,Z.Z)(function*(){if(t.started){if(null!==r.key)if(t.bs.test(r.key)){if(null==r.newValue){const i=t.$s(r.key);return t.Us(i,null)}{const i=t.Ws(r.key,r.newValue);if(i)return t.Us(i.clientId,i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.Gs(r.key,r.newValue);if(i)return t.zs(i)}}else if(t.Cs.test(r.key)){if(null!==r.newValue){const i=t.js(r.key,r.newValue);if(i)return t.Hs(i)}}else if(r.key===t.vs){if(null!==r.newValue){const i=t.xs(r.newValue);if(i)return t.Os(i)}}else if(r.key===t.Ss){const i=function(o){let a=Ji._e;if(null!=o)try{const u=JSON.parse(o);De("number"==typeof u),a=u}catch(u){Bn("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==Ji._e&&t.sequenceNumberHandler(i)}else if(r.key===t.Fs){const i=t.Js(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Ys(s)))}}else t.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,r){const i=new JE(this.currentUser,e,t,r),s=iB(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const t=iB(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,t,r){const i=oA(this.persistenceKey,e),s=new Kg(e,t,r);this.setItem(i,s.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const r=this.$s(e);return XE.Es(r,t)}Gs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return JE.Es(new Cr(void 0!==r[2]?r[2]:null),i,t)}js(e,t){const r=this.Cs.exec(e),i=Number(r[1]);return Kg.Es(i,t)}xs(e){return aA.Es(e)}Js(e){return JSON.parse(e)}zs(e){var t=this;return(0,Z.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Zs(e.batchId,e.state,e.error);ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=RD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class sB{constructor(){this.no=new uA,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new uA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WX{io(e){}shutdown(){}}class oB{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ew=null;function lA(){return null===ew?ew=268435456+Math.round(2147483648*Math.random()):ew++,"0x"+ew.toString(16)}const KX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZX{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const ii="WebChannelConnection";class QX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+t.host,this.po=`projects/${i}/databases/${s}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(t,r,i,s,o){const a=lA(),u=this.bo(t,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(t,u,l,i).then(f=>(ne("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw ki("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}vo(t,r,i,s,o,a){return this.So(t,r,i,s,o)}Do(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Zd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}bo(t,r){return`${this.fo}/v1/${r}:${KX[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,r,i){const s=lA();return new Promise((o,a)=>{const u=new WY;u.setWithCredentials(!0),u.listenOnce(qY.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mD.NO_ERROR:const f=u.getResponseJson();ne(ii,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case mD.TIMEOUT:ne(ii,`RPC '${e}' ${s} timed out`),a(new ee(L.DEADLINE_EXCEEDED,"Request time out"));break;case mD.HTTP_ERROR:const g=u.getStatus();if(ne(ii,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const E=function(C){const M=C.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(M)>=0?M:L.UNKNOWN}(y.status);a(new ee(E,y.message))}else a(new ee(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ee(L.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ne(ii,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ne(ii,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Fo(e,t,r){const i=lA(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HY(),a=zY(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const f=s.join("");ne(ii,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=o.createWebChannel(f,u);let m=!1,y=!1;const E=new ZX({lo:C=>{y?ne(ii,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(m||(ne(ii,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),ne(ii,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},ho:()=>g.close()}),b=(C,M,P)=>{C.listen(M,x=>{try{P(x)}catch(z){setTimeout(()=>{throw z},0)}})};return b(g,CE.EventType.OPEN,()=>{y||ne(ii,`RPC '${e}' stream ${i} transport opened.`)}),b(g,CE.EventType.CLOSE,()=>{y||(y=!0,ne(ii,`RPC '${e}' stream ${i} transport closed`),E.Vo())}),b(g,CE.EventType.ERROR,C=>{y||(y=!0,ki(ii,`RPC '${e}' stream ${i} transport errored:`,C),E.Vo(new ee(L.UNAVAILABLE,"The operation could not be completed")))}),b(g,CE.EventType.MESSAGE,C=>{var M;if(!y){const P=C.data[0];De(!!P);const z=P.error||(null===(M=P[0])||void 0===M?void 0:M.error);if(z){ne(ii,`RPC '${e}' stream ${i} received error:`,z);const ce=z.status;let Ae=function(wi){const Vi=Jn[wi];if(void 0!==Vi)return J2(Vi)}(ce),He=z.message;void 0===Ae&&(Ae=L.INTERNAL,He="Unknown error status: "+ce+" with message "+z.message),y=!0,E.Vo(new ee(Ae,He)),g.close()}else ne(ii,`RPC '${e}' stream ${i} received:`,P),E.mo(P)}}),b(a,GY.STAT_EVENT,C=>{C.stat===$V.PROXY?ne(ii,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===$V.NOPROXY&&ne(ii,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ro()},0),E}}function aB(){return typeof window<"u"?window:null}function tw(){return typeof document<"u"?document:null}function Zg(n){return new oX(n,!0)}class dA{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class uB{constructor(e,t,r,i,s,o,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new dA(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,Z.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,Z.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,t){var r=this;return(0,Z.Z)(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Bn(t.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):t&&t.code===L.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(t)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===t&&this.o_(r,i)},r=>{e(()=>{const i=new ee(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,t){const r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo((0,Z.Z)(function*(){e.state=0,e.start()}))}__(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget(()=>this.Wo===e?t():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YX extends uB{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function cX(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ie(),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(De(void 0===f||"string"==typeof f),lr.fromBase64String(f||"")):(De(void 0===f||f instanceof Buffer||f instanceof Uint8Array),lr.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const f=void 0===l.code?L.UNKNOWN:J2(l.code);return new ee(f,l.message||"")}(o);t=new rU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=wo(n,r.document.name),s=jn(r.document.updateTime),o=r.document.createTime?jn(r.document.createTime):Pe.min(),a=new Ur({mapValue:{fields:r.document.fields}}),u=hn.newFoundDocument(i,s,o,a);t=new BE(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=wo(n,r.document),s=r.readTime?jn(r.readTime):Pe.min(),o=hn.newNoDocument(i,s);t=new BE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=wo(n,r.document);t=new BE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ie();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new eX(i,s);t=new nU(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?jn(o.readTime):Pe.min()}(e);return this.listener.u_(t,r)}c_(e){const t={};t.database=BD(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=xE(u)?{documents:pU(s,u)}:{query:$D(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aU(s,o.resumeToken);const l=LD(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=lh(s,o.snapshotVersion.toTimestamp());const l=LD(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function dX(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.t_(t)}l_(e){const t={};t.database=BD(this.serializer),t.removeTarget=e,this.t_(t)}}class JX extends uB{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function lX(n,e){return n&&n.length>0?(De(void 0!==e),n.map(t=>function(i,s){let o=jn(i.updateTime?i.updateTime:s);return o.isEqual(Pe.min())&&(o=jn(s)),new QJ(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.T_(r,t)}return De(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=BD(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jg(this.serializer,r))};this.t_(t)}}class XX extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ee(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,UD(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(L.UNKNOWN,s.toString())})}vo(e,t,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,UD(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(L.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class tee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Bn(t),this.g_=!1):ne("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class nee{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget((0,Z.Z)(function*(){var u;Iu(o)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,Z.Z)(function*(f){const g=he(f);g.v_.add(4),yield yh(g),g.x_.set("Unknown"),g.v_.delete(4),yield Qg(g)}),function l(f){return u.apply(this,arguments)})(o))}))}),this.x_=new tee(r,i)}}function Qg(n){return fA.apply(this,arguments)}function fA(){return fA=(0,Z.Z)(function*(n){if(Iu(n))for(const e of n.F_)yield e(!0)}),fA.apply(this,arguments)}function yh(n){return pA.apply(this,arguments)}function pA(){return pA=(0,Z.Z)(function*(n){for(const e of n.F_)yield e(!1)}),pA.apply(this,arguments)}function nw(n,e){const t=he(n);t.C_.has(e.targetId)||(t.C_.set(e.targetId,e),_A(t)?mA(t):wh(t).Jo()&&gA(t,e))}function vh(n,e){const t=he(n),r=wh(t);t.C_.delete(e),r.Jo()&&cB(t,e),0===t.C_.size&&(r.Jo()?r.Xo():Iu(t)&&t.x_.set("Unknown"))}function gA(n,e){if(n.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wh(n).c_(e)}function cB(n,e){n.O_.Oe(e),wh(n).l_(e)}function mA(n){n.O_=new nX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.C_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),wh(n).start(),n.x_.p_()}function _A(n){return Iu(n)&&!wh(n).Ho()&&n.C_.size>0}function Iu(n){return 0===he(n).v_.size}function lB(n){n.O_=void 0}function ree(n){return yA.apply(this,arguments)}function yA(){return yA=(0,Z.Z)(function*(n){n.C_.forEach((e,t)=>{gA(n,e)})}),yA.apply(this,arguments)}function iee(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,Z.Z)(function*(n,e){lB(n),_A(n)?(n.x_.S_(e),mA(n)):n.x_.set("Unknown")}),vA.apply(this,arguments)}function see(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,Z.Z)(function*(n,e,t){if(n.x_.set("Online"),e instanceof rU&&2===e.state&&e.cause)try{yield(r=(0,Z.Z)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.C_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.C_.delete(u),s.O_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rw(n,r)}else if(e instanceof BE?n.O_.$e(e):e instanceof nU?n.O_.Je(e):n.O_.Ge(e),!t.isEqual(Pe.min()))try{const r=yield JU(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.C_.get(l);f&&s.C_.set(l,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const f=s.C_.get(u);if(!f)return;s.C_.set(u,f.withResumeToken(lr.EMPTY_BYTE_STRING,f.snapshotVersion)),cB(s,u);const g=new la(f.target,u,l,f.sequenceNumber);gA(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),yield rw(n,r)}var r}),EA.apply(this,arguments)}function rw(n,e,t){return wA.apply(this,arguments)}function wA(){return wA=(0,Z.Z)(function*(n,e,t){if(!du(e))throw e;n.v_.add(1),yield yh(n),n.x_.set("Offline"),t||(t=()=>JU(n.localStore)),n.asyncQueue.enqueueRetryable((0,Z.Z)(function*(){ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.v_.delete(1),yield Qg(n)}))}),wA.apply(this,arguments)}function dB(n,e){return e().catch(t=>rw(n,t,e))}function Eh(n){return IA.apply(this,arguments)}function IA(){return IA=(0,Z.Z)(function*(n){const e=he(n),t=bu(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;oee(e);)try{const i=yield zX(e.localStore,r);if(null===i){0===e.D_.length&&t.Xo();break}r=i.batchId,aee(e,i)}catch(i){yield rw(e,i)}hB(e)&&fB(e)}),IA.apply(this,arguments)}function oee(n){return Iu(n)&&n.D_.length<10}function aee(n,e){n.D_.push(e);const t=bu(n);t.Jo()&&t.P_&&t.I_(e.mutations)}function hB(n){return Iu(n)&&!bu(n).Ho()&&n.D_.length>0}function fB(n){bu(n).start()}function uee(n){return bA.apply(this,arguments)}function bA(){return bA=(0,Z.Z)(function*(n){bu(n).d_()}),bA.apply(this,arguments)}function cee(n){return CA.apply(this,arguments)}function CA(){return CA=(0,Z.Z)(function*(n){const e=bu(n);for(const t of n.D_)e.I_(t.mutations)}),CA.apply(this,arguments)}function lee(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,Z.Z)(function*(n,e,t){const r=n.D_.shift(),i=ND.from(r,e,t);yield dB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Eh(n)}),TA.apply(this,arguments)}function dee(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,Z.Z)(function*(n,e){var t;e&&bu(n).P_&&(yield(t=(0,Z.Z)(function*(i,s){if(Y2(a=s.code)&&a!==L.ABORTED){const o=i.D_.shift();bu(i).Zo(),yield dB(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Eh(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),hB(n)&&fB(n)}),DA.apply(this,arguments)}function pB(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,Z.Z)(function*(n,e){const t=he(n);t.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=Iu(t);t.v_.add(3),yield yh(t),r&&t.x_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.v_.delete(3),yield Qg(t)}),AA.apply(this,arguments)}function SA(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,Z.Z)(function*(n,e){const t=he(n);e?(t.v_.delete(2),yield Qg(t)):e||(t.v_.add(2),yield yh(t),t.x_.set("Unknown"))}),PA.apply(this,arguments)}function wh(n){return n.N_||(n.N_=function(t,r,i){const s=he(t);return s.R_(),new YX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:ree.bind(null,n),To:iee.bind(null,n),u_:see.bind(null,n)}),n.F_.push(function(){var e=(0,Z.Z)(function*(t){t?(n.N_.Zo(),_A(n)?mA(n):n.x_.set("Unknown")):(yield n.N_.stop(),lB(n))});return function(t){return e.apply(this,arguments)}}())),n.N_}function bu(n){return n.L_||(n.L_=function(t,r,i){const s=he(t);return s.R_(),new JX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:uee.bind(null,n),To:dee.bind(null,n),E_:cee.bind(null,n),T_:lee.bind(null,n)}),n.F_.push(function(){var e=(0,Z.Z)(function*(t){t?(n.L_.Zo(),yield Eh(n)):(yield n.L_.stop(),n.D_.length>0&&(ne("RemoteStore",`Stopping write stream with ${n.D_.length} pending writes`),n.D_=[]))});return function(t){return e.apply(this,arguments)}}())),n.L_}class MA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new MA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ee(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ih(n,e){if(Bn("AsyncQueue",`${e}: ${n}`),du(n))return new ee(L.UNAVAILABLE,`${e}: ${n}`);throw n}class bh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pe.comparator(t.key,r.key):(t,r)=>pe.comparator(t.key,r.key),this.keyedMap=xg(),this.sortedSet=new rn(this.comparator)}static emptySet(e){return new bh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new bh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class gB{constructor(){this.B_=new rn(pe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ie():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ch{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Ch(e,t,bh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class hee{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class fee{constructor(){this.queries=new ua(e=>O2(e),Rg),this.onlineState="Unknown",this.W_=new Set}}function RA(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,Z.Z)(function*(n,e){const t=he(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new hee,r=e.U_()?0:1);try{switch(r){case 0:s.q_=yield t.onListen(i,!0);break;case 1:s.q_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=Ih(o,`Initialization of query '${sh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Q_.push(e),e.G_(t.onlineState),s.q_&&e.z_(s.q_)&&kA(t)}),OA.apply(this,arguments)}function xA(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Z.Z)(function*(n,e){const t=he(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),0===s.Q_.length?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),NA.apply(this,arguments)}function pee(n,e){const t=he(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&kA(t)}function gee(n,e,t){const r=he(n),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(t);r.queries.delete(e)}function kA(n){n.W_.forEach(e=>{e.next()})}var FA,mB;(mB=FA||(FA={})).j_="default",mB.Cache="cache";class LA{constructor(e,t,r){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ch(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=Ch.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==FA.Cache}}class mee{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class _B{constructor(e){this.serializer=e}Ps(e){return wo(this.serializer,e)}Is(e){return e.metadata.exists?fU(this.serializer,e.document,!1):hn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return jn(e)}}class _ee{constructor(e,t,r){this.ia=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yB(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const r=ft.fromString(e.na.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,r=new _B(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||tt()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,Z.Z)(function*(){const t=yield function qX(n,e,t,r){return iA.apply(this,arguments)}(e.localStore,new _B(e.serializer),e.documents,e.ia.id),r=e.oa(e.documents);for(const i of e.queries)yield GX(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:t}})()}}function yB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class vB{constructor(e){this.key=e}}class EB{constructor(e){this.key=e}}class wB{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=tt(),this.mutatedKeys=tt(),this.ha=N2(e),this.Pa=new bh(this.ha)}get Ia(){return this.ua}Ta(e,t){const r=t?t.Ea:new gB,i=t?t.Pa:this.Pa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const m=i.get(f),y=Og(this.query,g)?g:null,E=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;m&&y?m.data.isEqual(y.data)?E!==b&&(r.track({type:3,doc:y}),C=!0):this.da(m,y)||(r.track({type:2,doc:y}),C=!0,(u&&this.ha(y,u)>0||l&&this.ha(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),C=!0):m&&!y&&(r.track({type:1,doc:m}),C=!0,(u||l)&&(a=!0)),C&&(y?(o=o.add(y),s=b?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const f="F"===this.query.limitType?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((f,g)=>function(y,E){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return b(y)-b(E)}(f.type,g.type)||this.ha(f.doc,g.doc)),this.Aa(r),i=null!=i&&i;const a=t&&!i?this.Ra():[],u=0===this.la.size&&this.current&&!i?1:0,l=u!==this.ca;return this.ca=u,0!==o.length||l?{snapshot:new Ch(this.query,e.Pa,s,o,e.mutatedKeys,0===u,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new gB,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(t=>this.ua=this.ua.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ua=this.ua.delete(t)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=tt(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const t=[];return e.forEach(r=>{this.la.has(r)||t.push(new EB(r))}),this.la.forEach(r=>{e.has(r)||t.push(new vB(r))}),t}fa(e){this.ua=e.hs,this.la=tt();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return Ch.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class yee{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vee{constructor(e){this.key=e,this.pa=!1}}class Eee{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new ua(a=>O2(a),Rg),this.Sa=new Map,this.ba=new Set,this.Da=new rn(pe.comparator),this.Ca=new Map,this.va=new QD,this.Fa={},this.Ma=new Map,this.xa=qc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function wee(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,Z.Z)(function*(n,e,t=!0){const r=iw(n);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=yield IB(r,e,t,!0),i}),VA.apply(this,arguments)}function Iee(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,Z.Z)(function*(n,e){const t=iw(n);yield IB(t,e,!0,!1)}),UA.apply(this,arguments)}function IB(n,e,t,r){return BA.apply(this,arguments)}function BA(){return BA=(0,Z.Z)(function*(n,e,t,r){const i=yield mh(n.localStore,_i(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=yield jA(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&nw(n.remoteStore,i),a}),BA.apply(this,arguments)}function jA(n,e,t,r,i){return $A.apply(this,arguments)}function $A(){return $A=(0,Z.Z)(function*(n,e,t,r,i){n.Na=(g,m,y)=>{return(E=(0,Z.Z)(function*(C,M,P,x){let z=M.view.Ta(P);z.Xi&&(z=yield YE(C.localStore,M.query,!1).then(({documents:xt})=>M.view.Ta(xt,z)));const ce=x&&x.targetChanges.get(M.targetId),Ae=x&&null!=x.targetMismatches.get(M.targetId),He=M.view.applyChanges(z,C.isPrimaryClient,ce,Ae);return XA(C,M.targetId,He.Va),He.snapshot}),function b(C,M,P,x){return E.apply(this,arguments)})(n,g,m,y);var E};const s=yield YE(n.localStore,e,!0),o=new wB(e,s.hs),a=o.Ta(s.documents),u=Ug.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,u);XA(n,t,l.Va);const f=new yee(e,t,o);return n.wa.set(e,f),n.Sa.has(t)?n.Sa.get(t).push(e):n.Sa.set(t,[e]),l.snapshot}),$A.apply(this,arguments)}function bee(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,Z.Z)(function*(n,e,t){const r=he(n),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Rg(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _h(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vh(r.remoteStore,i.targetId),Th(r,i.targetId)}).catch(lu))):(Th(r,i.targetId),yield _h(r.localStore,i.targetId,!0))}),HA.apply(this,arguments)}function Cee(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Z.Z)(function*(n,e){const t=he(n),r=t.wa.get(e),i=t.Sa.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vh(t.remoteStore,r.targetId))}),zA.apply(this,arguments)}function qA(){return qA=(0,Z.Z)(function*(n,e,t){const r=lS(n);try{const i=yield function(o,a){const u=he(o),l=vn.now(),f=a.reduce((y,E)=>y.add(E.key),tt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Li(),b=tt();return u.os.getEntries(y,f).next(C=>{E=C,E.forEach((M,P)=>{P.isValidDocument()||(b=b.add(M))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,E)).next(C=>{g=C;const M=[];for(const P of a){const x=JJ(P,g.get(P.key).overlayedDocument);null!=x&&M.push(new ca(P.key,x,_2(x.value.mapValue),En.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,M,a)}).next(C=>{m=C;const M=C.applyToLocalDocumentSet(g,b);return u.documentOverlayCache.saveOverlays(y,C.batchId,M)})}).then(()=>({batchId:m.batchId,changes:F2(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Fa[o.currentUser.toKey()];l||(l=new rn(Ke)),l=l.insert(a,u),o.Fa[o.currentUser.toKey()]=l}(r,i.batchId,t),yield da(r,i.changes),yield Eh(r.remoteStore)}catch(i){const s=Ih(i,"Failed to persist write");t.reject(s)}}),qA.apply(this,arguments)}function bB(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Z.Z)(function*(n,e){const t=he(n);try{const r=yield function HX(n,e){const t=he(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((f,g)=>{const m=i.get(g);if(!m)return;a.push(t.Qr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>t.Qr.addMatchingKeys(s,f.addedDocuments,g)));let y=m.withSequenceNumber(s.currentSequenceNumber);var b,C,M;null!==e.targetMismatches.get(g)?y=y.withResumeToken(lr.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(g,y),C=y,M=f,(0===(b=m).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(t.Qr.updateTargetData(s,y))});let u=Li(),l=tt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(XU(s,o,e.documentUpdates).next(f=>{u=f.cs,l=f.ls})),!r.isEqual(Pe.min())){const f=t.Qr.getLastRemoteSnapshotVersion(s).next(g=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.ns=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Ca.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?De(o.pa):i.removedDocuments.size>0&&(De(o.pa),o.pa=!1))}),yield da(t,r,e)}catch(r){yield lu(r)}}),GA.apply(this,arguments)}function CB(n,e,t){const r=he(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=he(o);u.onlineState=a;let l=!1;u.queries.forEach((f,g)=>{for(const m of g.Q_)m.G_(a)&&(l=!0)}),l&&kA(u)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Dee(n,e,t){return WA.apply(this,arguments)}function WA(){return WA=(0,Z.Z)(function*(n,e,t){const r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new rn(pe.comparator);o=o.insert(s,hn.newNoDocument(s,Pe.min()));const a=tt().add(s),u=new Vg(Pe.min(),new Map,new rn(Ke),o,a);yield bB(r,u),r.Da=r.Da.remove(s),r.Ca.delete(e),eS(r)}else yield _h(r.localStore,e,!1).then(()=>Th(r,e,t)).catch(lu)}),WA.apply(this,arguments)}function Aee(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,Z.Z)(function*(n,e){const t=he(n),r=e.batch.batchId;try{const i=yield function $X(n,e){const t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){const g=l.batch,m=g.keys();let y=N.resolve();return m.forEach(E=>{y=y.next(()=>f.getEntry(u,E)).next(b=>{const C=l.docVersions.get(E);De(null!==C),b.version.compareTo(C)<0&&(g.applyToRemoteDocument(b,l),b.isValidDocument()&&(b.setReadTime(l.commitVersion),f.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=tt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);JA(t,r,null),YA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield da(t,i)}catch(i){yield lu(i)}}),KA.apply(this,arguments)}function See(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Z.Z)(function*(n,e,t){const r=he(n);try{const i=yield function(o,a){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(g=>(De(null!==g),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);JA(r,e,t),YA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield da(r,i)}catch(i){yield lu(i)}}),ZA.apply(this,arguments)}function QA(){return QA=(0,Z.Z)(function*(n,e){const t=he(n);Iu(t.remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=he(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ma.get(r)||[];i.push(e),t.Ma.set(r,i)}catch(r){const i=Ih(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),QA.apply(this,arguments)}function YA(n,e){(n.Ma.get(e)||[]).forEach(t=>{t.resolve()}),n.Ma.delete(e)}function JA(n,e,t){const r=he(n);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Th(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Sa.get(e))n.wa.delete(r),t&&n.ya.La(r,t);n.Sa.delete(e),n.isPrimaryClient&&n.va.Vr(e).forEach(r=>{n.va.containsKey(r)||TB(n,r)})}function TB(n,e){n.ba.delete(e.path.canonicalString());const t=n.Da.get(e);null!==t&&(vh(n.remoteStore,t),n.Da=n.Da.remove(e),n.Ca.delete(t),eS(n))}function XA(n,e,t){for(const r of t)r instanceof vB?(n.va.addReference(r.key,e),Mee(n,r)):r instanceof EB?(ne("SyncEngine","Document no longer in limbo: "+r.key),n.va.removeReference(r.key,e),n.va.containsKey(r.key)||TB(n,r.key)):Ie()}function Mee(n,e){const t=e.key,r=t.path.canonicalString();n.Da.get(t)||n.ba.has(r)||(ne("SyncEngine","New document in limbo: "+t),n.ba.add(r),eS(n))}function eS(n){for(;n.ba.size>0&&n.Da.size<n.maxConcurrentLimboResolutions;){const e=n.ba.values().next().value;n.ba.delete(e);const t=new pe(ft.fromString(e)),r=n.xa.next();n.Ca.set(r,new vee(t)),n.Da=n.Da.insert(t,r),nw(n.remoteStore,new la(_i(rh(t.path)),r,"TargetPurposeLimboResolution",Ji._e))}}function da(n,e,t){return tS.apply(this,arguments)}function tS(){return tS=(0,Z.Z)(function*(n,e,t){const r=he(n),i=[],s=[],o=[];var a;r.wa.isEmpty()||(r.wa.forEach((a,u)=>{o.push(r.Na(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const f=tA.Ki(u.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.ya.u_(i),yield(a=(0,Z.Z)(function*(l,f){const g=he(l);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>N.forEach(f,y=>N.forEach(y.qi,E=>g.persistence.referenceDelegate.addReference(m,y.targetId,E)).next(()=>N.forEach(y.Qi,E=>g.persistence.referenceDelegate.removeReference(m,y.targetId,E)))))}catch(m){if(!du(m))throw m;ne("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const y=m.targetId;if(!m.fromCache){const E=g.ns.get(y),C=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);g.ns=g.ns.insert(y,C)}}}),function u(l,f){return a.apply(this,arguments)})(r.localStore,s))}),tS.apply(this,arguments)}function Ree(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,Z.Z)(function*(n,e){const t=he(n);if(!t.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=yield YU(t.localStore,e);t.currentUser=e,(s=t).Ma.forEach(a=>{a.forEach(u=>{u.reject(new ee(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ma.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield da(t,r.us)}var s}),nS.apply(this,arguments)}function Oee(n,e){const t=he(n),r=t.Ca.get(e);if(r&&r.pa)return tt().add(r.key);{let i=tt();const s=t.Sa.get(e);if(!s)return i;for(const o of s){const a=t.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function xee(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,Z.Z)(function*(n,e){const t=he(n),r=yield YE(t.localStore,e.query,!0),i=e.view.fa(r);return t.isPrimaryClient&&XA(t,e.targetId,i.Va),i}),rS.apply(this,arguments)}function Nee(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,Z.Z)(function*(n,e){const t=he(n);return tB(t.localStore,e).then(r=>da(t,r))}),iS.apply(this,arguments)}function kee(n,e,t,r){return sS.apply(this,arguments)}function sS(){return sS=(0,Z.Z)(function*(n,e,t,r){const i=he(n),s=yield function(a,u){const l=he(a),f=he(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",g=>f.vn(g,u).next(m=>m?l.localDocuments.getDocuments(g,m):N.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===t?yield Eh(i.remoteStore):"acknowledged"===t||"rejected"===t?(JA(i,e,r||null),YA(i,e),u=e,he(he(i.localStore).mutationQueue).Mn(u)):Ie(),yield da(i,s)):ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),sS.apply(this,arguments)}function oS(){return oS=(0,Z.Z)(function*(n,e){const t=he(n);if(iw(t),lS(t),!0===e&&!0!==t.Oa){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield DB(t,r.toArray());t.Oa=!0,yield SA(t.remoteStore,!0);for(const s of i)nw(t.remoteStore,s)}else if(!1===e&&!1!==t.Oa){const r=[];let i=Promise.resolve();t.Sa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Th(t,o),_h(t.localStore,o,!0))),vh(t.remoteStore,o)}),yield i,yield DB(t,r),function(o){const a=he(o);a.Ca.forEach((u,l)=>{vh(a.remoteStore,l)}),a.va.mr(),a.Ca=new Map,a.Da=new rn(pe.comparator)}(t),t.Oa=!1,yield SA(t.remoteStore,!1)}}),oS.apply(this,arguments)}function DB(n,e,t){return aS.apply(this,arguments)}function aS(){return aS=(0,Z.Z)(function*(n,e,t){const r=he(n),i=[],s=[];for(const o of e){let a;const u=r.Sa.get(o);if(u&&0!==u.length){a=yield mh(r.localStore,_i(u[0]));for(const l of u){const f=r.wa.get(l),g=yield xee(r,f);g.snapshot&&s.push(g.snapshot)}}else{const l=yield eB(r.localStore,o);a=yield mh(r.localStore,l),yield jA(r,AB(l),o,!1,a.resumeToken)}i.push(a)}return r.ya.u_(s),i}),aS.apply(this,arguments)}function AB(n){return P2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Lee(n){return t=he(n).localStore,he(he(t).persistence).Bi();var t}function Vee(n,e,t,r){return uS.apply(this,arguments)}function uS(){return uS=(0,Z.Z)(function*(n,e,t,r){const i=he(n);if(i.Oa)return void ne("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield tB(i.localStore,x2(s[0])),a=Vg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,lr.EMPTY_BYTE_STRING);yield da(i,o,a);break}case"rejected":yield _h(i.localStore,e,!0),Th(i,e,r);break;default:Ie()}}),uS.apply(this,arguments)}function Uee(n,e,t){return cS.apply(this,arguments)}function cS(){return cS=(0,Z.Z)(function*(n,e,t){const r=iw(n);if(r.Oa){for(const i of e){if(r.Sa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ne("SyncEngine","Adding an already active target "+i);continue}const s=yield eB(r.localStore,i),o=yield mh(r.localStore,s);yield jA(r,AB(s),o.targetId,!1,o.resumeToken),nw(r.remoteStore,o)}for(const i of t)r.Sa.has(i)&&(yield _h(r.localStore,i,!1).then(()=>{vh(r.remoteStore,i),Th(r,i)}).catch(lu))}}),cS.apply(this,arguments)}function iw(n){const e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dee.bind(null,e),e.ya.u_=pee.bind(null,e.eventManager),e.ya.La=gee.bind(null,e.eventManager),e}function lS(n){const e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=See.bind(null,e),e}class Yg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Z.Z)(function*(){t.serializer=Zg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return QU(this.persistence,new ZU,e.initialUser,this.serializer)}createPersistence(e){return new YD(KE.Hr,this.serializer)}createSharedClientState(e){return new sB}terminate(){var e=this;return(0,Z.Z)(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class dS extends Yg{constructor(e,t,r){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Z.Z)(function*(){yield t().call(r,e),yield r.ka.initialize(r,e),yield lS(r.ka.syncEngine),yield Eh(r.ka.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return QU(this.persistence,new ZU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new BU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new lJ(t,this.persistence);return new cJ(e.asyncQueue,r)}createPersistence(e){const t=eA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new XD(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,aB(),tw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new sB}}class SB extends dS{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Z.Z)(function*(){yield t().call(r,e);const i=r.ka.syncEngine;r.sharedClientState instanceof cA&&(r.sharedClientState.syncEngine={Zs:kee.bind(null,i),Xs:Vee.bind(null,i),eo:Uee.bind(null,i),Bi:Lee.bind(null,i),Ys:Nee.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var s=(0,Z.Z)(function*(o){yield function Fee(n,e){return oS.apply(this,arguments)}(r.ka.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=aB();if(!cA.D(t))throw new ee(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Dh{initialize(e,t){var r=this;return(0,Z.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>CB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ree.bind(null,r.syncEngine),yield SA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fee}createDatastore(e){const t=Zg(e.databaseInfo.databaseId),r=new QX(e.databaseInfo);return new XX(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>CB(this.syncEngine,t,0),a=oB.D()?new oB:new WX,new nee(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,u,l,f){const g=new Eee(i,s,o,a,u,l);return f&&(g.Oa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,Z.Z)(function*(){var t,r;yield(r=(0,Z.Z)(function*(s){const o=he(s);ne("RemoteStore","RemoteStore shutting down."),o.v_.add(5),yield yh(o),o.M_.shutdown(),o.x_.set("Unknown")}),function i(s){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function PB(n,e=10240){let t=0;return{read:()=>(0,Z.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Z.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class sw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $ee{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new cr,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(r=>{r&&r.ra()?this.metadata.resolve(r.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.na)}`))},r=>this.metadata.reject(r))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,Z.Z)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,Z.Z)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,Z.Z)(function*(){const t=yield e.Wa();if(null===t)return null;const r=e.$a.decode(t),i=Number(r);isNaN(i)&&e.Ga(`length string (${r}) is not valid number`);const s=yield e.za(i);return new mee(JSON.parse(s),t.length+i)})()}ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Wa(){var e=this;return(0,Z.Z)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const t=e.ja();t<0&&e.Ga("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}za(e){var t=this;return(0,Z.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ha())&&t.Ga("Reached the end of bundle when more is expected.");const r=t.$a.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,Z.Z)(function*(){const t=yield e.Ka.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Hee{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Z.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new ee(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(i=(0,Z.Z)(function*(o,a){const u=he(o),l={documents:a.map(y=>Bg(u.serializer,y))},f=yield u.vo("BatchGetDocuments",u.serializer.databaseId,ft.emptyPath(),l,a.length),g=new Map;f.forEach(y=>{const E=function uX(n,e){return"found"in e?function(r,i){De(!!i.found);const s=wo(r,i.found.name),o=jn(i.found.updateTime),a=i.found.createTime?jn(i.found.createTime):Pe.min(),u=new Ur({mapValue:{fields:i.found.fields}});return hn.newFoundDocument(s,o,a,u)}(n,e):"missing"in e?function(r,i){De(!!i.missing),De(!!i.readTime);const s=wo(r,i.missing),o=jn(i.readTime);return hn.newNoDocument(s,o)}(n,e):Ie()}(u.serializer,y);g.set(E.key.toString(),E)});const m=[];return a.forEach(y=>{const E=g.get(y.toString());De(!!E),m.push(E)}),m}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ch(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Z.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=pe.fromPath(i);e.mutations.push(new OD(s,e.precondition(s)))}),yield(r=(0,Z.Z)(function*(s,o){const a=he(s),u={writes:o.map(l=>jg(a.serializer,l))};yield a.So("Commit",a.serializer.databaseId,ft.emptyPath(),u)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ie();t=Pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ee(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pe.min())?En.exists(!1):En.updateTime(t):En.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pe.min()))throw new ee(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return En.updateTime(t)}return En.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zee{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Ja=r.maxAttempts,this.jo=new dA(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,Z.Z)(function*(){const t=new Hee(e.datastore),r=e.Xa(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.eu(s)}))}).catch(i=>{e.eu(i)})}))}Xa(e){try{const t=this.updateFunction(e);return!bg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Y2(t)}return!1}}class qee{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Cr.UNAUTHENTICATED,this.clientId=GV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Z.Z)(function*(a){ne("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ih(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ow(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,Z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Z.Z)(function*(s){r.isEqual(s)||(yield YU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),hS.apply(this,arguments)}function fS(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,Z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield gS(n);ne("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>pB(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>pB(e.remoteStore,i)),n._onlineComponents=e}),pS.apply(this,arguments)}function MB(n){return"FirebaseError"===n.name?n.code===L.FAILED_PRECONDITION||n.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function gS(n){return mS.apply(this,arguments)}function mS(){return mS=(0,Z.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ow(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!MB(t))throw t;ki("Error using user provided cache. Falling back to memory cache: "+t),yield ow(n,new Yg)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield ow(n,new Yg);return n._offlineComponents}),mS.apply(this,arguments)}function aw(n){return _S.apply(this,arguments)}function _S(){return _S=(0,Z.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield fS(n,n._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield fS(n,new Dh))),n._onlineComponents}),_S.apply(this,arguments)}function RB(n){return gS(n).then(e=>e.persistence)}function Ah(n){return gS(n).then(e=>e.localStore)}function OB(n){return aw(n).then(e=>e.remoteStore)}function yS(n){return aw(n).then(e=>e.syncEngine)}function Sh(n){return vS.apply(this,arguments)}function vS(){return vS=(0,Z.Z)(function*(n){const e=yield aw(n),t=e.eventManager;return t.onListen=wee.bind(null,e.syncEngine),t.onUnlisten=bee.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Iee.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Cee.bind(null,e.syncEngine),t}),vS.apply(this,arguments)}function NB(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(s,o,a,u,l){const f=new sw({next:m=>{o.enqueueAndForget(()=>xA(s,g));const y=m.docs.has(a);!y&&m.fromCache?l.reject(new ee(L.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&"server"===u.source?l.reject(new ee(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new LA(rh(a.path),f,{includeMetadataChanges:!0,ta:!0});return RA(s,g)}(yield Sh(n),n.asyncQueue,e,t,r)})),r.promise}function kB(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(s,o,a,u,l){const f=new sw({next:m=>{o.enqueueAndForget(()=>xA(s,g)),m.fromCache&&"server"===u.source?l.reject(new ee(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new LA(a,f,{includeMetadataChanges:!0,ta:!0});return RA(s,g)}(yield Sh(n),n.asyncQueue,e,t,r)})),r.promise}function FB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const LB=new Map;function ES(n,e,t){if(!t)throw new ee(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VB(n,e,t,r){if(!0===e&&!0===r)throw new ee(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UB(n){if(!pe.isDocumentKey(n))throw new ee(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BB(n){if(pe.isDocumentKey(n))throw new ee(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ie()}function ht(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ee(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uw(n);throw new ee(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jB(n,e){if(e<=0)throw new ee(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class $B{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ee(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ee(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=FB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ee(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jg{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $B({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ee(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $B(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new YY;switch(r.type){case"firstParty":return new tJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=LB.get(t);r&&(ne("ComponentProvider","Removing Datastore"),LB.delete(t),r.terminate())}(this),Promise.resolve()}}class Br{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Br(this.firestore,e,this._query)}}class fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Io extends Br{constructor(e,t,r){super(e,t,rh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new pe(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function zB(n,e,...t){if(n=(0,Mt.m9)(n),ES("collection","path",e),n instanceof Jg){const r=ft.fromString(e,...t);return BB(r),new Io(n,null,r)}{if(!(n instanceof fn||n instanceof Io))throw new ee(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return BB(r),new Io(n.firestore,null,r)}}function cw(n,e,...t){if(n=(0,Mt.m9)(n),1===arguments.length&&(e=GV.newId()),ES("doc","path",e),n instanceof Jg){const r=ft.fromString(e,...t);return UB(r),new fn(n,null,new pe(r))}{if(!(n instanceof fn||n instanceof Io))throw new ee(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return UB(r),new fn(n.firestore,n instanceof Io?n.converter:null,new pe(r))}}function qB(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),(n instanceof fn||n instanceof Io)&&(e instanceof fn||e instanceof Io)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function wS(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),n instanceof Br&&e instanceof Br&&n.firestore===e.firestore&&Rg(n._query,e._query)&&n.converter===e.converter}class rte{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new dA(this,"async_queue_retry"),this.cu=()=>{const t=tw();t&&ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const e=tw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=tw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const t=new cr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,Z.Z)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(t){if(!du(t))throw t;ne("AsyncQueue","Operation failed with retryable error: "+t)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const t=this.nu.then(()=>(this._u=!0,e().catch(r=>{throw this.ou=r,this._u=!1,Bn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this._u=!1,r))));return this.nu=t,t}enqueueAfterDelay(e,t,r){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const i=MA.createAndSchedule(this,e,t,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&Ie()}verifyOperationInProgress(){}Tu(){var e=this;return(0,Z.Z)(function*(){let t;do{t=e.nu,yield t}while(t!==e.nu)})()}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function IS(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class ite{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class sn extends Jg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new rte,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GB(this),this._firestoreClient.terminate()}}function On(n){return n._firestoreClient||GB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GB(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new RJ(n._databaseId,u,n._persistenceKey,(f=i).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,FB(f.experimentalLongPollingOptions),f.useFetchStreams));var u,f;n._firestoreClient=new qee(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function WB(n,e,t){const r=new cr;return n.asyncQueue.enqueue((0,Z.Z)(function*(){try{yield ow(n,t),yield fS(n,e),r.resolve()}catch(i){const s=i;if(!MB(s))throw s;ki("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function KB(n){if(n._initialized||n._terminated)throw new ee(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(lr.fromBase64String(e))}catch(t){throw new ee(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bo(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ha{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ee(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wc{constructor(e){this._methodName=e}}class lw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}const gte=/^__.*__$/;class mte{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new uh(e,this.data,t,this.fieldTransforms)}}class ZB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class dw{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new dw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return pw(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(QB(this.Vu)&&gte.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class _te{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zg(e)}Cu(e,t,r,i=!1){return new dw({Vu:e,methodName:t,Du:r,path:dn.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kc(n){const e=n._freezeSettings(),t=Zg(n._databaseId);return new _te(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hw(n,e,t,r,i,s={}){const o=n.Cu(s.merge||s.mergeFields?2:0,e,t,i);PS("Data must be an object, but it was:",o,r);const a=XB(r,o);let u,l;if(s.merge)u=new Fi(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const m=tm(e,g,t);if(!o.contains(m))throw new ee(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);tj(f,m)||f.push(m)}u=new Fi(f),l=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=o.fieldTransforms;return new mte(new Ur(a),u,l)}class em extends Wc{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}function YB(n,e,t){return new dw({Vu:3,Du:e.settings.Du,methodName:n._methodName,gu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bS extends Wc{_toFieldTransform(e){return new kg(e.path,new oh)}isEqual(e){return e instanceof bS}}class CS extends Wc{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=YB(this,e,!0),r=this.vu.map(s=>Zc(s,t)),i=new Vc(r);return new kg(e.path,i)}isEqual(e){return e instanceof CS&&(0,Mt.vZ)(this.vu,e.vu)}}class TS extends Wc{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=YB(this,e,!0),r=this.vu.map(s=>Zc(s,t)),i=new Uc(r);return new kg(e.path,i)}isEqual(e){return e instanceof TS&&(0,Mt.vZ)(this.vu,e.vu)}}class DS extends Wc{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new ah(e.serializer,B2(e.serializer,this.Fu));return new kg(e.path,t)}isEqual(e){return e instanceof DS&&this.Fu===e.Fu}}function AS(n,e,t,r){const i=n.Cu(1,e,t);PS("Data must be an object, but it was:",i,r);const s=[],o=Ur.empty();hu(r,(u,l)=>{const f=fw(e,u,t);l=(0,Mt.m9)(l);const g=i.yu(f);if(l instanceof em)s.push(f);else{const m=Zc(l,g);null!=m&&(s.push(f),o.set(f,m))}});const a=new Fi(s);return new ZB(o,a,i.fieldTransforms)}function SS(n,e,t,r,i,s){const o=n.Cu(1,e,t),a=[tm(e,r,t)],u=[i];if(s.length%2!=0)throw new ee(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(tm(e,s[m])),u.push(s[m+1]);const l=[],f=Ur.empty();for(let m=a.length-1;m>=0;--m)if(!tj(l,a[m])){const y=a[m];let E=u[m];E=(0,Mt.m9)(E);const b=o.yu(y);if(E instanceof em)l.push(y);else{const C=Zc(E,b);null!=C&&(l.push(y),f.set(y,C))}}const g=new Fi(l);return new ZB(f,g,o.fieldTransforms)}function JB(n,e,t,r=!1){return Zc(t,n.Cu(r?4:3,e))}function Zc(n,e){if(ej(n=(0,Mt.m9)(n)))return PS("Unsupported field value:",e,n),XB(n,e);if(n instanceof Wc)return function(r,i){if(!QB(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Zc(a,i.wu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,Mt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return B2(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=vn.fromDate(r);return{timestampValue:lh(i.serializer,s)}}if(r instanceof vn){const s=new vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(i.serializer,s)}}if(r instanceof lw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bo)return{bytesValue:aU(i.serializer,r._byteString)};if(r instanceof fn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:VD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${uw(r)}`)}(n,e)}function XB(n,e){const t={};return u2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hu(n,(r,i)=>{const s=Zc(i,e.fu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function ej(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vn||n instanceof lw||n instanceof bo||n instanceof fn||n instanceof Wc)}function PS(n,e,t){if(!ej(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=uw(t);throw e.Su("an object"===r?n+" a custom object":n+" "+r)}var i}function tm(n,e,t){if((e=(0,Mt.m9)(e))instanceof ha)return e._internalPath;if("string"==typeof e)return fw(n,e);throw pw("Field path arguments must be of type string or ",n,!1,void 0,t)}const yte=new RegExp("[~\\*/\\[\\]]");function fw(n,e,t){if(e.search(yte)>=0)throw pw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ha(...e.split("."))._internalPath}catch{throw pw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pw(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ee(L.INVALID_ARGUMENT,a+n+u)}function tj(n,e){return n.some(t=>t.isEqual(e))}class nm{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vte extends nm{data(){return super.data()}}function gw(n,e){return"string"==typeof e?fw(n,e):e instanceof ha?e._internalPath:e._delegate._internalPath}function nj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ee(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MS{}class rm extends MS{}function Cu(n,e,...t){let r=[];e instanceof MS&&r.push(e),r=r.concat(t),function(s){const o=s.filter(u=>u instanceof Ph).length,a=s.filter(u=>u instanceof im).length;if(o>1||o>0&&a>0)throw new ee(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class im extends rm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new im(e,t,r)}_apply(e){const t=this._parse(e);return oj(e._query,t),new Br(e.firestore,e.converter,MD(e._query,t))}_parse(e){const t=Kc(e.firestore);return function(s,o,a,u,l,f,g){let m;if(l.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new ee(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){sj(g,f);const y=[];for(const E of g)y.push(ij(u,s,E));m={arrayValue:{values:y}}}else m=ij(u,s,g)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||sj(g,f),m=JB(a,"where",g,"in"===f||"not-in"===f);return pt.create(l,f,m)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ph extends MS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ph(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Bt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)oj(o,u),o=MD(o,u)}(e._query,t),new Br(e.firestore,e.converter,MD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RS extends rm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new RS(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new ee(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ee(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pg(s,o)}(e._query,this._field,this._direction);return new Br(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new aa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class mw extends rm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new mw(e,t,r)}_apply(e){return new Br(e.firestore,e.converter,kE(e._query,this._limit,this._limitType))}}class _w extends rm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _w(e,t,r)}_apply(e){const t=rj(e,this.type,this._docOrFields,this._inclusive);return new Br(e.firestore,e.converter,(s=t,new aa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class yw extends rm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new yw(e,t,r)}_apply(e){const t=rj(e,this.type,this._docOrFields,this._inclusive);return new Br(e.firestore,e.converter,(s=t,new aa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function rj(n,e,t,r){if(t[0]=(0,Mt.m9)(t[0]),t[0]instanceof nm)return function(s,o,a,u,l){if(!u)throw new ee(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const g of ih(s))if(g.field.isKeyField())f.push(Fc(o,u.key));else{const m=u.data.field(g.field);if(SE(m))throw new ee(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const y=g.field.canonicalString();throw new ee(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(m)}return new _u(f,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Kc(n.firestore);return function(o,a,u,l,f,g){const m=o.explicitOrderBy;if(f.length>m.length)throw new ee(L.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let E=0;E<f.length;E++){const b=f[E];if(m[E].field.isKeyField()){if("string"!=typeof b)throw new ee(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!PD(o)&&-1!==b.indexOf("/"))throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const C=o.path.child(ft.fromString(b));if(!pe.isDocumentKey(C))throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const M=new pe(C);y.push(Fc(a,M))}else{const C=JB(u,l,b);y.push(C)}}return new _u(y,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function ij(n,e,t){if("string"==typeof(t=(0,Mt.m9)(t))){if(""===t)throw new ee(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PD(e)&&-1!==t.indexOf("/"))throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ft.fromString(t));if(!pe.isDocumentKey(r))throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fc(n,new pe(r))}if(t instanceof fn)return Fc(n,t._key);throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uw(t)}.`)}function sj(n,e){if(!Array.isArray(n)||0===n.length)throw new ee(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oj(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ee(L.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class OS{convertValue(e,t="none"){switch(gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return hu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new lw(Rn(e.latitude),Rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=PE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tg(e));default:return null}}convertTimestamp(e){const t=sa(e);return new vn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ft.fromString(e);De(yU(r));const i=new fu(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(t)||Bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function vw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ste extends OS{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}class Qc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends nm{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sm extends fa{data(e={}){return super.data(e)}}class Tu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sm(this._firestore,this._userDataWriter,r.key,r,new Qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new sm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new sm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,f=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:Mte(a.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Mte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function uj(n,e){return n instanceof fa&&e instanceof fa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Tu&&e instanceof Tu&&n._firestore===e._firestore&&wS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Du extends OS{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function cj(n,e,t){n=ht(n,fn);const r=ht(n.firestore,sn),i=vw(n.converter,e,t);return Mh(r,[hw(Kc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,En.none())])}function lj(n,e,t,...r){n=ht(n,fn);const i=ht(n.firestore,sn),s=Kc(i);let o;return o="string"==typeof(e=(0,Mt.m9)(e))||e instanceof ha?SS(s,"updateDoc",n._key,e,t,r):AS(s,"updateDoc",n._key,e),Mh(i,[o.toMutation(n._key,En.exists(!0))])}function dj(n,...e){var t,r,i;n=(0,Mt.m9)(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||IS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(IS(e[o])){const g=e[o];e[o]=null===(t=g.next)||void 0===t?void 0:t.bind(g),e[o+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[o+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let u,l,f;if(n instanceof fn)l=ht(n.firestore,sn),f=rh(n._key.path),u={next:g=>{e[o]&&e[o](xS(l,n,g))},error:e[o+1],complete:e[o+2]};else{const g=ht(n,Br);l=ht(g.firestore,sn),f=g._query;const m=new Du(l);u={next:y=>{e[o]&&e[o](new Tu(l,m,g,y))},error:e[o+1],complete:e[o+2]},nj(n._query)}return function(m,y,E,b){const C=new sw(b),M=new LA(y,C,E);return m.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return RA(yield Sh(m),M)})),()=>{C.Qa(),m.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return xA(yield Sh(m),M)}))}}(On(l),f,a,u)}function Mh(n,e){return function(r,i){const s=new cr;return r.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function Tee(n,e,t){return qA.apply(this,arguments)}(yield yS(r),i,s)})),s.promise}(On(n),e)}function xS(n,e,t){const r=t.docs.get(e._key),i=new Du(n);return new fa(n,i,e._key,r,new Qc(t.hasPendingWrites,t.fromCache),e.converter)}const Kte={maxAttempts:5};class hj{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Kc(e)}set(e,t,r){this._verifyNotCommitted();const i=Au(e,this._firestore),s=vw(i.converter,t,r),o=hw(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,En.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Au(e,this._firestore);let o;return o="string"==typeof(t=(0,Mt.m9)(t))||t instanceof ha?SS(this._dataReader,"WriteBatch.update",s._key,t,r,i):AS(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,En.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Au(e,this._firestore);return this._mutations=this._mutations.concat(new ch(t._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Au(n,e){if((n=(0,Mt.m9)(n)).firestore!==e)throw new ee(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Zte extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Kc(t)}get(t){const r=Au(t,this._firestore),i=new Ste(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Ie();const o=s[0];if(o.isFoundDocument())return new nm(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new nm(this._firestore,i,r._key,null,r.converter);throw Ie()})}set(t,r,i){const s=Au(t,this._firestore),o=vw(s.converter,r,i),a=hw(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=Au(t,this._firestore);let a;return a="string"==typeof(r=(0,Mt.m9)(r))||r instanceof ha?SS(this._dataReader,"Transaction.update",o._key,r,i,s):AS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=Au(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Au(e,this._firestore),r=new Du(this._firestore);return super.get(e).then(i=>new fa(this._firestore,r,t._key,i._document,new Qc(!1,!1),t.converter))}}function kS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function mj(){if(typeof Uint8Array>"u")throw new ee("unimplemented","Uint8Arrays are not available in this environment.")}function _j(){if(!function PJ(){return typeof atob<"u"}())throw new ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Zd=Ac.SDK_VERSION,(0,Ac._registerComponent)(new TL.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new sn(new XY(r.getProvider("auth-internal")),new nJ(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ee(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Ac.registerVersion)(HV,"4.6.0",e),(0,Ac.registerVersion)(HV,"4.6.0","esm2017")}();class om{constructor(e){this._delegate=e}static fromBase64String(e){return _j(),new om(bo.fromBase64String(e))}static fromUint8Array(e){return mj(),new om(bo.fromUint8Array(e))}toBase64(){return _j(),this._delegate.toBase64()}toUint8Array(){return mj(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function FS(n){return function sne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class one{enableIndexedDbPersistence(e,t){return function ote(n,e){KB(n=ht(n,sn));const t=On(n);if(t._uninitializedComponentsProvider)throw new ee(L.FAILED_PRECONDITION,"SDK cache is already specified.");ki("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Dh;return WB(t,i,new dS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ate(n){KB(n=ht(n,sn));const e=On(n);if(e._uninitializedComponentsProvider)throw new ee(L.FAILED_PRECONDITION,"SDK cache is already specified.");ki("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Dh;return WB(e,r,new SB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ute(n){if(n._initialized&&!n._terminated)throw new ee(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{yield(t=(0,Z.Z)(function*(i){if(!_s.D())return Promise.resolve();const s=i+"main";yield _s.delete(s)}),function r(i){return t.apply(this,arguments)})(eA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class yj{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ki("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function HB(n,e,t,r={}){var i;const s=(n=ht(n,Jg))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Cr.MOCK_USER;else{a=(0,Mt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ee(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Cr(l)}n._authCredentials=new JY(new zV(a,u))}}(this._delegate,e,t,r)}enableNetwork(){return function lte(n){return function Gee(n){return n.asyncQueue.enqueue((0,Z.Z)(function*(){const e=yield RB(n),t=yield OB(n);return e.setNetworkEnabled(!0),function(i){const s=he(i);return s.v_.delete(0),Qg(s)}(t)}))}(On(n=ht(n,sn)))}(this._delegate)}disableNetwork(){return function dte(n){return function Wee(n){return n.asyncQueue.enqueue((0,Z.Z)(function*(){const e=yield RB(n),t=yield OB(n);return e.setNetworkEnabled(!1),(r=(0,Z.Z)(function*(s){const o=he(s);o.v_.add(0),yield yh(o),o.x_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(On(n=ht(n,sn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,VB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function cte(n){return function(t){const r=new cr;return t.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function Pee(n,e){return QA.apply(this,arguments)}(yield yS(t),r)})),r.promise}(On(n=ht(n,sn)))}(this._delegate)}onSnapshotsInSync(e){return function Ute(n,e){return function Qee(n,e){const t=new sw(e);return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return i=yield Sh(n),s=t,he(i).W_.add(s),void s.next();var i,s})),()=>{t.Qa(),n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return i=yield Sh(n),s=t,void he(i).W_.delete(s);var i,s}))}}(On(n=ht(n,sn)),IS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Rh(this,zB(this._delegate,e))}catch(t){throw yi(t,"collection()","Firestore.collection()")}}doc(e){try{return new ys(this,cw(this._delegate,e))}catch(t){throw yi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vi(this,function nte(n,e){if(n=ht(n,Jg),ES("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Br(n,null,(r=e,new aa(ft.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw yi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Qte(n,e,t){n=ht(n,sn);const r=Object.assign(Object.assign({},Kte),t);return function(s){if(s.maxAttempts<1)throw new ee(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new cr;return s.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){const l=yield function xB(n){return aw(n).then(e=>e.datastore)}(s);new zee(s.asyncQueue,l,a,o,u).Ya()})),u.promise}(On(n),i=>e(new Zte(n,i)),r)}(this._delegate,t=>e(new vj(this,t)))}batch(){return On(this._delegate),new Ej(new hj(this._delegate,e=>Mh(this._delegate,e)))}loadBundle(e){return function hte(n,e){const t=On(n=ht(n,sn)),r=new ite;return function Yee(n,e,t,r){const i=function(o,a){let u;return u="string"==typeof o?X2().encode(o):o,f=function(f,g){if(f instanceof Uint8Array)return PB(f,g);if(f instanceof ArrayBuffer)return PB(new Uint8Array(f),g);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new $ee(f,a);var f}(t,Zg(e));n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){!function Bee(n,e,t){const r=he(n);var i;(i=(0,Z.Z)(function*(o,a,u){try{const l=yield a.getMetadata();if(yield function(E,b){const C=he(E),M=jn(b.createTime);return C.persistence.runTransaction("hasNewerBundle","readonly",P=>C.$r.getBundleMetadata(P,b.id)).then(P=>!!P&&P.createTime.compareTo(M)>=0)}(o.localStore,l))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(E=l).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);u._updateProgress(yB(l));const f=new _ee(l,o.localStore,a.serializer);let g=yield a.Ba();for(;g;){const y=yield f.sa(g);y&&u._updateProgress(y),g=yield a.Ba()}const m=yield f.complete();return yield da(o,m.aa,void 0),yield function(E,b){const C=he(E);return C.persistence.runTransaction("Save bundle","readwrite",M=>C.$r.saveBundleMetadata(M,b))}(o.localStore,l),u._completeWith(m.progress),Promise.resolve(m._a)}catch(l){return ki("SyncEngine",`Loading bundle failed with ${l}`),u._failWith(l),Promise.resolve(new Set)}var E}),function s(o,a,u){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield yS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function fte(n,e){return function Jee(n,e){return n.asyncQueue.enqueue((0,Z.Z)(function*(){return function(r,i){const s=he(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(yield Ah(n),e)}))}(On(n=ht(n,sn)),e).then(t=>t?new Br(n,null,t.query):null)}(this._delegate,e).then(t=>t?new vi(this,t):null)}}class ww extends OS{constructor(e){super(),this.firestore=e}convertBytes(e){return new om(new bo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ys.forKey(t,this.firestore,null)}}class vj{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ww(e)}get(e){const t=Jc(e);return this._delegate.get(t).then(r=>new am(this._firestore,new fa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Jc(e);return r?(kS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Jc(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Jc(e);return this._delegate.delete(t),this}}class Ej{constructor(e){this._delegate=e}set(e,t,r){const i=Jc(e);return r?(kS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Jc(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Jc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Yc{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new sm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new um(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Yc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Yc(e,new ww(e),t),i.set(t,s)),s}}Yc.INSTANCES=new WeakMap;class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ww(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ys(t,new fn(t._delegate,r,new pe(e)))}static forKey(e,t,r){return new ys(t,new fn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Rh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Rh(this.firestore,zB(this._delegate,e))}catch(t){throw yi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mt.m9)(e))instanceof fn&&qB(this._delegate,e)}set(e,t){t=kS("DocumentReference.set",t);try{return t?cj(this._delegate,e,t):cj(this._delegate,e)}catch(r){throw yi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?lj(this._delegate,e):lj(this._delegate,e,t,...r)}catch(i){throw yi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Lte(n){return Mh(ht(n.firestore,sn),[new ch(n._key,En.none())])}(this._delegate)}onSnapshot(...e){const t=wj(e),r=Ij(e,i=>new am(this.firestore,new fa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return dj(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Ote(n){n=ht(n,fn);const e=ht(n.firestore,sn),t=On(e),r=new Du(e);return function Kee(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(r=(0,Z.Z)(function*(s,o,a){try{const u=yield function(f,g){const m=he(f);return m.persistence.runTransaction("read document","readonly",y=>m.localDocuments.getDocument(y,g))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new ee(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const l=Ih(u,`Failed to get document '${o} from cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Ah(n),e,t);var r})),t.promise}(t,n._key).then(i=>new fa(e,r,n._key,i,new Qc(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function xte(n){n=ht(n,fn);const e=ht(n.firestore,sn);return NB(On(e),n._key,{source:"server"}).then(t=>xS(e,n,t))}(this._delegate):function Rte(n){n=ht(n,fn);const e=ht(n.firestore,sn);return NB(On(e),n._key).then(t=>xS(e,n,t))}(this._delegate),t.then(r=>new am(this.firestore,new fa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?Yc.getInstance(this.firestore,e):null))}}function yi(n,e,t){return n.message=n.message.replace(e,t),n}function wj(n){for(const e of n)if("object"==typeof e&&!FS(e))return e;return{}}function Ij(n,e){var t,r;let i;return i=FS(n[0])?n[0]:FS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class am{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ys(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return uj(this._delegate,e._delegate)}}class um extends am{data(e){const t=this._delegate.data(e);return this._delegate._converter||function QY(n,e){n||Ie()}(void 0!==t),t}}class vi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ww(e)}where(e,t,r){try{return new vi(this.firestore,Cu(this._delegate,function Ete(n,e,t){const r=e,i=gw("where",n);return im._create(i,r,t)}(e,t,r)))}catch(i){throw yi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vi(this.firestore,Cu(this._delegate,function wte(n,e="asc"){const t=e,r=gw("orderBy",n);return RS._create(r,t)}(e,t)))}catch(r){throw yi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vi(this.firestore,Cu(this._delegate,function Ite(n){return jB("limit",n),mw._create("limit",n,"F")}(e)))}catch(t){throw yi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vi(this.firestore,Cu(this._delegate,function bte(n){return jB("limitToLast",n),mw._create("limitToLast",n,"L")}(e)))}catch(t){throw yi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vi(this.firestore,Cu(this._delegate,function Cte(...n){return _w._create("startAt",n,!0)}(...e)))}catch(t){throw yi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vi(this.firestore,Cu(this._delegate,function Tte(...n){return _w._create("startAfter",n,!1)}(...e)))}catch(t){throw yi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vi(this.firestore,Cu(this._delegate,function Dte(...n){return yw._create("endBefore",n,!1)}(...e)))}catch(t){throw yi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vi(this.firestore,Cu(this._delegate,function Ate(...n){return yw._create("endAt",n,!0)}(...e)))}catch(t){throw yi(t,"endAt()","Query.endAt()")}}isEqual(e){return wS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function kte(n){n=ht(n,Br);const e=ht(n.firestore,sn),t=On(e),r=new Du(e);return function Zee(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(r=(0,Z.Z)(function*(s,o,a){try{const u=yield YE(s,o,!0),l=new wB(o,u.hs),f=l.Ta(u.documents),g=l.applyChanges(f,!1);a.resolve(g.snapshot)}catch(u){const l=Ih(u,`Failed to execute query '${o} against cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Ah(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Tu(e,r,n,i))}(this._delegate):"server"===e?.source?function Fte(n){n=ht(n,Br);const e=ht(n.firestore,sn),t=On(e),r=new Du(e);return kB(t,n._query,{source:"server"}).then(i=>new Tu(e,r,n,i))}(this._delegate):function Nte(n){n=ht(n,Br);const e=ht(n.firestore,sn),t=On(e),r=new Du(e);return nj(n._query),kB(t,n._query).then(i=>new Tu(e,r,n,i))}(this._delegate),t.then(r=>new LS(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=wj(e),r=Ij(e,i=>new LS(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return dj(this._delegate,t,r)}withConverter(e){return new vi(this.firestore,this._delegate.withConverter(e?Yc.getInstance(this.firestore,e):null))}}class une{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new um(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new um(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new une(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new um(this._firestore,r))})}isEqual(e){return uj(this._delegate,e._delegate)}}class Rh extends vi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ys(this.firestore,e):null}doc(e){try{return new ys(this.firestore,void 0===e?cw(this._delegate):cw(this._delegate,e))}catch(t){throw yi(t,"doc()","CollectionReference.doc()")}}add(e){return function Vte(n,e){const t=ht(n.firestore,sn),r=cw(n),i=vw(n.converter,e);return Mh(t,[hw(Kc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ys(this.firestore,t))}isEqual(e){return qB(this._delegate,e._delegate)}withConverter(e){return new Rh(this.firestore,this._delegate.withConverter(e?Yc.getInstance(this.firestore,e):null))}}function Jc(n){return ht(n,fn)}class VS{constructor(...e){this._delegate=new ha(...e)}static documentId(){return new VS(dn.keyField().canonicalString())}isEqual(e){return(e=(0,Mt.m9)(e))instanceof ha&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Jte(){return new bS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xc(e)}static delete(){const e=function Yte(){return new em("deleteField")}();return e._methodName="FieldValue.delete",new Xc(e)}static arrayUnion(...e){const t=function Xte(...n){return new CS("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xc(t)}static arrayRemove(...e){const t=function ene(...n){return new TS("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xc(t)}static increment(e){const t=function tne(n){return new DS("increment",n)}(e);return t._methodName="FieldValue.increment",new Xc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cne={Firestore:yj,GeoPoint:lw,Timestamp:vn,Blob:om,Transaction:vj,WriteBatch:Ej,DocumentReference:ys,DocumentSnapshot:am,Query:vi,QueryDocumentSnapshot:um,QuerySnapshot:LS,CollectionReference:Rh,FieldPath:VS,FieldValue:Xc,setLogLevel:function ane(n){!function ZY(n){cu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function bj(n,e){return function hne(n,e=uL){return new ut(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function US(n,e){return bj(n,e).pipe(be(t=>({payload:t,type:"query"})))}!function dne(n){(function lne(n,e){n.INTERNAL.registerComponent(new TL.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},cne)))})(n,(e,t)=>new yj(e,t,new one)),n.registerVersion("@firebase/firestore-compat","0.3.29")}(ou.Z);class Cj{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=Mj(r,t);return new Aj(i,s,this.afs)}snapshotChanges(){return function fne(n,e){return bj(n,e).pipe(Rv(void 0),ST(),be(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zi)}valueChanges(e={}){return this.snapshotChanges().pipe(be(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return S(this.ref.get(e)).pipe(Zi)}}function Iw(n,e){return US(n,e).pipe(Rv(void 0),ST(),be(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const l=s.find(g=>g.doc.ref.isEqual(a.ref)),f=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function Tj(n,e,t){return Iw(n,t).pipe(xv((r,i)=>function pne(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function gne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return BS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return BS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return BS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),xn(),be(r=>r.map(i=>({type:i.type,payload:i}))))}function BS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Dj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Aj{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Iw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(be(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Rv(void 0),ST(),Xr(([r,i])=>i.length>0||!r),be(([,r])=>r),Zi)}auditTrail(e){return this.stateChanges(e).pipe(xv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Dj(e);return Tj(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zi)}valueChanges(e={}){return US(this.query,this.afs.schedulers.outsideAngular).pipe(be(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Zi)}get(e){return S(this.query.get(e)).pipe(Zi)}add(e){return this.ref.add(e)}doc(e){return new Cj(this.ref.doc(e),this.afs)}}class mne{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Iw(this.query,this.afs.schedulers.outsideAngular).pipe(be(t=>t.filter(r=>e.indexOf(r.type)>-1)),Xr(t=>t.length>0),Zi):Iw(this.query,this.afs.schedulers.outsideAngular).pipe(Zi)}auditTrail(e){return this.stateChanges(e).pipe(xv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Dj(e);return Tj(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zi)}valueChanges(e={}){return US(this.query,this.afs.schedulers.outsideAngular).pipe(be(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Zi)}get(e){return S(this.query.get(e)).pipe(Zi)}}const Sj=new ae("angularfire2.enableFirestorePersistence"),Pj=new ae("angularfire2.firestore.persistenceSettings"),_ne=new ae("angularfire2.firestore.settings"),yne=new ae("angularfire2.firestore.use-emulator");function Mj(n,e=(t=>t)){return{query:e(n),ref:n}}let Rj=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,u,l,f,g,m,y,E,b,C,M,P){this.schedulers=u;const x=AT(t,a,r),z=f;g&&bL(x,a,m,E,b,C,y,M),[this.firestore,this.persistenceEnabled$]=fL(`${x.name}.firestore`,"AngularFirestore",x.name,()=>{const ce=a.runOutsideAngular(()=>x.firestore());if(s&&ce.settings(s),z&&ce.useEmulator(...z),i&&!Iv(o)){const Ae=()=>{try{return S(ce.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(He){return typeof console<"u"&&console.warn(He),$(!1)}};return[ce,a.runOutsideAngular(Ae)]}return[ce,$(!1)]},[s,z,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=Mj(i,r),a=this.schedulers.ngZone.run(()=>s);return new Aj(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new mne(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Cj(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(G(Yv),G(Jv,8),G(Sj,8),G(_ne,8),G(ds),G(mt),G(dL),G(Pj,8),G(yne,8),G(CL,8),G(_L,8),G(yL,8),G(vL,8),G(EL,8),G(wL,8),G(IL,8),G(cL,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),vne=(()=>{class n{constructor(){ou.Z.registerVersion("angularfire",DT.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Sj,useValue:!0},{provide:Pj,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=An({type:n});static \u0275inj=Nn({providers:[Rj]})}return n})(),bw=(()=>{class n{constructor(t,r){this.http=t,this.fireStore=r}getDoc(t,r,i){return this.http.get(`https://sheets.googleapis.com/v4/spreadsheets/${t}/values/${r}:${i}?key=AIzaSyAZ4Ueu2usjHpH2SwzA_pNngNPzfajfxNs`)}login(t){return this.fireStore.collection("users",r=>r.where("email","==",t.email).where("password","==",t.password)).get().pipe(be(r=>{if(r.empty)throw new Error("User not found");return r.docs.map(i=>i.data())}),ru(r=>{throw console.error("Error getting user:",r),r}))}addCategory(t){return this.fireStore.collection("category").add(t)}addSheet(t){return this.fireStore.collection("sheets").add(t)}deleteSheet(t){return this.fireStore.collection("sheets").doc(t).delete()}addUser(t){return this.fireStore.collection("users").add(t)}getSheet(){return this.fireStore.collection("sheets").valueChanges()}getSheetDetail(t){return this.fireStore.collection("sheets").doc(t).valueChanges()}getSheetList(){return this.fireStore.collection("sheets").snapshotChanges().pipe(be(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i}})))}getCategory(t){return new Promise(r=>{this.fireStore.collection("category").ref.where("sheetId","==",t).get().then(i=>{const s=[];if(i.forEach(o=>{const a=o.data(),u={id:o.id,...a};s.push(u)}),1===s.length)r(s[0]);else{if(!(s.length>1))throw new Error("Category not found");r(s)}}).catch(i=>{throw console.error("Error getting data:",i),i})})}getUsers(){return this.fireStore.collection("users").snapshotChanges().pipe(be(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i}})))}getUserDetail(t){return this.fireStore.collection("users").doc(t).valueChanges()}deleteUser(t){return this.fireStore.collection("users").doc(t).delete().catch(r=>{throw console.error("Error getting data:",r),r})}updateUser(t,r){return this.fireStore.collection("users").doc(t).update(r)}deleteCategory(t){return this.fireStore.collection("category").doc(t).delete().catch(r=>{throw console.error("Error getting data:",r),r})}updateSheet(t,r){return this.fireStore.collection("sheets").doc(t).update(r)}updateCategory(t,r){return this.fireStore.collection("category").doc(t).update(r)}static#e=this.\u0275fac=function(r){return new(r||n)(G($k),G(Rj))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ene{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const wne={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const dr=typeof window<"u"&&window||{},hr=dr.document;var xj=function(n){return n.isBs4="bs4",n.isBs5="bs5",n}(xj||{});let pa;function Nj(){const n=dr.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),dr.document.head.appendChild(n);const e=dr.getComputedStyle(n).paddingLeft;return e&&parseFloat(e)?(dr.document.head.removeChild(n),"bs4"):(dr.document.head.removeChild(n),"bs5")}function cm(){return{isBs4:(pa||(pa=Nj()),"bs4"===pa),isBs5:(pa||(pa=Nj()),"bs5"===pa)}}class Sne{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=dr),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function Ane(){const n=cm(),e=Object.keys(n).find(t=>n[t]);return xj[e]}();return{crossorigin:"anonymous",integrity:"bs5"===e?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;let jS,Mne=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{jS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jS=!1}let Fj=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?hk(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(G(ds))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lj=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function One(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Rne(n){try{return n.frameElement}catch{return null}}(function Bne(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Uj(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=Uj(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Vne(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Une(n){return!function Nne(n){return function Fne(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function xne(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function kne(n){return function Lne(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Vj(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)(G(Fj))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vj(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Uj(n){if(!Vj(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function Bj(n){return null!=n&&"false"!=`${n}`}class jne{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return t?.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Cc(1)).subscribe(e)}}let $ne=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new jne(t,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||n)(G(Lj),G(mt),G(Qn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hne=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Bj(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Bj(t)}constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(r){return new(r||n)(W(Er),W($ne),W(Qn))};static#t=this.\u0275dir=Be({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[Gr]})}return n})(),jj=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Mne,Fj,Lj]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({imports:[wv]})}return n})();const zne=["addListener","removeListener"],qne=["addEventListener","removeEventListener"],Gne=["on","off"];function Cw(n,e,t,r){if(I(t)&&(r=t,t=void 0),r)return Cw(n,e,t).pipe(Y0(r));const[i,s]=function Zne(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?qne.map(o=>a=>n[o](e,a,t)):function Wne(n){return I(n.addListener)&&I(n.removeListener)}(n)?zne.map($j(n,e)):function Kne(n){return I(n.on)&&I(n.off)}(n)?Gne.map($j(n,e)):[];if(!i&&Xe(n))return Ht(o=>Cw(o,e,t))(bn(n));if(!i)throw new TypeError("Invalid event target");return new ut(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function $j(n,e){return t=>r=>n[t](e,r)}const lm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=lm;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new gt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=lm;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=lm;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Jne=new class Yne extends TT{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Qne extends bT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=lm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(lm.cancelAnimationFrame(t),e._scheduled=void 0)}});var Hj=function(n){return n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",n}(Hj||{}),$S=function(n){return n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",n}($S||{});function el(n,e){if(1!==n.nodeType)return[];const r=n.ownerDocument.defaultView?.getComputedStyle(n,null);return e?r&&r[e]:r}function HS(n){if(!n)return document.documentElement;let r,t=n?.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===el(t,"position")?HS(t):t:r?r.ownerDocument.documentElement:document.documentElement}function zS(n){return null!==n.parentNode?zS(n.parentNode):n}function Tw(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const o=s.commonAncestorContainer;if(n!==o&&e!==o||r.contains(i))return function Xne(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||HS(n.firstElementChild)===n)}(o)?o:HS(o);const a=zS(n);return a.host?Tw(a.host,e):Tw(n,zS(e).host)}function zj(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;e?.parentElement&&"none"===el(e,"transform");)e=e.parentElement;return e||document.documentElement}function qj(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function Gj(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function Wj(n){const e=n.body,t=n.documentElement;return{height:Gj("Height",e,t),width:Gj("Width",e,t)}}function dm(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function wn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function Kj(n){const e=n.getBoundingClientRect();if(!(e&&wn(e.top)&&wn(e.left)&&wn(e.bottom)&&wn(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?Wj(n.ownerDocument):void 0,i=r?.width||n.clientWidth||wn(e.right)&&wn(t.left)&&e.right-t.left||0,s=r?.height||n.clientHeight||wn(e.bottom)&&wn(t.top)&&e.bottom-t.top||0;let o=n.offsetWidth-i,a=n.offsetHeight-s;if(o||a){const u=el(n);o-=qj(u,"x"),a-=qj(u,"y"),t.width-=o,t.height-=a}return dm(t)}function qS(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function GS(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=el(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:GS(qS(n))}function WS(n,e,t=!1){const r="HTML"===e.nodeName,i=Kj(n),s=Kj(e),a=(GS(n),el(e)),u=parseFloat(a.borderTopWidth),l=parseFloat(a.borderLeftWidth);t&&r&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const f=dm({top:(i.top??0)-(s.top??0)-u,left:(i.left??0)-(s.left??0)-l,width:i.width,height:i.height});if(f.marginTop=0,f.marginLeft=0,r){const g=parseFloat(a.marginTop),m=parseFloat(a.marginLeft);wn(f.top)&&(f.top-=u-g),wn(f.bottom)&&(f.bottom-=u-g),wn(f.left)&&(f.left-=l-m),wn(f.right)&&(f.right-=l-m),f.marginTop=g,f.marginLeft=m}return f}function Zj(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;return"BODY"===r||"HTML"===r?(n.ownerDocument.scrollingElement||n.ownerDocument.documentElement)[t]:n[t]}function Qj(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===el(n,"position")||Qj(qS(n)))}function KS(n,e,t=0,r,i=!1){let s={top:0,left:0};const o=i?zj(n):Tw(n,e);if("viewport"===r)s=function tre(n,e=!1){const t=n.ownerDocument.documentElement,r=WS(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),s=Math.max(t.clientHeight,window.innerHeight||0),o=e?0:Zj(t),a=e?0:Zj(t,"left");return dm({top:o-Number(r?.top)+Number(r?.marginTop),left:a-Number(r?.left)+Number(r?.marginLeft),width:i,height:s})}(o,i);else{let a;"scrollParent"===r?(a=GS(qS(e)),"BODY"===a.nodeName&&(a=n.ownerDocument.documentElement)):a="window"===r?n.ownerDocument.documentElement:r;const u=WS(a,o,i);if(u&&"HTML"===a.nodeName&&!Qj(o)){const{height:l,width:f}=Wj(n.ownerDocument);wn(s.top)&&wn(u.top)&&wn(u.marginTop)&&(s.top+=u.top-u.marginTop),wn(s.top)&&(s.bottom=Number(l)+Number(u.top)),wn(s.left)&&wn(u.left)&&wn(u.marginLeft)&&(s.left+=u.left-u.marginLeft),wn(s.top)&&(s.right=Number(f)+Number(u.left))}else u&&(s=u)}return wn(s.left)&&(s.left+=t),wn(s.top)&&(s.top+=t),wn(s.right)&&(s.right-=t),wn(s.bottom)&&(s.bottom-=t),s}function nre({width:n,height:e}){return n*e}function Yj(n,e,t,r,i=["top","bottom","right","left"],s="viewport",o=0){if(-1===n.indexOf("auto"))return n;const a=KS(t,r,o,s),u={top:{width:a?.width??0,height:(e?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(e?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(e?.bottom??0)},left:{width:(e.left??0)-(a?.left??0),height:a?.height??0}},l=Object.keys(u).map(y=>({position:y,...u[y],area:nre(u[y])})).sort((y,E)=>E.area-y.area);let f=l.filter(({width:y,height:E})=>y>=t.clientWidth&&E>=t.clientHeight);f=f.filter(({position:y})=>i.some(E=>E===y));const g=f.length>0?f[0].position:l[0].position,m=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${cm().isBs5?$S[g]:g}`),g+(m?`-${m}`:"")}const Dw=(n,e=0)=>n?parseFloat(n):e;function Jj(n){const t=n.ownerDocument.defaultView?.getComputedStyle(n),r=Dw(t?.marginTop)+Dw(t?.marginBottom),i=Dw(t?.marginLeft)+Dw(t?.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function Xj(n,e,t){return WS(e,t?zj(n):Tw(n,e),t)}function ZS(n,e,t){const r=t.split(" ")[0],i=Jj(n),s={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",u=o?"left":"top",l=o?"height":"width",f=o?"width":"height";return s[a]=(e[a]??0)+e[l]/2-i[l]/2,s[u]=r===u?(e[u]??0)-i[f]:e[function ire(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(u)]??0,s}function e$(n,e){return!!n.modifiers[e]?.enabled}const ore={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Aw(n,e){return!!cm().isBs5&&ore[e].includes(n)}function t$(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function ere(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function cre(n){let e=n.offsets.target;const t=n.instance.target.querySelector(".arrow");if(!t)return n;const r=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),i=r?"height":"width",s=r?"Top":"Left",o=s.toLowerCase(),a=r?"left":"top",u=r?"bottom":"right",l=Jj(t)[i],f=n.placement.split(" ")[1];(n.offsets.host[u]??0)-l<(e[o]??0)&&(e[o]-=(e[o]??0)-((n.offsets.host[u]??0)-l)),Number(n.offsets.host[o])+Number(l)>(e[u]??0)&&(e[o]+=Number(n.offsets.host[o])+Number(l)-Number(e[u])),e=dm(e);const g=el(n.instance.target),m=parseFloat(g[`margin${s}`])||0,y=parseFloat(g[`border${s}Width`])||0;let E;if(f){const C=parseFloat(g.borderRadius)||0,M=Number(m+y+C);E=o===f?Number(n.offsets.host[o])+M:Number(n.offsets.host[o])+Number(n.offsets.host[i]-M)}else E=Number(n.offsets.host[o])+Number(n.offsets.host[i]/2-l/2);let b=E-(e[o]??0)-m-y;return b=Math.max(Math.min(e[i]-(l+5),b),0),n.offsets.arrow={[o]:Math.round(b),[a]:""},n.instance.arrow=t,n}function lre(n){if(n.offsets.target=dm(n.offsets.target),!e$(n.options,"flip"))return n.offsets.target={...n.offsets.target,...ZS(n.instance.target,n.offsets.host,n.placement)},n;const e=KS(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const a=Yj("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),u=[t,a];return u.forEach((l,f)=>{if(t!==l||u.length===f+1)return;t=n.placement.split(" ")[0];const g="left"===t&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===t&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===t&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===t&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),m=Math.floor(n.offsets.target.left??0)<Math.floor(e.left??0),y=Math.floor(n.offsets.target.right??0)>Math.floor(e.right??0),E=Math.floor(n.offsets.target.top??0)<Math.floor(e.top??0),b=Math.floor(n.offsets.target.bottom??0)>Math.floor(e.bottom??0),C="left"===t&&m||"right"===t&&y||"top"===t&&E||"bottom"===t&&b,M=-1!==["top","bottom"].indexOf(t),P=M&&"left"===r&&m||M&&"right"===r&&y||!M&&"left"===r&&E||!M&&"right"===r&&b;(g||C||P)&&((g||C)&&(t=u[f+1]),P&&(r=function sre(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target={...n.offsets.target,...ZS(n.instance.target,n.offsets.host,n.placement)})}),n}function hre(n){if(!e$(n.options,"preventOverflow"))return n;const e="transform",t=n.instance.target.style,{top:r,left:i,[e]:s}=t;t.top="",t.left="",t[e]="";const o=KS(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);t.top=r,t.left=i,t[e]=s;const u={primary(l){let f=n.offsets.target[l];return(n.offsets.target[l]??0)<(o[l]??0)&&(f=Math.max(n.offsets.target[l]??0,o[l]??0)),{[l]:f}},secondary(l){const f="right"===l,g=f?"left":"top";let y=n.offsets.target[g];return(n.offsets.target[l]??0)>(o[l]??0)&&(y=Math.min(n.offsets.target[g]??0,(o[l]??0)-n.offsets.target[f?"width":"height"])),{[g]:y}}};return["left","right","top","bottom"].forEach(l=>{const f=-1!==["left","top","start"].indexOf(l)?u.primary:u.secondary;n.offsets.target={...n.offsets.target,...f(l)}}),n}function fre(n){const e=n.placement,t=e.split(" ")[0],r=e.split(" ")[1];if(r){const{host:i,target:s}=n.offsets,o=-1!==["bottom","top"].indexOf(t),a=o?"left":"top",u=o?"width":"height",l={start:{[a]:i[a]},end:{[a]:(i[a]??0)+i[u]-s[u]}};n.offsets.target={...s,[a]:a===r?l.start[a]:l.end[a]}}return n}const gre=new class pre{position(e,t){return this.offset(e,t)}offset(e,t){return Xj(t,e)}positionElements(e,t,r,i,s){const o=[lre,fre,hre,cre],u=function dre(n,e,t,r){if(!n||!e)return;const i=Xj(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const s=!!t.match(/auto/g);let o=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=Yj(o,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:ZS(n,i,o),host:i,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(t,e,Hj[r],s);if(u)return o.reduce((l,f)=>f(l),u)}};function mre(n,e,t,r,i,s){const o=gre.positionElements(n,e,t,r,i);if(!o)return;const a=function rre(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(o);t$(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&t$(o.instance.arrow,o.offsets.arrow,s),function ure(n,e){const t=n.instance.target;let r=t.className;const i=cm().isBs5?$S[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function are(n){return cm().isBs5?Aw(n,"end")?"ms-2":Aw(n,"start")?"me-2":Aw(n,"top")?"mb-2":Aw(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(o,s)}let QS=(()=>{class n{constructor(t,r,i){this.update$$=new j,this.positionElements=new Map,this.isDisabled=!1,hk(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=Q(Cw(window,"scroll",{passive:!0}),Cw(window,"resize",{passive:!0}),$(0,Jne),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{mre(Sw(s.target),Sw(s.element),s.attachment,s.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Sw(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(Sw(t))}setOptions(t){this.options=t}static#e=this.\u0275fac=function(r){return new(r||n)(G(mt),G(pc),G(ds))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sw(n){return"string"==typeof n?document.querySelector(n):n instanceof Er?n.nativeElement:n??null}class hm{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class _re{constructor(e,t,r,i,s,o,a,u,l){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=u,this._document=l,this.onBeforeShow=new Dt,this.onShown=new Dt,this.onBeforeHide=new Dt,this.onHidden=new Dt,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=Nr.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof Er&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const r=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode?.removeChild(t),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef?.nativeElement;const t=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),r=this._listenOpts.show=s=>{e.show?e.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function Ine(n,e){const t=function Oj(n,e=wne){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=e[s[0]]||s;return new Ene(o[0],o[1])}),i=r.filter(s=>s.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(a=>i.push(a())),s.length=0};return t.forEach(a=>{const u=a.open===a.close,l=u?e.toggle:e.show;if(!u&&a.close&&e.hide){const f=a.close,g=e.hide;s.push(()=>n.listen(r,f,g))}l&&i.push(n.listen(r,a.open,()=>l(o)))}),()=>{i.forEach(a=>a())}}(this._renderer,{target:e.target,triggers:e.triggers,show:r,hide:t,toggle:s=>{this.isShown?t():r(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function bne(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function Cne(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new hm([]);if(e instanceof co){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(e,t);return o.markForCheck(),new hm([o.rootNodes],o)}const s=e.createEmbeddedView({});return this._applicationRef.attachView(s),new hm([s.rootNodes],s)}if("function"==typeof e){const s=this._componentFactoryResolver.resolveComponentFactory(e),o=Nr.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,r),this._applicationRef.attachView(a.hostView),new hm([[a.location.nativeElement]],a.hostView,a)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new hm([i])}}let YS=(()=>{class n{constructor(t,r,i,s,o,a){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=s,this._applicationRef=o,this._document=a}createLoader(t,r,i){return new _re(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(G(ip),G(mt),G(Nr),G(QS),G(Ya),G(Qn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yre=["*"];let n$=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),r$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Pw={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},vre=new ae("override-default-config");let Ere=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this._focusEl=hr.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),hr&&hr.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(hr.body,"modal-open"),this._renderer.setStyle(hr.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,hr&&hr.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(hr.body,"modal-open"),this._renderer.setStyle(hr.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(r){return new(r||n)(W(r$),W(Er),W(Fs))};static#t=this.\u0275cmp=Di({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(r,i){1&r&&bt("mousedown",function(o){return i.onClickStarted(o)})("click",function(o){return i.onClickStop(o)})("popstate",function(){return i.onPopState()},!1,oC)("keydown.esc",function(o){return i.onEsc(o)},!1,oC),2&r&&Ls("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:yre,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(r,i){1&r&&(function WO(n){const e=X()[un][yr];if(!e.projection){const r=e.projection=Ga(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?L5(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),re(0,"div",0)(1,"div",1),function KO(n,e=0,t){const r=X(),i=dt(),s=ld(i,rt+n,16,null,t||null);null===s.projection&&(s.projection=e),vf(),(!r[Rs]||Na())&&32!=(32&s.flags)&&function F3(n,e,t){YM(e[qe],0,e,t,Cb(n,t,e),qM(t.parent||e[yr],t,e))}(i,r,s)}(2),oe()()),2&r&&Wy("modal-dialog"+(i.config.class?" "+i.config.class:""))},dependencies:[Hne],encapsulation:2})}return n})(),wre=(()=>{class n{get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),Sne.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(r){return new(r||n)(W(Er),W(Fs))};static#t=this.\u0275cmp=Di({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return n})(),Ire=1,XS=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new Dt,this.onShown=new Dt,this.onHide=new Dt,this.onHidden=new Dt,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},Pw,i):Pw}show(t,r){this._focusEl=hr.activeElement,this.modalsCount++,this._createLoaders();const i=r?.id||Ire++;return this.config=this.modalDefaultOption?Object.assign({},Pw,this.modalDefaultOption,r):Object.assign({},Pw,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(wre).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){const r=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)r.provide(o);const i=new n$,s=r.provide({provide:r$,useValue:this.config}).provide({provide:n$,useValue:i}).attach(Ere).to("body");return i.hide=()=>this.hide(i.id),i.setClass=o=>{s.instance&&(s.instance.config.class=o)},i.onHidden=new Dt,i.onHide=new Dt,this.copyEvent(r.onBeforeHide,i.onHide),this.copyEvent(r.onHidden,i.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),i.content=r.getInnerComponent(),i.id=s.instance.config?.id),i}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(s=>s.instance?.config.id===t),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(hr.body,"modal-open"),this._renderer.setStyle(hr.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=hr.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){hr&&(this.originalBodyPadding=parseInt(window.getComputedStyle(hr.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(hr.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){hr.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(hr.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(hr.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>i.instance?.config.id===t);r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,s)=>{i.instance&&(i.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}static#e=this.\u0275fac=function(r){return new(r||n)(G(pc),G(YS),G(vre,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();jj.forRoot();let bre=(()=>{class n{static forRoot(){return{ngModule:n,providers:[XS,YS,QS]}}static forChild(){return{ngModule:n,providers:[XS,YS,QS]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({imports:[jj]})}return n})();function Cre(n,e){if(1&n&&Ot(0,"div",9),2&n){const t=Lt();Qo("height",t.pbThickness,"px")("color",t.pbColor),_c("ngx-position-absolute",t.loaderId!==t.defaultConfig.masterLoaderId)("loading-foreground",t.showForeground)("foreground-closing",t.foregroundClosing)("fast-closing",t.foregroundClosing&&t.fastFadeOut),Ne("ngClass","ngx-progress-bar-"+t.pbDirection)}}function Tre(n,e){if(1&n&&Ot(0,"img",10),2&n){const t=Lt();Qo("width",t.logoSize,"px")("height",t.logoSize,"px")("top",t.logoTop),Ne("ngClass",t.logoPosition)("src",t.trustedLogoUrl,Nb)}}function Dre(n,e){1&n&&Ot(0,"div")}function Are(n,e){if(1&n&&(re(0,"div"),_t(1,Dre,1,0,"div",11),oe()),2&n){const t=Lt();Wy(t.fgSpinnerClass),Me(1),Ne("ngForOf",t.fgDivs)}}function Sre(n,e){1&n&&qy(0)}function Pre(n,e){1&n&&_t(0,Sre,1,0,"ng-container",12),2&n&&Ne("ngTemplateOutlet",Lt().fgsTemplate)}function Mre(n,e){1&n&&Ot(0,"div")}function Rre(n,e){if(1&n&&(re(0,"div"),_t(1,Mre,1,0,"div",11),oe()),2&n){const t=Lt();Wy(t.bgSpinnerClass),Me(1),Ne("ngForOf",t.bgDivs)}}function Ore(n,e){1&n&&qy(0)}function xre(n,e){1&n&&_t(0,Ore,1,0,"ng-container",12),2&n&&Ne("ngTemplateOutlet",Lt().bgsTemplate)}var eP=function(n){return n.ballScaleMultiple="ball-scale-multiple",n.ballSpin="ball-spin",n.ballSpinClockwise="ball-spin-clockwise",n.ballSpinClockwiseFadeRotating="ball-spin-clockwise-fade-rotating",n.ballSpinFadeRotating="ball-spin-fade-rotating",n.chasingDots="chasing-dots",n.circle="circle",n.cubeGrid="cube-grid",n.doubleBounce="double-bounce",n.fadingCircle="fading-circle",n.foldingCube="folding-cube",n.pulse="pulse",n.rectangleBounce="rectangle-bounce",n.rectangleBounceParty="rectangle-bounce-party",n.rectangleBouncePulseOut="rectangle-bounce-pulse-out",n.rectangleBouncePulseOutRapid="rectangle-bounce-pulse-out-rapid",n.rotatingPlane="rotating-plane",n.squareJellyBox="square-jelly-box",n.squareLoader="square-loader",n.threeBounce="three-bounce",n.threeStrings="three-strings",n.wanderingCubes="wandering-cubes",n}(eP||{}),Gs=function(n){return n.bottomCenter="bottom-center",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.centerCenter="center-center",n.centerLeft="center-left",n.centerRight="center-right",n.topCenter="top-center",n.topLeft="top-left",n.topRight="top-right",n}(Gs||{}),i$=function(n){return n.leftToRight="ltr",n.rightToLeft="rtl",n}(i$||{});const Rw="fg-default",Ow="bg-default",kre={},Oh=!1,fm=!0,xw={"ball-scale-multiple":{divs:3,class:"sk-ball-scale-multiple"},"ball-spin":{divs:8,class:"sk-ball-spin"},"ball-spin-clockwise":{divs:8,class:"sk-ball-spin-clockwise"},"ball-spin-clockwise-fade-rotating":{divs:8,class:"sk-ball-spin-clockwise-fade-rotating"},"ball-spin-fade-rotating":{divs:8,class:"sk-ball-spin-fade-rotating"},"chasing-dots":{divs:2,class:"sk-chasing-dots"},circle:{divs:12,class:"sk-circle"},"cube-grid":{divs:9,class:"sk-cube-grid"},"double-bounce":{divs:2,class:"sk-double-bounce"},"fading-circle":{divs:12,class:"sk-fading-circle"},"folding-cube":{divs:4,class:"sk-folding-cube"},pulse:{divs:1,class:"sk-pulse"},"rectangle-bounce":{divs:5,class:"sk-rectangle-bounce"},"rectangle-bounce-party":{divs:5,class:"sk-rectangle-bounce-party"},"rectangle-bounce-pulse-out":{divs:5,class:"sk-rectangle-bounce-pulse-out"},"rectangle-bounce-pulse-out-rapid":{divs:5,class:"sk-rectangle-bounce-pulse-out-rapid"},"rotating-plane":{divs:1,class:"sk-rotating-plane"},"square-jelly-box":{divs:2,class:"sk-square-jelly-box"},"square-loader":{divs:1,class:"sk-square-loader"},"three-bounce":{divs:3,class:"sk-three-bounce"},"three-strings":{divs:3,class:"sk-three-strings"},"wandering-cubes":{divs:2,class:"sk-wandering-cubes"}},Vre={bgsColor:"#00ACC1",bgsOpacity:.5,bgsPosition:Gs.bottomRight,bgsSize:60,bgsType:eP.ballSpinClockwise,blur:5,delay:0,fastFadeOut:!1,fgsColor:"#00ACC1",fgsPosition:Gs.centerCenter,fgsSize:60,fgsType:eP.ballSpinClockwise,gap:24,logoPosition:Gs.centerCenter,logoSize:120,logoUrl:"",masterLoaderId:"master",overlayBorderRadius:"0",overlayColor:"rgba(40, 40, 40, 0.8)",pbColor:"#00ACC1",pbDirection:i$.leftToRight,pbThickness:3,hasProgressBar:!0,text:"",textColor:"#FFFFFF",textPosition:Gs.centerCenter,maxTime:-1,minTime:300},u$=new ae("ngxUiLoaderCustom.config");let pm=(()=>{class n{constructor(t){this.config=t,this.defaultConfig={...Vre},this.config&&(this.config.minTime&&this.config.minTime<0&&(this.config.minTime=0),this.defaultConfig={...this.defaultConfig,...this.config}),this.loaders={},this.showForeground=new O({loaderId:"",isShow:!1}),this.showForeground$=this.showForeground.asObservable(),this.showBackground=new O({loaderId:"",isShow:!1}),this.showBackground$=this.showBackground.asObservable(),this.fgClosing=new O({loaderId:"",isShow:!1}),this.foregroundClosing$=this.fgClosing.asObservable(),this.bgClosing=new O({loaderId:"",isShow:!1}),this.backgroundClosing$=this.bgClosing.asObservable()}bindLoaderData(t){const r=t===this.defaultConfig.masterLoaderId;if(this.loaders[t]){if(this.loaders[t].isBound)throw new Error(`[ngx-ui-loader] - loaderId "${t}" is duplicated.`);this.loaders[t].isBound=!0,this.loaders[t].isMaster=r,this.hasRunningTask(fm,t)?this.showForeground.next({loaderId:t,isShow:!0}):this.hasRunningTask(Oh,t)&&this.showBackground.next({loaderId:t,isShow:!0})}else this.createLoaderData(t,r,!0)}destroyLoaderData(t){this.stopAllLoader(t),delete this.loaders[t]}getDefaultConfig(){return{...this.defaultConfig}}getLoaders(){return JSON.parse(JSON.stringify(this.loaders))}getLoader(t){return this.loaders[t=t||this.defaultConfig.masterLoaderId]?JSON.parse(JSON.stringify(this.loaders[t])):null}startLoader(t,r=Rw,i){this.readyToStart(t,r,!0,i)&&(this.loaders[t].tasks[r].isOtherRunning||(this.hasRunningTask(Oh,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1})),this.showForeground.next({loaderId:t,isShow:!0})))}start(t=Rw,r){this.startLoader(this.defaultConfig.masterLoaderId,t,r)}startBackgroundLoader(t,r=Ow,i){this.readyToStart(t,r,!1,i)&&!this.hasRunningTask(fm,t)&&!this.loaders[t].tasks[r].isOtherRunning&&this.showBackground.next({loaderId:t,isShow:!0})}startBackground(t=Ow,r){this.startBackgroundLoader(this.defaultConfig.masterLoaderId,t,r)}stopLoader(t,r=Rw){this.readyToStop(t,r)&&(this.hasRunningTask(fm,t)||(this.foregroundCloseout(t),this.showForeground.next({loaderId:t,isShow:!1}),this.hasRunningTask(Oh,t)&&setTimeout(()=>{this.hasRunningTask(Oh,t)&&this.showBackground.next({loaderId:t,isShow:!0})},this.defaultConfig.fastFadeOut?300:500)))}stop(t=Rw){this.stopLoader(this.defaultConfig.masterLoaderId,t)}stopBackgroundLoader(t,r=Ow){this.readyToStop(t,r)&&!this.hasRunningTask(fm,t)&&!this.hasRunningTask(Oh,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1}))}stopBackground(t=Ow){this.stopBackgroundLoader(this.defaultConfig.masterLoaderId,t)}stopAllLoader(t){this.loaders[t]?(this.hasRunningTask(fm,t)?(this.foregroundCloseout(t),this.showForeground.next({loaderId:t,isShow:!1})):this.hasRunningTask(Oh,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1})),this.clearAllTimers(this.loaders[t].tasks),this.loaders[t].tasks={}):console.warn(`[ngx-ui-loader] - loaderId "${t}" does not exist.`)}stopAll(){this.stopAllLoader(this.defaultConfig.masterLoaderId)}hasRunningTask(t,r,i){if(this.loaders[r]){const s=this.loaders[r].tasks;return i?!!s[i]&&!!s[i].startAt:Object.keys(s).some(o=>!!s[o].startAt&&s[o].isForeground===t)}return!1}createLoaderData(t,r,i){this.loaders[t]||(this.loaders[t]={loaderId:t,tasks:{},isMaster:r,isBound:i})}foregroundCloseout(t){this.fgClosing.next({loaderId:t,isShow:!0}),setTimeout(()=>{this.fgClosing.next({loaderId:t,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}backgroundCloseout(t){this.bgClosing.next({loaderId:t,isShow:!0}),setTimeout(()=>{this.bgClosing.next({loaderId:t,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}clearTimers(t){clearTimeout(t.delayTimer),clearTimeout(t.maxTimer),clearTimeout(t.minTimer)}clearAllTimers(t){Object.keys(t).map(r=>{this.clearTimers(t[r])})}readyToStart(t,r,i,s=kre){this.createLoaderData(t,void 0,!1);const o=this.hasRunningTask(i,t);if(this.loaders[t].tasks[r]){if(this.loaders[t].tasks[r].isForeground!==i)throw new Error(`[ngx-ui-loader] - taskId "${r}" is duplicated.`)}else this.loaders[t].tasks[r]={taskId:r,isForeground:i,minTime:s.minTime>=0?s.minTime:this.defaultConfig.minTime,maxTime:s.maxTime?s.maxTime:this.defaultConfig.maxTime,delay:s.delay>=0?s.delay:this.defaultConfig.delay};return!(this.setDelayTimer(this.loaders[t].tasks[r],t)||(this.loaders[t].tasks[r]={...this.loaders[t].tasks[r],isOtherRunning:o,startAt:Date.now()},this.setMaxTimer(this.loaders[t].tasks[r],t),!this.loaders[t].isBound))}readyToStop(t,r){if(!this.loaders[t])return console.warn(`[ngx-ui-loader] - loaderId "${t}" does not exist.`),!1;const i=this.loaders[t].tasks[r];return!(!i||(i.isDelayed?(this.clearTimers(i),delete this.loaders[t].tasks[r],1):this.setMinTimer(i,t)||(this.clearTimers(i),delete this.loaders[t].tasks[r],0)))}setDelayTimer(t,r){if(t.delay>0){if(t.isDelayed)return!0;if(!t.delayTimer)return t.isDelayed=!0,t.delayTimer=setTimeout(()=>{t.isDelayed=!1,t.isForeground?this.startLoader(r,t.taskId):this.startBackgroundLoader(r,t.taskId)},t.delay),!0}return!1}setMaxTimer(t,r){t.maxTime>t.minTime&&(clearTimeout(t.maxTimer),t.maxTimer=setTimeout(()=>{t.isForeground?this.stopLoader(r,t.taskId):this.stopBackgroundLoader(r,t.taskId)},t.maxTime))}setMinTimer(t,r){const i=Date.now();return!!(t.startAt&&t.startAt+t.minTime>i)&&(t.minTimer=setTimeout(()=>{t.isForeground?this.stopLoader(r,t.taskId):this.stopBackgroundLoader(r,t.taskId)},t.startAt+t.minTime-i),!0)}}return n.\u0275fac=function(t){return new(t||n)(G(u$,8))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ure=(()=>{class n{constructor(t,r,i){this.domSanitizer=t,this.changeDetectorRef=r,this.ngxService=i,this.initialized=!1,this.defaultConfig=this.ngxService.getDefaultConfig(),this.bgsColor=this.defaultConfig.bgsColor,this.bgsOpacity=this.defaultConfig.bgsOpacity,this.bgsPosition=this.defaultConfig.bgsPosition,this.bgsSize=this.defaultConfig.bgsSize,this.bgsType=this.defaultConfig.bgsType,this.fastFadeOut=this.defaultConfig.fastFadeOut,this.fgsColor=this.defaultConfig.fgsColor,this.fgsPosition=this.defaultConfig.fgsPosition,this.fgsSize=this.defaultConfig.fgsSize,this.fgsType=this.defaultConfig.fgsType,this.gap=this.defaultConfig.gap,this.loaderId=this.defaultConfig.masterLoaderId,this.logoPosition=this.defaultConfig.logoPosition,this.logoSize=this.defaultConfig.logoSize,this.logoUrl=this.defaultConfig.logoUrl,this.overlayBorderRadius=this.defaultConfig.overlayBorderRadius,this.overlayColor=this.defaultConfig.overlayColor,this.pbColor=this.defaultConfig.pbColor,this.pbDirection=this.defaultConfig.pbDirection,this.pbThickness=this.defaultConfig.pbThickness,this.hasProgressBar=this.defaultConfig.hasProgressBar,this.text=this.defaultConfig.text,this.textColor=this.defaultConfig.textColor,this.textPosition=this.defaultConfig.textPosition}ngOnInit(){this.initializeSpinners(),this.ngxService.bindLoaderData(this.loaderId),this.determinePositions(),this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl),this.showForegroundWatcher=this.ngxService.showForeground$.pipe(Xr(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.showForeground=t.isShow,this.changeDetectorRef.markForCheck()}),this.showBackgroundWatcher=this.ngxService.showBackground$.pipe(Xr(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.showBackground=t.isShow,this.changeDetectorRef.markForCheck()}),this.foregroundClosingWatcher=this.ngxService.foregroundClosing$.pipe(Xr(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.foregroundClosing=t.isShow,this.changeDetectorRef.markForCheck()}),this.backgroundClosingWatcher=this.ngxService.backgroundClosing$.pipe(Xr(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.backgroundClosing=t.isShow,this.changeDetectorRef.markForCheck()}),this.initialized=!0}ngOnChanges(t){if(!this.initialized)return;const s=t.logoUrl;(t.fgsType||t.bgsType)&&this.initializeSpinners(),this.determinePositions(),s&&(this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl))}ngOnDestroy(){this.ngxService.destroyLoaderData(this.loaderId),this.showForegroundWatcher&&this.showForegroundWatcher.unsubscribe(),this.showBackgroundWatcher&&this.showBackgroundWatcher.unsubscribe(),this.foregroundClosingWatcher&&this.foregroundClosingWatcher.unsubscribe(),this.backgroundClosingWatcher&&this.backgroundClosingWatcher.unsubscribe()}initializeSpinners(){this.fgDivs=Array(xw[this.fgsType].divs).fill(1),this.fgSpinnerClass=xw[this.fgsType].class,this.bgDivs=Array(xw[this.bgsType].divs).fill(1),this.bgSpinnerClass=xw[this.bgsType].class}determinePositions(){this.logoTop="initial",this.spinnerTop="initial",this.textTop="initial",this.logoPosition.startsWith("center")?this.logoTop="50%":this.logoPosition.startsWith("top")&&(this.logoTop="30px"),this.fgsPosition.startsWith("center")?this.spinnerTop="50%":this.fgsPosition.startsWith("top")&&(this.spinnerTop="30px"),this.textPosition.startsWith("center")?this.textTop="50%":this.textPosition.startsWith("top")&&(this.textTop="30px"),this.fgsPosition===Gs.centerCenter?this.logoUrl&&this.logoPosition===Gs.centerCenter?this.text&&this.textPosition===Gs.centerCenter?(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - 12px - ${this.gap}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px - 12px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap}px + ${this.fgsSize/2}px)`)):(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - ${this.gap/2}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`)):this.text&&this.textPosition===Gs.centerCenter&&(this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.fgsSize/2}px + ${this.gap/2}px)`)):this.logoUrl&&this.logoPosition===Gs.centerCenter&&this.text&&this.textPosition===Gs.centerCenter&&(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`))}}return n.\u0275fac=function(t){return new(t||n)(W(Nk),W(Dp),W(pm))},n.\u0275cmp=Di({type:n,selectors:[["ngx-ui-loader"]],inputs:{bgsColor:"bgsColor",bgsOpacity:"bgsOpacity",bgsPosition:"bgsPosition",bgsSize:"bgsSize",bgsTemplate:"bgsTemplate",bgsType:"bgsType",fgsColor:"fgsColor",fgsPosition:"fgsPosition",fgsSize:"fgsSize",fgsTemplate:"fgsTemplate",fgsType:"fgsType",gap:"gap",loaderId:"loaderId",logoPosition:"logoPosition",logoSize:"logoSize",logoUrl:"logoUrl",overlayBorderRadius:"overlayBorderRadius",overlayColor:"overlayColor",pbColor:"pbColor",pbDirection:"pbDirection",pbThickness:"pbThickness",hasProgressBar:"hasProgressBar",text:"text",textColor:"textColor",textPosition:"textPosition"},features:[Gr],decls:14,vars:50,consts:[["class","ngx-progress-bar",3,"ngx-position-absolute","ngClass","height","color","loading-foreground","foreground-closing","fast-closing",4,"ngIf"],[1,"ngx-overlay"],["class","ngx-loading-logo",3,"ngClass","src","width","height","top",4,"ngIf"],[1,"ngx-foreground-spinner",3,"ngClass"],[3,"class",4,"ngIf","ngIfElse"],["foregroundTemplate",""],[1,"ngx-loading-text",3,"ngClass"],[1,"ngx-background-spinner",3,"ngClass"],["backgroundTemplate",""],[1,"ngx-progress-bar",3,"ngClass"],[1,"ngx-loading-logo",3,"ngClass","src"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"]],template:function(t,r){if(1&t&&(_t(0,Cre,1,13,"div",0),re(1,"div",1),_t(2,Tre,1,8,"img",2),re(3,"div",3),_t(4,Are,2,3,"div",4),_t(5,Pre,1,1,"ng-template",null,5,tv),oe(),re(7,"div",6)(8,"span"),Se(9),oe()()(),re(10,"div",7),_t(11,Rre,2,3,"div",4),_t(12,xre,1,1,"ng-template",null,8,tv),oe()),2&t){const i=$y(6),s=$y(13);Ne("ngIf",r.hasProgressBar),Me(1),Qo("background-color",r.overlayColor)("border-radius",r.overlayBorderRadius),_c("ngx-position-absolute",r.loaderId!==r.defaultConfig.masterLoaderId)("loading-foreground",r.showForeground)("foreground-closing",r.foregroundClosing)("fast-closing",r.foregroundClosing&&r.fastFadeOut),Me(1),Ne("ngIf",r.logoUrl),Me(1),Qo("color",r.fgsColor)("width",r.fgsSize,"px")("height",r.fgsSize,"px")("top",r.spinnerTop),Ne("ngClass",r.fgsPosition),Me(1),Ne("ngIf",!r.fgsTemplate)("ngIfElse",i),Me(3),Qo("top",r.textTop)("color",r.textColor),Ne("ngClass",r.textPosition),Me(2),fs(r.text),Me(1),Qo("width",r.bgsSize,"px")("height",r.bgsSize,"px")("color",r.bgsColor)("opacity",r.bgsOpacity),_c("ngx-position-absolute",r.loaderId!==r.defaultConfig.masterLoaderId)("loading-background",r.showBackground)("background-closing",r.backgroundClosing)("fast-closing",r.backgroundClosing&&r.fastFadeOut),Ne("ngClass",r.bgsPosition),Me(1),Ne("ngIf",!r.bgsTemplate)("ngIfElse",s)}},dependencies:[Ic,rk,Mp,uk],styles:['.ngx-progress-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:3px;z-index:99999!important;display:none;color:#00acc1;overflow:hidden}.ngx-progress-bar.loading-foreground[_ngcontent-%COMP%], .ngx-progress-bar.foreground-closing[_ngcontent-%COMP%]{display:block}.ngx-progress-bar.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-progress-bar.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-progress-bar[_ngcontent-%COMP%]:before, .ngx-progress-bar[_ngcontent-%COMP%]:after{background-color:currentColor;content:"";display:block;width:100%;height:100%;position:absolute;top:0}.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{transform:translate3d(-100%,0,0)}.ngx-progress-bar-ltr[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_progressBar-slide-ltr 12s ease-out 0s 1 normal;transform:translate3d(-5%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{transform:translate3d(100%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_progressBar-slide-rtl 12s ease-out 0s 1 normal;transform:translate3d(5%,0,0)}.foreground-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-ltr 1s ease-out 0s 1;transform:translateZ(0)}.fast-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-ltr .6s ease-out 0s 1!important}.foreground-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-rtl 1s ease-out 0s 1;transform:translateZ(0)}.fast-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-rtl .6s ease-out 0s 1!important}@keyframes _ngcontent-%COMP%_progressBar-slide-ltr{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(-5%,0,0)}}@keyframes _ngcontent-%COMP%_progressBar-slide-rtl{0%{transform:translate3d(100%,0,0)}to{transform:translate3d(5%,0,0)}}@keyframes _ngcontent-%COMP%_progressBar-slide-complete-ltr{0%{transform:translate3d(-75%,0,0)}50%{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_progressBar-slide-complete-rtl{0%{transform:translate3d(75%,0,0)}50%{transform:translateZ(0)}}.ngx-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:99998!important;background-color:#282828cc;cursor:progress;display:none}.ngx-overlay.loading-foreground[_ngcontent-%COMP%], .ngx-overlay.foreground-closing[_ngcontent-%COMP%]{display:block}.ngx-overlay.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-overlay.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-overlay[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%]{position:fixed;width:60px;height:60px;margin:0;color:#00acc1}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%]{position:fixed;margin:0;width:120px;height:120px}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:fixed;margin:0;font-family:sans-serif;font-weight:400;font-size:1.2em;color:#fff}.ngx-background-spinner[_ngcontent-%COMP%]{position:fixed;z-index:99997!important;width:60px;height:60px;margin:0;color:#00acc1;opacity:.6;display:none}.ngx-background-spinner.loading-background[_ngcontent-%COMP%], .ngx-background-spinner.background-closing[_ngcontent-%COMP%]{display:block}.ngx-background-spinner.background-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .7s ease-out}.ngx-background-spinner.fast-closing[_ngcontent-%COMP%]{transition:opacity .4s ease-out!important}.ngx-position-absolute[_ngcontent-%COMP%]{position:absolute!important}.ngx-position-absolute[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:absolute!important}.ngx-position-absolute.ngx-progress-bar[_ngcontent-%COMP%]{z-index:99996!important}.ngx-position-absolute.ngx-overlay[_ngcontent-%COMP%]{z-index:99995!important}.ngx-position-absolute.ngx-background-spinner[_ngcontent-%COMP%]{z-index:99994!important}.ngx-position-absolute[_ngcontent-%COMP%]   .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){z-index:99994!important}.top-left[_ngcontent-%COMP%]{top:30px;left:30px}.top-center[_ngcontent-%COMP%]{top:30px;left:50%;transform:translate(-50%)}.top-right[_ngcontent-%COMP%]{top:30px;right:30px}.center-left[_ngcontent-%COMP%]{top:50%;left:30px;transform:translateY(-50%)}.center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.center-right[_ngcontent-%COMP%]{top:50%;right:30px;transform:translateY(-50%)}.bottom-left[_ngcontent-%COMP%]{bottom:30px;left:30px}.bottom-center[_ngcontent-%COMP%]{bottom:30px;left:50%;transform:translate(-50%)}.bottom-right[_ngcontent-%COMP%]{bottom:30px;right:30px}.sk-ball-scale-multiple[_ngcontent-%COMP%], .sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-scale-multiple[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:100%;opacity:0;animation:_ngcontent-%COMP%_ball-scale-multiple 1s 0s linear infinite}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}.sk-ball-spin[_ngcontent-%COMP%], .sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise 1s infinite ease-in-out}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-1.125s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-1.25s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-1.375s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-1.5s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-1.625s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-1.75s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-1.875s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:-2s}@keyframes _ngcontent-%COMP%_ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise[_ngcontent-%COMP%], .sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise 1s infinite ease-in-out}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-.875s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-.75s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-.625s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-.5s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-.375s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-.25s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-.125s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:0s}@keyframes _ngcontent-%COMP%_ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise-fade-rotating-rotate 6s infinite linear}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise-fade-rotating 1s infinite linear}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-.875s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-.75s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-.625s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-.5s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-.375s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-.25s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-.125s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:0s}@keyframes _ngcontent-%COMP%_ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-360deg)}}@keyframes _ngcontent-%COMP%_ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0;animation:_ngcontent-%COMP%_ball-spin-fade-rotate 6s infinite linear}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-fade 1s infinite linear}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-1.125s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-1.25s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-1.375s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-1.5s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-1.625s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-1.75s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-1.875s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:-2s}@keyframes _ngcontent-%COMP%_ball-spin-fade-rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.sk-chasing-dots[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:absolute;text-align:center;animation:_ngcontent-%COMP%_sk-chasingDots-rotate 2s infinite linear}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-chasingDots-bounce 2s infinite ease-in-out}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:auto;bottom:0;animation-delay:-1s}@keyframes _ngcontent-%COMP%_sk-chasingDots-rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_sk-chasingDots-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.sk-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-circle-bounceDelay 1.2s infinite ease-in-out both}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7):before{animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8):before{animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9):before{animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10):before{animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11):before{animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12):before{animation-delay:-.1s}@keyframes _ngcontent-%COMP%_sk-circle-bounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.sk-cube-grid[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:33%;height:33%;background-color:currentColor;float:left;animation:_ngcontent-%COMP%_sk-cubeGrid-scaleDelay 1.3s infinite ease-in-out}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){animation-delay:.2s}@keyframes _ngcontent-%COMP%_sk-cubeGrid-scaleDelay{0%,70%,to{transform:scaleZ(1)}35%{transform:scale3D(0,0,1)}}.sk-double-bounce[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;margin:auto}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:currentColor;opacity:.6;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-doubleBounce-bounce 2s infinite ease-in-out}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1s}@keyframes _ngcontent-%COMP%_sk-doubleBounce-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.sk-fading-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-fadingCircle-FadeDelay 1.2s infinite ease-in-out both}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1.1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.9s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.8s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.7s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7):before{animation-delay:-.6s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8):before{animation-delay:-.5s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9):before{animation-delay:-.4s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10):before{animation-delay:-.3s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11):before{animation-delay:-.2s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12):before{animation-delay:-.1s}@keyframes _ngcontent-%COMP%_sk-fadingCircle-FadeDelay{0%,39%,to{opacity:0}40%{opacity:1}}.sk-folding-cube[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;transform:rotate(45deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:left;width:50%;height:50%;position:relative;transform:scale(1.1)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:currentColor;animation:_ngcontent-%COMP%_sk-foldingCube-angle 2.4s infinite linear both;transform-origin:100% 100%}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:scale(1.1) rotate(90deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:scale(1.1) rotate(270deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:scale(1.1) rotate(180deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:.3s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:.9s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:.6s}@keyframes _ngcontent-%COMP%_sk-foldingCube-angle{0%,10%{transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{transform:perspective(140px) rotateX(0);opacity:1}90%,to{transform:perspective(140px) rotateY(180deg);opacity:0}}.sk-pulse[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-pulse-scaleOut 1s infinite ease-in-out}@keyframes _ngcontent-%COMP%_sk-pulse-scaleOut{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}.sk-rectangle-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;height:100%;width:10%;margin:0 5%;display:inline-block;animation:_ngcontent-%COMP%_sk-rectangleBounce-stretchDelay 1.2s infinite ease-in-out}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1.1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.9s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.8s}@keyframes _ngcontent-%COMP%_sk-rectangleBounce-stretchDelay{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.sk-rectangle-bounce-party[_ngcontent-%COMP%], .sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-party[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10%;height:100%;margin:0 5%;border-radius:0;animation-name:_ngcontent-%COMP%_rectangle-bounce-party;animation-iteration-count:infinite}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-duration:.43s;animation-delay:-.23s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-duration:.62s;animation-delay:-.32s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-duration:.43s;animation-delay:-.44s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-duration:.8s;animation-delay:-.31s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-duration:.74s;animation-delay:-.24s}@keyframes _ngcontent-%COMP%_rectangle-bounce-party{0%{transform:scaleY(1)}50%{transform:scaleY(.4)}to{transform:scaleY(1)}}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10%;height:100%;margin:0 5%;border-radius:0;animation:_ngcontent-%COMP%_rectangle-bounce-pulse-out .9s infinite cubic-bezier(.85,.25,.37,.85)}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.7s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_rectangle-bounce-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.4)}to{transform:scaley(1)}}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10%;height:100%;margin:0 5%;border-radius:0;animation:_ngcontent-%COMP%_rectangle-bounce-pulse-out-rapid .9s infinite cubic-bezier(.11,.49,.38,.78)}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.65s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.4s}@keyframes _ngcontent-%COMP%_rectangle-bounce-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.4)}90%{transform:scaley(1)}}.sk-rotating-plane[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;margin:auto}.sk-rotating-plane[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;animation:_ngcontent-%COMP%_sk-rotatePlane 1.2s infinite ease-in-out}@keyframes _ngcontent-%COMP%_sk-rotatePlane{0%{transform:perspective(120px) rotateX(0) rotateY(0)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0)}to{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}.sk-square-jelly-box[_ngcontent-%COMP%], .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-jelly-box[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:-25%;z-index:99997;height:100%;border-radius:10%;animation:_ngcontent-%COMP%_square-jelly-box-animate .6s -.1s linear infinite}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;animation:_ngcontent-%COMP%_square-jelly-box-shadow .6s -.1s linear infinite}@keyframes _ngcontent-%COMP%_square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@keyframes _ngcontent-%COMP%_square-jelly-box-shadow{50%{transform:scaleX(1.25)}}.sk-square-loader[_ngcontent-%COMP%], .sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-loader[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent;border-width:3px;border-radius:0;animation:_ngcontent-%COMP%_square-loader 2s infinite ease}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;animation:_ngcontent-%COMP%_square-loader-inner 2s infinite ease-in}@keyframes _ngcontent-%COMP%_square-loader{0%{transform:rotate(0)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(360deg)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}.sk-three-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:35%;width:30%;height:30%;background-color:currentColor;border-radius:100%;display:inline-block;animation:_ngcontent-%COMP%_sk-threeBounce-bounceDelay 1.4s infinite ease-in-out both}.bottom-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:70%!important}.top-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:0!important}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_sk-threeBounce-bounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.sk-three-strings[_ngcontent-%COMP%]{width:100%;height:100%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;box-sizing:border-box;width:100%;height:100%;border-radius:50%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){left:0%;top:0%;animation:_ngcontent-%COMP%_sk-threeStrings-rotateOne 1s linear infinite;border-bottom:3px solid currentColor}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){right:0%;top:0%;animation:_ngcontent-%COMP%_sk-threeStrings-rotateTwo 1s linear infinite;border-right:3px solid currentColor}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){right:0%;bottom:0%;animation:_ngcontent-%COMP%_sk-threeStrings-rotateThree 1s linear infinite;border-top:3px solid currentColor}@keyframes _ngcontent-%COMP%_sk-threeStrings-rotateOne{0%{transform:rotateX(35deg) rotateY(-45deg) rotate(0)}to{transform:rotateX(35deg) rotateY(-45deg) rotate(360deg)}}@keyframes _ngcontent-%COMP%_sk-threeStrings-rotateTwo{0%{transform:rotateX(50deg) rotateY(10deg) rotate(0)}to{transform:rotateX(50deg) rotateY(10deg) rotate(360deg)}}@keyframes _ngcontent-%COMP%_sk-threeStrings-rotateThree{0%{transform:rotateX(35deg) rotateY(55deg) rotate(0)}to{transform:rotateX(35deg) rotateY(55deg) rotate(360deg)}}.sk-wandering-cubes[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;text-align:center}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;width:25%;height:25%;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-wanderingCubes-cubeMove 1.8s infinite ease-in-out}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.9s}@keyframes _ngcontent-%COMP%_sk-wanderingCubes-cubeMove{25%{transform:translate(290%) rotate(-90deg) scale(.5)}50%{transform:translate(290%) translateY(290%) rotate(-179deg)}50.1%{transform:translate(290%) translateY(290%) rotate(-180deg)}75%{transform:translate(0) translateY(290%) rotate(-270deg) scale(.5)}to{transform:rotate(-360deg)}}'],changeDetection:0}),n})(),Bre=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:u$,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=An({type:n}),n.\u0275inj=Nn({imports:[[wv]]}),n})();new ae("ngxUiLoaderRouterCustom.config"),new ae("ngxUiLoaderHttpCustom.config");let c$=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Fs),W(Er))};static#t=this.\u0275dir=Be({type:n})}return n})(),tl=(()=>{class n extends c${static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275dir=Be({type:n,features:[Ft]})}return n})();const To=new ae("NgValueAccessor"),Hre={provide:To,useExisting:Tt(()=>xh),multi:!0},qre=new ae("CompositionEventMode");let xh=(()=>{class n extends c${constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zre(){const n=Ja()?Ja().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Fs),W(Er),W(qre,8))};static#t=this.\u0275dir=Be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&bt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[yn([Hre]),Ft]})}return n})();function Su(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function d$(n){return null!=n&&"number"==typeof n.length}const si=new ae("NgValidators"),Pu=new ae("NgAsyncValidators"),Gre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class h${static min(e){return function f$(n){return e=>{if(Su(e.value)||Su(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function p$(n){return e=>{if(Su(e.value)||Su(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function g$(n){return Su(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function m$(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function _$(n){return Su(n.value)||Gre.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function y$(n){return e=>Su(e.value)||!d$(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function v$(n){return e=>d$(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function E$(n){if(!n)return Nw;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Su(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return D$(e)}static composeAsync(e){return A$(e)}}function Nw(n){return null}function w$(n){return null!=n}function I$(n){return pp(n)?S(n):n}function b$(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function C$(n,e){return e.map(t=>t(n))}function T$(n){return n.map(e=>function Wre(n){return!n.validate}(e)?e:t=>e.validate(t))}function D$(n){if(!n)return null;const e=n.filter(w$);return 0==e.length?null:function(t){return b$(C$(t,e))}}function nP(n){return null!=n?D$(T$(n)):null}function A$(n){if(!n)return null;const e=n.filter(w$);return 0==e.length?null:function(t){return function jre(...n){const e=zn(n),{args:t,keys:r}=eF(n),i=new ut(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let f=0;f<o;f++){let g=!1;bn(t[f]).subscribe(se(s,m=>{g||(g=!0,l--),a[f]=m},()=>u--,void 0,()=>{(!u||!g)&&(l||s.next(r?tF(r,a):a),s.complete())}))}});return e?i.pipe(Y0(e)):i}(C$(t,e).map(I$)).pipe(be(b$))}}function rP(n){return null!=n?A$(T$(n)):null}function S$(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function P$(n){return n._rawValidators}function M$(n){return n._rawAsyncValidators}function iP(n){return n?Array.isArray(n)?n:[n]:[]}function kw(n,e){return Array.isArray(n)?n.includes(e):n===e}function R$(n,e){const t=iP(e);return iP(n).forEach(i=>{kw(t,i)||t.push(i)}),t}function O$(n,e){return iP(e).filter(t=>!kw(n,t))}class x${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ei extends x${get formDirective(){return null}get path(){return null}}class Mu extends x${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class N${constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fw=(()=>{class n extends N${constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Mu,2))};static#t=this.\u0275dir=Be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&_c("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ft]})}return n})(),Lw=(()=>{class n extends N${constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Ei,10))};static#t=this.\u0275dir=Be({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&_c("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ft]})}return n})();const gm="VALID",Uw="INVALID",Nh="PENDING",mm="DISABLED";function aP(n){return(Bw(n)?n.validators:n)||null}function uP(n,e){return(Bw(e)?e.asyncValidators:n)||null}function Bw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function F$(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new w(1e3,"");if(!r[t])throw new w(1001,"")}function L$(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new w(1002,"")})}class jw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gm}get invalid(){return this.status===Uw}get pending(){return this.status==Nh}get disabled(){return this.status===mm}get enabled(){return this.status!==mm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(R$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(R$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(O$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(O$(e,this._rawAsyncValidators))}hasValidator(e){return kw(this._rawValidators,e)}hasAsyncValidator(e){return kw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gm,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gm||this.status===Nh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mm:gm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nh,this._hasOwnPendingAsyncValidator=!0;const t=I$(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Dt,this.statusChanges=new Dt}_calculateStatus(){return this._allControlsDisabled()?mm:this.errors?Uw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nh)?Nh:this._anyControlsHaveStatus(Uw)?Uw:gm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Yre(n){return Array.isArray(n)?nP(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Jre(n){return Array.isArray(n)?rP(n):n||null}(this._rawAsyncValidators)}}class _m extends jw{constructor(e,t,r){super(aP(t),uP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){L$(this,0,e),Object.keys(e).forEach(r=>{F$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class V$ extends _m{}const nl=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>ym}),ym="always";function $w(n,e){return[...e.path,n]}function vm(n,e,t=ym){cP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function eie(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&U$(n,e)})}(n,e),function nie(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function tie(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&U$(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Xre(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Hw(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qw(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cP(n,e){const t=P$(n);null!==e.validator?n.setValidators(S$(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=M$(n);null!==e.asyncValidator?n.setAsyncValidators(S$(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zw(e._rawValidators,i),zw(e._rawAsyncValidators,i)}function qw(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=P$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=M$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return zw(e._rawValidators,r),zw(e._rawAsyncValidators,r),t}function U$(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B$(n,e){cP(n,e)}function dP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function j$(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hP(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===xh?t=s:function sie(n){return Object.getPrototypeOf(n.constructor)===tl}(s)?r=s:i=s}),i||r||t||null}const aie={provide:Ei,useExisting:Tt(()=>Gw)},Em=(()=>Promise.resolve())();let Gw=(()=>{class n extends Ei{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Dt,this.form=new _m({},nP(t),rP(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Em.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),vm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Em.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Em.then(()=>{const r=this._findContainer(t.path),i=new _m({});B$(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Em.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Em.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,j$(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(W(si,10),W(Pu,10),W(nl,8))};static#t=this.\u0275dir=Be({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&bt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([aie]),Ft]})}return n})();function $$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function H$(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const rl=class extends jw{constructor(e=null,t,r){super(aP(t),uP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=H$(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){H$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},lie={provide:Mu,useExisting:Tt(()=>fP)},G$=(()=>Promise.resolve())();let fP=(()=>{class n extends Mu{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new rl,this._registered=!1,this.name="",this.update=new Dt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hP(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),dP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){G$.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Td(r);G$.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?$w(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(W(Ei,9),W(si,10),W(Pu,10),W(To,10),W(Dp,8),W(nl,8))};static#t=this.\u0275dir=Be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yn([lie]),Ft,Gr]})}return n})(),Ww=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Be({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const die={provide:To,useExisting:Tt(()=>pP),multi:!0};let pP=(()=>{class n extends tl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275dir=Be({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&bt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[yn([die]),Ft]})}return n})(),W$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({})}return n})();const gP=new ae("NgModelWithFormControlWarning"),mie={provide:Ei,useExisting:Tt(()=>wm)};let wm=(()=>{class n extends Ei{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Dt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return vm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Hw(t.control||null,t,!1),function oie(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,j$(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Hw(r||null,t),(n=>n instanceof rl)(i)&&(vm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);B$(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function rie(n,e){return qw(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cP(this.form,this),this._oldForm&&qw(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(W(si,10),W(Pu,10),W(nl,8))};static#t=this.\u0275dir=Be({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&bt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([mie]),Ft,Gr]})}return n})();const vie={provide:Mu,useExisting:Tt(()=>Kw)};let Kw=(()=>{class n extends Mu{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Dt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hP(0,s)}ngOnChanges(t){this._added||this._setUpControl(),dP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return $w(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(W(Ei,13),W(si,10),W(Pu,10),W(To,10),W(gP,8))};static#n=this.\u0275dir=Be({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[yn([vie]),Ft,Gr]})}return n})();const Eie={provide:To,useExisting:Tt(()=>yP),multi:!0};function J$(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let yP=(()=>{class n extends tl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=J$(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function wie(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275dir=Be({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&bt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[yn([Eie]),Ft]})}return n})(),X$=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(J$(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(W(Er),W(Fs),W(yP,9))};static#t=this.\u0275dir=Be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const Iie={provide:To,useExisting:Tt(()=>vP),multi:!0};function eH(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let vP=(()=>{class n extends tl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function bie(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275dir=Be({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&bt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[yn([Iie]),Ft]})}return n})(),tH=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(eH(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(eH(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(W(Er),W(Fs),W(vP,9))};static#t=this.\u0275dir=Be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),dH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({imports:[W$]})}return n})();class hH extends jw{constructor(e,t,r){super(aP(t),uP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){L$(this,0,e),e.forEach((r,i)=>{F$(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function fH(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let pH=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return fH(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new _m(i,s)}record(t,r=null){const i=this._reduceControls(t);return new V$(i,r)}control(t,r,i){let s={};return this.useNonNullable?(fH(r)?s=r:(s.validators=r,s.asyncValidators=i),new rl(t,{...s,nonNullable:!0})):new rl(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new hH(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof rl||t instanceof jw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Oie=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nl,useValue:t.callSetDisabledState??ym}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({imports:[dH]})}return n})(),xie=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:nl,useValue:t.callSetDisabledState??ym}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({imports:[dH]})}return n})();const Nie=["locations"];function kie(n,e){if(1&n&&(re(0,"option",17),Se(1),oe()),2&n){const t=e.$implicit;Ne("value",t.category),Me(1),fs(t.category)}}function Fie(n,e){if(1&n&&(re(0,"tr")(1,"td"),Se(2),oe(),re(3,"td"),Se(4),oe()()),2&n){const t=e.$implicit;Me(2),fs(t[0]),Me(1),Qo("color","OOS"===t[1]?"red":""),Me(1),fs(t[1])}}function Lie(n,e){1&n&&(re(0,"tr")(1,"td"),Se(2,"No Models Available right now"),oe()())}function Vie(n,e){if(1&n){const t=hi();re(0,"div",24),bt("click",function(){const s=Wn(t).index,o=Lt(2);return o.locationIndex=s+1,Kn(o.modalRef.hide())}),Se(1),oe()}if(2&n){const t=e.$implicit;Me(1),mp(" ",t.name," ")}}function Uie(n,e){if(1&n){const t=hi();re(0,"div",18)(1,"h4",19),Se(2,"Locations"),oe(),re(3,"button",20),bt("click",function(){Wn(t);const i=Lt();return Kn(null==i.modalRef?null:i.modalRef.hide())}),re(4,"span",21),Se(5,"\xd7"),oe()()(),re(6,"div",22),_t(7,Vie,2,1,"div",23),oe()}if(2&n){const t=Lt();Me(7),Ne("ngForOf",t.location_list)}}let Bie=(()=>{class n{constructor(t,r,i){this.api=t,this.modal=r,this.loader=i,this.categoryList={},this.searchkeyword="",this.list=[],this.filteredList=[],this.locationIndex=1}ngOnInit(){this.loader.start(),this.api.getSheet().subscribe(t=>{this.location_list=t,this.openModal(this.location),this.loader.stop()},t=>{console.log(t),this.loader.stop()})}getList(){this.sheet=this.location_list[this.locationIndex-1],this.api.getCategory(this.sheet.sheetId).then(t=>{this.category=t,this.category.forEach(r=>{this.api.getDoc(r.sheetId,r.start,r.end).subscribe(i=>{this.loader.stop();const s=i.values?i.values.filter(o=>o.length>1):[];this.list=[...this.list,...s],this.categoryList[r.category]=[s],this.filteredList=[...this.list]})})}),this.loader.start()}filter(t,r){"category"==r?(this.filteredList=""==r?this.list:this.categoryList[t.target.value][0],""!==this.searchkeyword&&(this.filteredList=this.filteredList.filter(s=>s[0].toLowerCase().includes(this.searchkeyword.toLowerCase())))):(this.searchkeyword=t.target.value,this.filteredList=this.list.filter(i=>i[0].toLowerCase().includes(this.searchkeyword.toLowerCase())))}openModal(t){this.modalRef=this.modal.show(t),this.modalRef.onHide.subscribe(r=>{this.getList()})}static#e=this.\u0275fac=function(r){return new(r||n)(W(bw),W(XS),W(pm))};static#t=this.\u0275cmp=Di({type:n,selectors:[["app-list-devices"]],viewQuery:function(r,i){if(1&r&&VN(Nie,5),2&r){let s;ZC(s=function QC(){return function mG(n,e){return n[ss].queries[e].queryList}(X(),M_())}())&&(i.location=s.first)}},decls:29,vars:4,consts:[[1,"container"],[1,"row",2,"position","relative"],[2,"display","flex","align-items","center"],["type","button",1,"custom-btn","btn-1",3,"click"],[2,"height","0px","margin-left","25px"],[1,"col-xs-12","table-top"],[3,"change"],["value","","disabled","","selected",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"custom-field","two"],["type","text","placeholder","Search Model",3,"keyup"],[1,"col-xs-12"],["summary","This table shows how to create responsive tables using Datatables' extended functionality",1,"table","table-bordered","table-hover","dt-responsive"],[4,"ngFor","ngForOf"],[4,"ngIf"],["locations",""],[3,"value"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],["class","gmd",3,"click",4,"ngFor","ngForOf"],[1,"gmd",3,"click"]],template:function(r,i){if(1&r){const s=hi();re(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),bt("click",function(){Wn(s);const a=$y(28);return Kn(i.openModal(a))}),Se(4," Change Location "),oe(),re(5,"div",4),Se(6),oe()(),re(7,"div",5)(8,"select",6),bt("change",function(a){return i.filter(a,"category")}),re(9,"option",7),Se(10,"Category"),oe(),re(11,"option",8),Se(12,"All"),oe(),_t(13,kie,2,2,"option",9),oe(),re(14,"label",10)(15,"input",11),bt("keyup",function(a){return i.filter(a,"search")}),oe()()(),re(16,"div",12)(17,"table",13)(18,"thead")(19,"tr")(20,"th"),Se(21,"Model"),oe(),re(22,"th"),Se(23,"Status"),oe()()(),re(24,"tbody"),_t(25,Fie,5,4,"tr",14),_t(26,Lie,3,0,"tr",15),oe()()()()(),_t(27,Uie,8,1,"ng-template",null,16,tv)}2&r&&(Me(6),mp("Current Location: ",null==i.sheet?null:i.sheet.name,""),Me(7),Ne("ngForOf",i.category),Me(12),Ne("ngForOf",i.filteredList),Me(1),Ne("ngIf",0===i.filteredList.length))},dependencies:[Mp,Ic,X$,tH],styles:['@import"https://fonts.googleapis.com/css?family=Open+Sans:300,400,700";body[_ngcontent-%COMP%]{font-size:140%}h2[_ngcontent-%COMP%]{text-align:center;padding:20px 0}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:.5em 0}table.dataTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.dataTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap}.p[_ngcontent-%COMP%]{text-align:center;padding-top:140px;font-size:14px}.custom-field[_ngcontent-%COMP%]{position:relative;font-size:14px;border-top:20px solid transparent;margin-bottom:5px;display:inline-block;--field-padding: 12px}.custom-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;appearance:none;background:#f2f2f2;padding:var(--field-padding);border-radius:3px;width:250px;outline:none;font-size:14px}.custom-field[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{position:absolute;left:var(--field-padding);width:calc(100% - var(--field-padding) * 2);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;top:22px;line-height:100%;transform:translateY(-50%);color:#aaa;transition:top .3s ease,color .3s ease,font-size .3s ease}.custom-field[_ngcontent-%COMP%]   input.dirty[_ngcontent-%COMP%] + .placeholder[_ngcontent-%COMP%], .custom-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .placeholder[_ngcontent-%COMP%], .custom-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + .placeholder[_ngcontent-%COMP%]{top:-10px;font-size:10px;color:#222}.custom-field.two[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:3px 3px 0 0;background:linear-gradient(90deg,#222,#222) center bottom/0 .15em no-repeat,linear-gradient(90deg,#ccc,#ccc) left bottom/100% .15em no-repeat,linear-gradient(90deg,#fafafa,#fafafa) left bottom/100% no-repeat;transition:background-size .3s ease}.custom-field.two[_ngcontent-%COMP%]   input.dirty[_ngcontent-%COMP%], .custom-field.two[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown), .custom-field.two[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-size:100% .15em,100% .1em,100%}.table-top[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between}.table-top[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:150px;margin:5px 0;border-radius:3px 3px 0 0;background:linear-gradient(90deg,#222,#222) center bottom/0 .15em no-repeat,linear-gradient(90deg,#ccc,#ccc) left bottom/100% .15em no-repeat,linear-gradient(90deg,#fafafa,#fafafa) left bottom/100% no-repeat;transition:background-size .3s ease;border:0;height:35px}.custom-btn[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:40px;color:#fff;border-radius:5px;padding:10px 25px;font-family:Lato,sans-serif;font-weight:500;background:transparent;cursor:pointer;transition:all .3s ease;position:relative;display:inline-block;box-shadow:inset 2px 2px 2px #ffffff80,7px 7px 20px #0000001a,4px 4px 5px #0000001a;outline:none;margin-top:25px}.btn-1[_ngcontent-%COMP%]{background:rgb(6,14,131);background:linear-gradient(0deg,rgb(6,14,131) 0%,rgb(12,25,180) 100%);border:none}.btn-1[_ngcontent-%COMP%]:hover{background:rgb(0,3,255);background:linear-gradient(0deg,rgb(0,3,255) 0%,rgb(2,126,251) 100%)}input[_ngcontent-%COMP%]{padding-left:30px!important}.gmd[_ngcontent-%COMP%]{background:#fff;border-radius:2px;color:#181d5e;font-size:24px;font-family:sans-serif;cursor:pointer;float:left;height:150px;margin:1rem;position:relative;width:150px;display:flex;justify-content:center;align-items:center;-ms-box-shadow:0 19px 38px rgba(0,0,0,.3),0 15px 12px rgba(0,0,0,.22);-o-box-shadow:0 19px 38px rgba(0,0,0,.3),0 15px 12px rgba(0,0,0,.22);box-shadow:0 19px 38px #0000004d,0 15px 12px #00000038}']})}return n})();function jie(n,e){if(1&n){const t=hi();re(0,"span",27),bt("click",function(){Wn(t);const i=Lt().index;return Kn(Lt(2).add_category(i+1))}),Se(1,"+"),oe()}}function $ie(n,e){if(1&n){const t=hi();re(0,"span",27),bt("click",function(){Wn(t);const i=Lt().$implicit;return Kn(Lt(2).remove_category(i.value.id))}),Se(1,"x"),oe()}}function Hie(n,e){if(1&n){const t=hi();re(0,"span",27),bt("click",function(){Wn(t);const i=Lt().$implicit;return Kn(Lt(2).deleteCategory(i.value.id))}),Se(1,"x"),oe()}}const Im=function(){return{standalone:!0}};function zie(n,e){if(1&n){const t=hi();Hy(0),re(1,"div",11)(2,"label",16)(3,"input",22),bt("ngModelChange",function(i){return Kn(Wn(t).$implicit.value.category=i)}),oe(),re(4,"label",18),Ot(5,"i",15),oe()()(),re(6,"div",23)(7,"label",16)(8,"input",24),bt("ngModelChange",function(i){return Kn(Wn(t).$implicit.value.start=i)}),oe(),re(9,"label",18),Ot(10,"i",15),oe()()(),re(11,"div",23)(12,"label",16)(13,"input",25),bt("ngModelChange",function(i){return Kn(Wn(t).$implicit.value.end=i)}),oe(),re(14,"label",18),Ot(15,"i",15),oe()(),_t(16,jie,2,0,"span",26),_t(17,$ie,2,0,"span",26),_t(18,Hie,2,0,"span",26),oe(),zy()}if(2&n){const t=e.$implicit,r=e.last,i=Lt(2);Me(3),Ne("ngModelOptions",Wi(9,Im))("ngModel",t.value.category),Me(5),Ne("ngModelOptions",Wi(10,Im))("ngModel",t.value.start),Me(5),Ne("ngModelOptions",Wi(11,Im))("ngModel",t.value.end),Me(3),Ne("ngIf",r),Me(1),Ne("ngIf",!r&&i.addSheet),Me(1),Ne("ngIf",!r&&!i.addSheet)}}function qie(n,e){if(1&n){const t=hi();re(0,"button",28),bt("click",function(){return Wn(t),Kn(Lt(2).save())}),Se(1," Save "),oe()}}function Gie(n,e){if(1&n){const t=hi();re(0,"button",28),bt("click",function(){return Wn(t),Kn(Lt(2).Update())}),Se(1," Update "),oe()}}function Wie(n,e){if(1&n){const t=hi();re(0,"div",2)(1,"div",3)(2,"div",4)(3,"h4"),Ot(4,"i",5),Se(5,"Add Location"),oe()(),re(6,"form",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"span"),Se(11,"Location"),oe()()(),re(12,"div",10)(13,"div",11)(14,"label",12)(15,"input",13),bt("ngModelChange",function(i){return Wn(t),Kn(Lt().name=i)}),oe(),re(16,"label",14),Ot(17,"i",15),oe()()(),re(18,"div",11)(19,"label",16)(20,"input",17),bt("ngModelChange",function(i){return Wn(t),Kn(Lt().sheetId=i)}),oe(),re(21,"label",18),Ot(22,"i",15),oe()()(),_t(23,zie,19,12,"ng-container",19),function TN(n,e){const t=dt();let r;const i=n+rt;t.firstCreatePass?(r=function q9(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=jo(r.type)),a=gr(W);try{const u=Hl(!1),l=s();return Hl(u),function P5(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,X(),i,l),l}finally{gr(a)}}(24,"keyvalue"),oe(),re(25,"div",20),_t(26,qie,2,0,"button",21),_t(27,Gie,2,0,"button",21),oe()()()()()}if(2&n){const t=Lt();Me(15),Ne("ngModel",t.name)("ngModelOptions",Wi(9,Im)),Me(5),Ne("ngModel",t.sheetId)("ngModelOptions",Wi(10,Im)),Me(3),Ne("ngForOf",DN(24,7,t.items)),Me(3),Ne("ngIf",t.addSheet),Me(1),Ne("ngIf",!t.addSheet)}}const Kie=function(){return["/edit-sheet"]},Zie=function(n){return{id:n}};function Qie(n,e){if(1&n){const t=hi();re(0,"tr")(1,"td"),Se(2),oe(),re(3,"td"),Se(4),oe(),re(5,"td")(6,"a",31),Se(7,"Edit"),oe(),Se(8," \xa0\xa0\xa0 "),re(9,"a",32),bt("click",function(){const s=Wn(t).$implicit;return Kn(Lt(2).deleteSheet(s.sheetId))}),Se(10,"Delete"),oe()()()}if(2&n){const t=e.$implicit;Me(2),fs(t.name),Me(2),fs(t.sheetId),Me(2),Ne("routerLink",Wi(4,Kie))("queryParams",jC(5,Zie,t.id))}}function Yie(n,e){1&n&&(re(0,"tr")(1,"td"),Se(2,"No Users Registered"),oe()())}function Jie(n,e){if(1&n&&(re(0,"table",29)(1,"thead")(2,"tr")(3,"th"),Se(4,"Name"),oe(),re(5,"th"),Se(6,"sheetId"),oe(),re(7,"th"),Se(8,"Action"),oe()()(),re(9,"tbody"),_t(10,Qie,11,7,"tr",19),_t(11,Yie,3,0,"tr",30),oe()()),2&n){const t=Lt();Me(10),Ne("ngForOf",t.sheetList),Me(1),Ne("ngIf",0===t.sheetList.length)}}let wP=(()=>{class n{constructor(t,r,i){this.api=t,this.loader=r,this.route=i,this.items={1:{category:"",start:"",end:""}},this.sheetList=[],this.showList=!1,this.addSheet=!1,this.editSheet=!1}ngOnInit(){if(this.loader.start(),"/list-sheet"===this.route.url)this.showList=!0,this.api.getSheetList().subscribe(t=>{this.sheetList=t,this.loader.stop()});else if("/add-sheet"===this.route.url)this.addSheet=!0;else{const t=this.route.url,r=t.indexOf("=")+1;this.sheet_id=t.substring(r),this.api.getSheetDetail(this.sheet_id).subscribe(i=>{console.log(i),this.name=i.name,this.sheetId=i.sheetId,this.api.getCategory(this.sheetId).then(s=>{this.loader.stop(),s.forEach((o,a)=>{this.items[a]=o})})}),this.editSheet=!0}}add_category(t){this.items[t+1]={category:"",start:"",end:""},console.log(this.items)}remove_category(t){delete this.items[t]}save(){this.loader.start(),this.api.addSheet({name:this.name,sheetId:this.sheetId}).then(r=>{Object.values(this.items).forEach(i=>{this.api.addCategory({category:i.category,start:i.start,end:i.end,sheetId:this.sheetId}).then(o=>{this.loader.stop(),this.route.navigate(["/list"])}).catch(o=>{console.log(o),this.loader.stop()})})}).catch(r=>{this.loader.stop(),console.log(r)})}deleteSheet(t){this.loader.start(),this.api.deleteSheet(t).then(r=>{this.loader.stop()})}deleteCategory(t){this.api.deleteCategory(t).then(r=>{Object.values(this.items).forEach((i,s)=>{i.id===t&&delete this.items[s]})})}Update(){this.loader.start(),this.api.updateSheet(this.sheet_id,{name:this.name,sheetId:this.sheetId}).then(r=>{console.log(r),Object.values(this.items).forEach(i=>{let s={category:i.category,start:i.start,end:i.end,sheetId:this.sheetId};i.id?this.api.updateCategory(i.id,s).then().catch(o=>{console.log(o)}):this.api.addCategory(s).then(o=>{this.loader.stop(),this.route.navigate(["/list"])}).catch(o=>{console.log(o),this.loader.stop()})}),this.loader.stop()})}static#e=this.\u0275fac=function(r){return new(r||n)(W(bw),W(pm),W(wr))};static#t=this.\u0275cmp=Di({type:n,selectors:[["app-add-sheet"]],decls:2,vars:2,consts:[["class","smart-wrap",4,"ngIf"],["summary","This table shows how to create responsive tables using Datatables' extended functionality","class","table table-bordered table-hover dt-responsive",4,"ngIf"],[1,"smart-wrap"],[1,"smart-forms","smart-container","wrap-2"],[1,"form-header","header-primary"],[1,"fa","fa-pencil-square"],["method","post","action","","enctype","mu ltipart/form-data",1,"wpcf7-form"],[1,"form-body"],[1,"spacer-b30"],[1,"tagline"],[1,"frm-row"],[1,"section","colm","colm6"],["for","firstname",1,"field","prepend-icon"],["type","text","placeholder","Name",1,"gui-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","firstname",1,"field-icon"],[1,"fa","fa-user"],["for","lastname",1,"field","prepend-icon"],["type","text","placeholder","Sheet Id",1,"gui-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","lastname",1,"field-icon"],[4,"ngFor","ngForOf"],[1,"form-footer"],["type","submit","class","button btn-primary",3,"click",4,"ngIf"],["type","text","placeholder","Category",1,"gui-input",3,"ngModelOptions","ngModel","ngModelChange"],[1,"section","colm","colm3"],["type","text","placeholder","Start: eg A10",1,"gui-input",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","placeholder","End: eg B100",1,"gui-input",3,"ngModelOptions","ngModel","ngModelChange"],["class","add-btn",3,"click",4,"ngIf"],[1,"add-btn",3,"click"],["type","submit",1,"button","btn-primary",3,"click"],["summary","This table shows how to create responsive tables using Datatables' extended functionality",1,"table","table-bordered","table-hover","dt-responsive"],[4,"ngIf"],[3,"routerLink","queryParams"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(_t(0,Wie,28,11,"div",0),_t(1,Jie,12,2,"table",1)),2&r&&(Ne("ngIf",i.addSheet||i.editSheet),Me(1),Ne("ngIf",i.showList))},dependencies:[Mp,Ic,Ww,xh,Fw,Lw,fP,Gw,Ud,ck],styles:['@font-face{font-family:FontAwesome;src:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.eot?#iefix) format("embedded-opentype"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.woff) format("woff"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.ttf) format("truetype"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.svg#FontAwesome) format("svg");font-weight:400;font-style:normal}.add-btn[_ngcontent-%COMP%]{position:absolute;margin-left:5px;font-size:24px;height:42px;text-align:center;align-items:center;display:inline-grid;cursor:pointer}']})}return n})();function Xie(n,e){if(1&n){const t=hi();re(0,"button",30),bt("click",function(){return Wn(t),Kn(Lt(2).saveUser())}),Se(1," Submit "),oe()}}function ese(n,e){if(1&n){const t=hi();re(0,"button",30),bt("click",function(){return Wn(t),Kn(Lt(2).updateUser())}),Se(1," Update "),oe()}}function tse(n,e){if(1&n&&(re(0,"div",2)(1,"div",3)(2,"div",4)(3,"h4"),Ot(4,"i",5),Se(5,"Add User"),oe()(),re(6,"form",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"span"),Se(11,"User"),oe()()(),re(12,"div",10)(13,"div",11)(14,"label",12),Ot(15,"input",13),re(16,"label",14),Ot(17,"i",15),oe()()(),re(18,"div",11)(19,"label",16),Ot(20,"input",17),re(21,"label",18),Ot(22,"i",15),oe()()(),re(23,"div",11)(24,"label",19),Ot(25,"input",20),re(26,"label",21),Ot(27,"i",15),oe()()(),re(28,"div",11)(29,"label",22),Ot(30,"input",23),re(31,"label",24),Ot(32,"i",15),oe()()(),re(33,"div",11)(34,"label",25),Ot(35,"input",26),re(36,"label",27),Ot(37,"i",15),oe()()()()(),re(38,"div",28),_t(39,Xie,2,0,"button",29),_t(40,ese,2,0,"button",29),oe()()()()),2&n){const t=Lt();Me(6),Ne("formGroup",t.profileForm),Me(33),Ne("ngIf",t.addUser),Me(1),Ne("ngIf",t.edit_user)}}const nse=function(){return["/edit-user"]},rse=function(n){return{id:n}};function ise(n,e){if(1&n){const t=hi();re(0,"tr")(1,"td"),Se(2),oe(),re(3,"td"),Se(4),oe(),re(5,"td"),Se(6),oe(),re(7,"td"),Se(8),oe(),re(9,"td")(10,"a",34),Se(11,"Edit"),oe(),Se(12," \xa0\xa0\xa0 "),re(13,"a",35),bt("click",function(){const s=Wn(t).$implicit;return Kn(Lt(2).deleteUser(s.id))}),Se(14,"Delete"),oe()()()}if(2&n){const t=e.$implicit;Me(2),fs(t.first_name),Me(2),fs(t.email),Me(2),fs(t.phone),Me(2),fs(t.password),Me(2),Ne("routerLink",Wi(6,nse))("queryParams",jC(7,rse,t.id))}}function sse(n,e){1&n&&(re(0,"tr")(1,"td"),Se(2,"No Users Registered"),oe()())}function ose(n,e){if(1&n&&(re(0,"table",31)(1,"thead")(2,"tr")(3,"th"),Se(4,"Name"),oe(),re(5,"th"),Se(6,"Email"),oe(),re(7,"th"),Se(8,"Phone"),oe(),re(9,"th"),Se(10,"Password"),oe(),re(11,"th"),Se(12,"Action"),oe()()(),re(13,"tbody"),_t(14,ise,15,9,"tr",32),_t(15,sse,3,0,"tr",33),oe()()),2&n){const t=Lt();Me(14),Ne("ngForOf",t.userList),Me(1),Ne("ngIf",0===t.userList.length)}}let IP=(()=>{class n{constructor(t,r,i,s){this.loader=t,this.fb=r,this.api=i,this.router=s,this.addUser=!1,this.list_user=!1,this.userList=[],this.edit_user=!1}ngOnInit(){if(console.log(this.router.url),"/add-user"==this.router.url)this.addUser=!0,this.profileForm=this.fb.group({first_name:[""],last_name:[""],email:[""],phone:[""],password:[""]});else if(this.router.url.includes("/edit-user")){this.edit_user=!0,this.profileForm=this.fb.group({first_name:[""],last_name:[""],email:[""],phone:[""],password:[""]});const t=this.router.url,r=t.indexOf("=")+1;this.user_id=t.substring(r),this.loader.start(),this.api.getUserDetail(this.user_id).subscribe(i=>{this.profileForm.patchValue(i),this.loader.stop()})}else this.loader.start(),this.api.getUsers().subscribe(t=>{this.loader.stop(),this.userList=t,this.list_user=!0})}saveUser(){this.loader.start(),this.api.addUser(this.profileForm.value).then(t=>{this.loader.stop(),this.router.navigate(["list-user"]),this.addUser=!1})}deleteUser(t){console.log(t),this.api.deleteUser(t).then(r=>{console.log(r)})}updateUser(){this.loader.start(),this.api.updateUser(this.user_id,this.profileForm.value).then(t=>{this.loader.stop(),this.router.navigate(["list-user"]),this.edit_user=!1})}static#e=this.\u0275fac=function(r){return new(r||n)(W(pm),W(pH),W(bw),W(wr))};static#t=this.\u0275cmp=Di({type:n,selectors:[["app-add-user"]],decls:2,vars:2,consts:[["class","smart-wrap",4,"ngIf"],["summary","This table shows how to create responsive tables using Datatables' extended functionality","class","table table-bordered table-hover dt-responsive",4,"ngIf"],[1,"smart-wrap"],[1,"smart-forms","smart-container","wrap-2"],[1,"form-header","header-primary"],[1,"fa","fa-pencil-square"],[3,"formGroup"],[1,"form-body"],[1,"spacer-b30"],[1,"tagline"],[1,"frm-row"],[1,"section","colm","colm6"],["for","firstname",1,"field","prepend-icon"],["type","text","formControlName","first_name","id","firstname","placeholder","Fisrt Name",1,"gui-input"],["for","firstname",1,"field-icon"],[1,"fa","fa-user"],["for","lastname",1,"field","prepend-icon"],["type","text","formControlName","last_name","id","lastname","placeholder","Last Name",1,"gui-input"],["for","lastname",1,"field-icon"],["for","email",1,"field","prepend-icon"],["type","email","formControlName","email","id","email","placeholder","Email",1,"gui-input"],["for","email",1,"field-icon"],["for","Phone",1,"field","prepend-icon"],["type","number","formControlName","phone","id","Phone","placeholder","Phone",1,"gui-input"],["for","Phone",1,"field-icon"],["for","password",1,"field","prepend-icon"],["type","text","formControlName","password","id","password","placeholder","Password",1,"gui-input"],["for","password",1,"field-icon"],[1,"form-footer"],["type","submit","class","button btn-primary",3,"click",4,"ngIf"],["type","submit",1,"button","btn-primary",3,"click"],["summary","This table shows how to create responsive tables using Datatables' extended functionality",1,"table","table-bordered","table-hover","dt-responsive"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink","queryParams"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(_t(0,tse,41,3,"div",0),_t(1,ose,16,2,"table",1)),2&r&&(Ne("ngIf",i.addUser||i.edit_user),Me(1),Ne("ngIf",i.list_user))},dependencies:[Mp,Ic,Ww,xh,pP,Fw,Lw,wm,Kw,Ud],styles:['@font-face{font-family:FontAwesome;src:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.eot?#iefix) format("embedded-opentype"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.woff) format("woff"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.ttf) format("truetype"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.svg#FontAwesome) format("svg");font-weight:400;font-style:normal}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}table[_ngcontent-%COMP%]{width:90%;margin:5%}']})}return n})(),Zw=(()=>{class n{constructor(t){this.route=t,this.currentUser=new O(null),this.currentUser.next(JSON.parse(sessionStorage.getItem(" shopizresellerplatform"))||null)}getCurrentUser(){return this.currentUser.asObservable()}setUser(t){this.currentUser.next(t),sessionStorage.setItem("shopizresellerplatform",JSON.stringify(t)),this.route.navigate(["list"])}static#e=this.\u0275fac=function(r){return new(r||n)(G(wr))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ase(n,e){1&n&&(re(0,"div",20),Se(1,"User Not Found"),oe())}function use(n,e){1&n&&(re(0,"div",20),Se(1,"Please Fill the details"),oe())}let cse=(()=>{class n{constructor(t,r,i,s,o){this.api=t,this.fb=r,this.route=i,this.loader=s,this.userService=o,this.formSubmitted=!1}ngOnInit(){this.loginForm=this.fb.group({email:new rl("",h$.required),password:new rl("",h$.required)})}login(){this.formSubmitted=!0,console.log(this.loginForm),this.loginForm.valid&&(this.loader.start(),this.api.login(this.loginForm.value).subscribe(t=>{this.loader.stop(),"admin@shopizstore.com"===t[0].email&&(t[0].role="admin"),this.userService.setUser(t[0])},t=>{this.userNotFound=!0,this.loader.stop()}))}static#e=this.\u0275fac=function(r){return new(r||n)(W(bw),W(pH),W(wr),W(pm),W(Zw))};static#t=this.\u0275cmp=Di({type:n,selectors:[["app-login"]],decls:29,vars:3,consts:[[1,"smart-wrap"],[1,"smart-forms","smart-container","wrap-2"],[1,"form-header","header-primary"],[1,"fa","fa-pencil-square"],[3,"formGroup"],[1,"form-body"],[1,"spacer-b30"],[1,"tagline"],[1,"frm-row"],[1,"section","colm","colm12"],["for","email",1,"field","prepend-icon"],["type","email","placeholder","Email","formControlName","email",1,"gui-input"],["for","email",1,"field-icon"],[1,"fa","fa-user"],["for","password",1,"field","prepend-icon"],["type","password","placeholder","Password","formControlName","password",1,"gui-input"],["for","password",1,"field-icon"],[1,"form-footer"],["type","submit",1,"button","btn-primary",3,"click"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),Ot(4,"i",3),Se(5,"Login"),oe()(),re(6,"form",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"span"),Se(11,"Login"),oe()()(),re(12,"div",8)(13,"div",9)(14,"label",10),Ot(15,"input",11),re(16,"label",12),Ot(17,"i",13),oe()()()(),re(18,"div",8)(19,"div",9)(20,"label",14),Ot(21,"input",15),re(22,"label",16),Ot(23,"i",13),oe()()()(),re(24,"div",17)(25,"button",18),bt("click",function(){return i.login()}),Se(26," Save "),oe(),_t(27,ase,2,0,"div",19),_t(28,use,2,0,"div",19),oe()()()()()),2&r&&(Me(6),Ne("formGroup",i.loginForm),Me(21),Ne("ngIf",i.userNotFound),Me(1),Ne("ngIf",i.formSubmitted&&i.loginForm.invalid))},dependencies:[Ic,Ww,xh,Fw,Lw,wm,Kw]})}return n})();const kh=(n,e)=>{const t=fe(Zw),r=fe(wr);return console.log(t.currentUser.value),!(!t.currentUser.value||"admin"!==t.currentUser.value.role)||(r.navigate([""]),!1)},dse=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"login",component:cse},{path:"list",component:Bie,canActivate:[(n,e)=>{const t=fe(Zw),r=fe(wr);return!!t.currentUser.value||(r.navigate(["/login"]),!1)}]},{path:"add-sheet",component:wP,canActivate:[kh]},{path:"list-sheet",component:wP,canActivate:[kh]},{path:"edit-sheet",component:wP,canActivate:[kh]},{path:"add-user",component:IP,canActivate:[kh]},{path:"list-user",component:IP,canActivate:[kh]},{path:"edit-user",component:IP,canActivate:[kh]},{path:"**",redirectTo:"",pathMatch:"full"}];let hse=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({imports:[oL.forRoot(dse),oL]})}return n})();const fse=function(){return["add-user"]},pse=function(){return["list-user"]},gse=function(){return["add-sheet"]},mse=function(){return["list-sheet"]},_se=function(){return["list"]};function yse(n,e){1&n&&(re(0,"div",3)(1,"span",4),Se(2,"Add User"),oe(),re(3,"span",4),Se(4,"List User"),oe(),re(5,"span",4),Se(6,"Add Sheet"),oe(),re(7,"span",4),Se(8,"List Sheet"),oe(),re(9,"span",4),Se(10,"List"),oe()()),2&n&&(Me(1),Ne("routerLink",Wi(5,fse)),Me(2),Ne("routerLink",Wi(6,pse)),Me(2),Ne("routerLink",Wi(7,gse)),Me(2),Ne("routerLink",Wi(8,mse)),Me(2),Ne("routerLink",Wi(9,_se)))}let vse=(()=>{class n{constructor(t){this.userService=t,this.title="shopizResellerPlatform",t.getCurrentUser().subscribe(r=>{this.user=r,console.log(r)})}static#e=this.\u0275fac=function(r){return new(r||n)(W(Zw))};static#t=this.\u0275cmp=Di({type:n,selectors:[["app-root"]],decls:6,vars:1,consts:[[1,"header-tab"],[1,"header"],["class","nav-bar",4,"ngIf"],[1,"nav-bar"],[3,"routerLink"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"h1",1),Se(2,"SHOPIZ STORE"),oe(),_t(3,yse,11,10,"div",2),oe(),Ot(4,"router-outlet")(5,"ngx-ui-loader")),2&r&&(Me(3),Ne("ngIf","admin"===(null==i.user?null:i.user.role)))},dependencies:[Ic,pT,Ud,Ure],styles:[".header-tab[_ngcontent-%COMP%]{background:#353a40;display:flex;justify-content:space-between;padding:0 50px 0 0;align-items:center;color:#fff}.header-tab[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{text-align:center;font-weight:1000;font-size:48px;margin:0;padding:25px;color:#fff}.header-tab[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:20px;background:#1abc9c;padding:10px 20px;border-radius:10px;cursor:pointer;text-align:center;display:inline-block;width:-moz-fit-content;width:fit-content}"]})}return n})();class gH{}class Ese{}const ga="*";function mH(n,e=null){return{type:2,steps:n,options:e}}function _H(n){return{type:6,styles:n,offset:null}}class bm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function vH(n){return new w(3e3,!1)}function Ru(n){switch(n.length){case 0:return new bm;case 1:return n[0];default:return new yH(n)}}function EH(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const l=u.get("offset"),f=l==o,g=f&&a||new Map;u.forEach((m,y)=>{let E=y,b=m;if("offset"!==y)switch(E=n.normalizePropertyName(E,i),b){case"!":b=t.get(y);break;case ga:b=r.get(y);break;default:b=n.normalizeStyleValue(y,E,b,i)}g.set(E,b)}),f||s.push(g),a=g,o=l}),i.length)throw function Hse(n){return new w(3502,!1)}();return s}function CP(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&TP(t,"start",n)));break;case"done":n.onDone(()=>r(t&&TP(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&TP(t,"destroy",n)))}}function TP(n,e,t){const s=DP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function DP(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Xi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function wH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const toe=(()=>typeof document>"u"?null:document.documentElement)();function AP(n){const e=n.parentNode||n.host||null;return e===toe?null:e}let sl=null,IH=!1;function bH(n,e){for(;e;){if(e===n)return!0;e=AP(e)}return!1}function CH(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let TH=(()=>{class n{validateStyleProperty(t){return function roe(n){sl||(sl=function ioe(){return typeof document<"u"?document.body:null}()||{},IH=!!sl.style&&"WebkitAppearance"in sl.style);let e=!0;return sl.style&&!function noe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in sl.style,!e&&IH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in sl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return bH(t,r)}getParentElement(t){return AP(t)}query(t,r,i){return CH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new bm(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),SP=(()=>{class n{static#e=this.NOOP=new TH}return n})();const soe=1e3,PP="ng-enter",Qw="ng-leave",Yw="ng-trigger",Jw=".ng-trigger",AH="ng-animating",MP=".ng-animating";function ma(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:RP(parseFloat(e[1]),e[2])}function RP(n,e){return"s"===e?n*soe:n}function Xw(n,e,t){return n.hasOwnProperty("duration")?n:function aoe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(vH()),{duration:0,delay:0,easing:""};i=RP(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=RP(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function wse(){return new w(3100,!1)}()),a=!0),s<0&&(e.push(function Ise(){return new w(3101,!1)}()),a=!0),a&&e.splice(u,0,vH())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Cm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function SH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ou(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Do(n,e,t){e.forEach((r,i)=>{const s=xP(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function ol(n,e){e.forEach((t,r)=>{const i=xP(r);n.style[i]=""})}function Tm(n){return Array.isArray(n)?1==n.length?n[0]:mH(n):n}const OP=new RegExp("{{\\s*(.+?)\\s*}}","g");function MH(n){let e=[];if("string"==typeof n){let t;for(;t=OP.exec(n);)e.push(t[1]);OP.lastIndex=0}return e}function Dm(n,e,t){const r=n.toString(),i=r.replace(OP,(s,o)=>{let a=e[o];return null==a&&(t.push(function Cse(n){return new w(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function eI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const loe=/-+([a-z0-9])/g;function xP(n){return n.replace(loe,(...e)=>e[1].toUpperCase())}function es(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Tse(n){return new w(3004,!1)}()}}function RH(n,e){return window.getComputedStyle(n)[e]}const tI="*";function foe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function poe(n,e,t){if(":"==n[0]){const u=function goe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Use(n){return new w(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Vse(n){return new w(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(OH(i,o));"<"==s[0]&&!(i==tI&&o==tI)&&e.push(OH(o,i))}(r,t,e)):t.push(n),t}const nI=new Set(["true","1"]),rI=new Set(["false","0"]);function OH(n,e){const t=nI.has(n)||rI.has(n),r=nI.has(e)||rI.has(e);return(i,s)=>{let o=n==tI||n==i,a=e==tI||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?nI.has(n):rI.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?nI.has(e):rI.has(e)),o&&a}}const moe=new RegExp("s*:selfs*,?","g");function NP(n,e,t,r){return new _oe(n).build(e,t,r)}class _oe{constructor(e){this._driver=e}build(e,t,r){const i=new Eoe(t);return this._resetContextStyleTimingState(i),es(this,Tm(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ase(){return new w(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function Sse(){return new w(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{MH(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(eI(s.values()),t.errors.push(function Pse(n,e){return new w(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=es(this,Tm(e.animation),t);return{type:1,matchers:foe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:al(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>es(this,r,t)),options:al(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=es(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:al(e.options)}}visitAnimate(e,t){const r=function Ioe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return kP(Xw(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=kP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Xw(t,e);return kP(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:_H({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=_H(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ga?r.push(a):t.errors.push(new w(3002,!1)):r.push(SH(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=t.collectedStyles.get(t.currentQuerySelector),f=l.get(u);let g=!0;f&&(s!=i&&s>=f.startTime&&i<=f.endTime&&(t.errors.push(function Rse(n,e,t,r,i){return new w(3010,!1)}()),g=!1),s=f.startTime),g&&l.set(u,{startTime:s,endTime:i}),t.options&&function coe(n,e,t){const r=e.params||{},i=MH(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function bse(n){return new w(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Ose(){return new w(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const f=e.steps.map(M=>{const P=this._makeStyleAst(M,t);let x=null!=P.offset?P.offset:function woe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(P.styles),z=0;return null!=x&&(s++,z=P.offset=x),u=u||z<0||z>1,a=a||z<l,l=z,o.push(z),P});u&&t.errors.push(function xse(){return new w(3012,!1)}()),a&&t.errors.push(function Nse(){return new w(3200,!1)}());const g=e.steps.length;let m=0;s>0&&s<g?t.errors.push(function kse(){return new w(3202,!1)}()):0==s&&(m=1/(g-1));const y=g-1,E=t.currentTime,b=t.currentAnimateTimings,C=b.duration;return f.forEach((M,P)=>{const x=m>0?P==y?1:m*P:o[P],z=x*C;t.currentTime=E+b.delay+z,b.duration=z,this._validateStyleAst(M,t),M.offset=x,r.styles.push(M)}),r}visitReference(e,t){return{type:8,animation:es(this,Tm(e.animation),t),options:al(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:al(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:al(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function yoe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(moe,"")),n=n.replace(/@\*/g,Jw).replace(/@\w+/g,t=>Jw+"-"+t.slice(1)).replace(/:animating/g,MP),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Xi(t.collectedStyles,t.currentQuerySelector,new Map);const a=es(this,Tm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:al(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Fse(){return new w(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Xw(e.timings,t.errors,!0);return{type:12,animation:es(this,Tm(e.animation),t),timings:r,options:null}}}class Eoe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function al(n){return n?(n=Cm(n)).params&&(n.params=function voe(n){return n?Cm(n):null}(n.params)):n={},n}function kP(n,e,t){return{duration:n,delay:e,easing:t}}function FP(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class iI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Toe=new RegExp(":enter","g"),Aoe=new RegExp(":leave","g");function LP(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return(new Soe).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class Soe{buildKeyframes(e,t,r,i,s,o,a,u,l,f=[]){l=l||new iI;const g=new VP(e,t,l,i,s,f,[]);g.options=u;const m=u.delay?ma(u.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([o],null,g.errors,u),es(this,r,g);const y=g.timelines.filter(E=>E.containsAnimation());if(y.length&&a.size){let E;for(let b=y.length-1;b>=0;b--){const C=y[b];if(C.element===t){E=C;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,g.errors,u)}return y.length?y.map(E=>E.buildKeyframes()):[FP(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ma(Dm(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ma(r.duration):null,a=null!=r.delay?ma(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),es(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=sI);const o=ma(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>es(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ma(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),es(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Xw(t.params?Dm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ma(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=sI);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,f)=>{t.currentQueryIndex=f;const g=t.createSubContext(e.options,l);s&&g.delayNextStep(s),l===t.element&&(u=g.currentTimeline),es(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const f=t.currentTimeline;u&&f.delayNextStep(u);const g=f.currentTime;es(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const sI={};class VP{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new oI(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ma(r.duration)),null!=r.delay&&(i.delay=ma(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Dm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new VP(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=sI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Poe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(Toe,"."+this._enterClassName)).replace(Aoe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function Lse(n){return new w(3014,!1)}()),a}}class oI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new oI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ga),this._currentKeyframe.set(t,ga);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Moe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ga)}else Ou(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=Dm(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ga),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=Ou(a,new Map,this._backFill);l.forEach((f,g)=>{"!"===f?e.add(g):f===ga&&t.add(g)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?eI(e.values()):[],o=t.size?eI(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return FP(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Poe extends oI{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Ou(e[0]);u.set("offset",0),s.push(u);const l=Ou(e[0]);l.set("offset",kH(a)),s.push(l);const f=e.length-1;for(let g=1;g<=f;g++){let m=Ou(e[g]);const y=m.get("offset");m.set("offset",kH((t+y*r)/o)),s.push(m)}r=o,t=0,i="",e=s}return FP(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function kH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class UP{}const Roe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ooe extends UP{normalizePropertyName(e,t){return xP(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Roe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Dse(n,e){return new w(3005,!1)}())}return o+s}}function FH(n,e,t,r,i,s,o,a,u,l,f,g,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:f,totalTime:g,errors:m}}const BP={};class LH{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function xoe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,f){const g=[],m=this.ast.options&&this.ast.options.params||BP,E=this.buildStyles(r,a&&a.params||BP,g),b=u&&u.params||BP,C=this.buildStyles(i,b,g),M=new Set,P=new Map,x=new Map,z="void"===i,ce={params:Noe(b,m),delay:this.ast.options?.delay},Ae=f?[]:LP(e,t,this.ast.animation,s,o,E,C,ce,l,g);let He=0;if(Ae.forEach(wi=>{He=Math.max(wi.duration+wi.delay,He)}),g.length)return FH(t,this._triggerName,r,i,z,E,C,[],[],P,x,He,g);Ae.forEach(wi=>{const Vi=wi.element,lI=Xi(P,Vi,new Set);wi.preStyleProps.forEach(ul=>lI.add(ul));const Sm=Xi(x,Vi,new Set);wi.postStyleProps.forEach(ul=>Sm.add(ul)),Vi!==t&&M.add(Vi)});const xt=eI(M.values());return FH(t,this._triggerName,r,i,z,E,C,Ae,xt,P,x,He)}}function Noe(n,e){const t=Cm(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class koe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Cm(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Dm(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}}class Loe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new koe(i.style,i.options&&i.options.params||{},r))}),VH(this.states,"true","1"),VH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new LH(e,i,this.states))}),this.fallbackTransition=function Voe(n,e,t){return new LH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function VH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Uoe=new iI;class Boe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=NP(this._driver,t,r,[]);if(r.length)throw function zse(n){return new w(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=EH(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=LP(this._driver,t,s,PP,Qw,new Map,new Map,r,Uoe,i),o.forEach(f=>{const g=Xi(a,f.element,new Map);f.postStyleProps.forEach(m=>g.set(m,null))})):(i.push(function qse(){return new w(3300,!1)}()),o=[]),i.length)throw function Gse(n){return new w(3504,!1)}();a.forEach((f,g)=>{f.forEach((m,y)=>{f.set(y,this._driver.computeStyle(g,y,ga))})});const l=Ru(o.map(f=>{const g=a.get(f.element);return this._buildPlayer(f,new Map,g)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Wse(n){return new w(3301,!1)}();return t}listen(e,t,r,i){const s=DP(t,"","","");return CP(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const UH="ng-animate-queued",jP="ng-animate-disabled",qoe=[],BH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Goe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ws="__ng_removed";class $P{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Qoe(n){return n??null}(r?e.value:e),r){const s=Cm(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Am="void",HP=new $P(Am);class Woe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Kse(n,e){return new w(3302,!1)}();if(null==r||0==r.length)throw function Zse(n){return new w(3303,!1)}();if(!function Yoe(n){return"start"==n||"done"==n}(r))throw function Qse(n,e){return new w(3400,!1)}();const s=Xi(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Xi(this._engine.statesByElement,e,new Map);return a.has(t)||(vs(e,Yw),vs(e,Yw+"-"+t),a.set(t,HP)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Yse(n){return new w(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new zP(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(vs(e,Yw),vs(e,Yw+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const l=new $P(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=HP),l.value!==Am&&u.value===l.value){if(!function eae(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const b=[],C=s.matchStyles(u.value,u.params,b),M=s.matchStyles(l.value,l.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{ol(e,C),Do(e,M)})}return}const m=Xi(this._engine.playersByElement,e,[]);m.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let y=s.matchTransition(u.value,l.value,e,l.params),E=!1;if(!y){if(!i)return;y=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:u,toState:l,player:o,isFallbackTransition:E}),E||(vs(e,UH),o.onStart(()=>{Fh(e,UH)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);const C=this._engine.playersByElement.get(e);if(C){let M=C.indexOf(o);M>=0&&C.splice(M,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Jw,!0);r.forEach(i=>{if(i[Ws])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const f=this.trigger(e,l,Am,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Ru(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||HP,f=new $P(Am),g=new zP(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ws];(!s||s===BH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){vs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=DP(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,CP(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Koe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Woe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(aI(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!aI(t))return;const s=t[Ws];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vs(e,jP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fh(e,jP))}removeNode(e,t,r){if(aI(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ws]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return aI(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Jw,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,MP,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ru(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ws];if(t&&t.setForRemoval){if(e[Ws]=BH,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(jP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ru(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Jse(n){return new w(3402,!1)}()}_flushAnimations(e,t){const r=new iI,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,f=new Set;this.disabledNodes.forEach(Te=>{f.add(Te);const ke=this.driver.query(Te,".ng-animate-queued",!0);for(let je=0;je<ke.length;je++)f.add(ke[je])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=HH(m,this.collectedEnterElements),E=new Map;let b=0;y.forEach((Te,ke)=>{const je=PP+b++;E.set(ke,je),Te.forEach(Ct=>vs(Ct,je))});const C=[],M=new Set,P=new Set;for(let Te=0;Te<this.collectedLeaveElements.length;Te++){const ke=this.collectedLeaveElements[Te],je=ke[Ws];je&&je.setForRemoval&&(C.push(ke),M.add(ke),je.hasAnimation?this.driver.query(ke,".ng-star-inserted",!0).forEach(Ct=>M.add(Ct)):P.add(ke))}const x=new Map,z=HH(m,Array.from(M));z.forEach((Te,ke)=>{const je=Qw+b++;x.set(ke,je),Te.forEach(Ct=>vs(Ct,je))}),e.push(()=>{y.forEach((Te,ke)=>{const je=E.get(ke);Te.forEach(Ct=>Fh(Ct,je))}),z.forEach((Te,ke)=>{const je=x.get(ke);Te.forEach(Ct=>Fh(Ct,je))}),C.forEach(Te=>{this.processLeaveNode(Te)})});const ce=[],Ae=[];for(let Te=this._namespaceList.length-1;Te>=0;Te--)this._namespaceList[Te].drainQueuedTransitions(t).forEach(je=>{const Ct=je.player,Ar=je.element;if(ce.push(Ct),this.collectedEnterElements.length){const oi=Ar[Ws];if(oi&&oi.setForMove){if(oi.previousTriggersValues&&oi.previousTriggersValues.has(je.triggerName)){const cl=oi.previousTriggersValues.get(je.triggerName),Es=this.statesByElement.get(je.element);if(Es&&Es.has(je.triggerName)){const dI=Es.get(je.triggerName);dI.value=cl,Es.set(je.triggerName,dI)}}return void Ct.destroy()}}const Ao=!g||!this.driver.containsElement(g,Ar),ts=x.get(Ar),xu=E.get(Ar),Dn=this._buildInstruction(je,r,xu,ts,Ao);if(Dn.errors&&Dn.errors.length)return void Ae.push(Dn);if(Ao)return Ct.onStart(()=>ol(Ar,Dn.fromStyles)),Ct.onDestroy(()=>Do(Ar,Dn.toStyles)),void i.push(Ct);if(je.isFallbackTransition)return Ct.onStart(()=>ol(Ar,Dn.fromStyles)),Ct.onDestroy(()=>Do(Ar,Dn.toStyles)),void i.push(Ct);const t3=[];Dn.timelines.forEach(oi=>{oi.stretchStartingKeyframe=!0,this.disabledNodes.has(oi.element)||t3.push(oi)}),Dn.timelines=t3,r.append(Ar,Dn.timelines),o.push({instruction:Dn,player:Ct,element:Ar}),Dn.queriedElements.forEach(oi=>Xi(a,oi,[]).push(Ct)),Dn.preStyleProps.forEach((oi,cl)=>{if(oi.size){let Es=u.get(cl);Es||u.set(cl,Es=new Set),oi.forEach((dI,WP)=>Es.add(WP))}}),Dn.postStyleProps.forEach((oi,cl)=>{let Es=l.get(cl);Es||l.set(cl,Es=new Set),oi.forEach((dI,WP)=>Es.add(WP))})});if(Ae.length){const Te=[];Ae.forEach(ke=>{Te.push(function Xse(n,e){return new w(3505,!1)}())}),ce.forEach(ke=>ke.destroy()),this.reportError(Te)}const He=new Map,xt=new Map;o.forEach(Te=>{const ke=Te.element;r.has(ke)&&(xt.set(ke,ke),this._beforeAnimationBuild(Te.player.namespaceId,Te.instruction,He))}),i.forEach(Te=>{const ke=Te.element;this._getPreviousPlayers(ke,!1,Te.namespaceId,Te.triggerName,null).forEach(Ct=>{Xi(He,ke,[]).push(Ct),Ct.destroy()})});const wi=C.filter(Te=>qH(Te,u,l)),Vi=new Map;$H(Vi,this.driver,P,l,ga).forEach(Te=>{qH(Te,u,l)&&wi.push(Te)});const Sm=new Map;y.forEach((Te,ke)=>{$H(Sm,this.driver,new Set(Te),u,"!")}),wi.forEach(Te=>{const ke=Vi.get(Te),je=Sm.get(Te);Vi.set(Te,new Map([...ke?.entries()??[],...je?.entries()??[]]))});const ul=[],XH=[],e3={};o.forEach(Te=>{const{element:ke,player:je,instruction:Ct}=Te;if(r.has(ke)){if(f.has(ke))return je.onDestroy(()=>Do(ke,Ct.toStyles)),je.disabled=!0,je.overrideTotalTime(Ct.totalTime),void i.push(je);let Ar=e3;if(xt.size>1){let ts=ke;const xu=[];for(;ts=ts.parentNode;){const Dn=xt.get(ts);if(Dn){Ar=Dn;break}xu.push(ts)}xu.forEach(Dn=>xt.set(Dn,Ar))}const Ao=this._buildAnimation(je.namespaceId,Ct,He,s,Sm,Vi);if(je.setRealPlayer(Ao),Ar===e3)ul.push(je);else{const ts=this.playersByElement.get(Ar);ts&&ts.length&&(je.parentPlayer=Ru(ts)),i.push(je)}}else ol(ke,Ct.fromStyles),je.onDestroy(()=>Do(ke,Ct.toStyles)),XH.push(je),f.has(ke)&&i.push(je)}),XH.forEach(Te=>{const ke=s.get(Te.element);if(ke&&ke.length){const je=Ru(ke);Te.setRealPlayer(je)}}),i.forEach(Te=>{Te.parentPlayer?Te.syncPlayerEvents(Te.parentPlayer):Te.destroy()});for(let Te=0;Te<C.length;Te++){const ke=C[Te],je=ke[Ws];if(Fh(ke,Qw),je&&je.hasAnimation)continue;let Ct=[];if(a.size){let Ao=a.get(ke);Ao&&Ao.length&&Ct.push(...Ao);let ts=this.driver.query(ke,MP,!0);for(let xu=0;xu<ts.length;xu++){let Dn=a.get(ts[xu]);Dn&&Dn.length&&Ct.push(...Dn)}}const Ar=Ct.filter(Ao=>!Ao.destroyed);Ar.length?Joe(this,ke,Ar):this.processLeaveNode(ke)}return C.length=0,ul.forEach(Te=>{this.players.push(Te),Te.onDone(()=>{Te.destroy();const ke=this.players.indexOf(Te);this.players.splice(ke,1)}),Te.play()}),ul}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Am;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,f=l!==s,g=Xi(r,l,[]);this._getPreviousPlayers(l,f,o,a,t.toState).forEach(y=>{const E=y.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),y.destroy(),g.push(y)})}ol(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],f=new Set,g=new Set,m=t.timelines.map(E=>{const b=E.element;f.add(b);const C=b[Ws];if(C&&C.removedBeforeQueried)return new bm(E.duration,E.delay);const M=b!==u,P=function Xoe(n){const e=[];return zH(n,e),e}((r.get(b)||qoe).map(He=>He.getRealPlayer())).filter(He=>!!He.element&&He.element===b),x=s.get(b),z=o.get(b),ce=EH(this._normalizer,E.keyframes,x,z),Ae=this._buildPlayer(E,ce,P);if(E.subTimeline&&i&&g.add(b),M){const He=new zP(e,a,b);He.setRealPlayer(Ae),l.push(He)}return Ae});l.forEach(E=>{Xi(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>function Zoe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,E.element,E))}),f.forEach(E=>vs(E,AH));const y=Ru(m);return y.onDestroy(()=>{f.forEach(E=>Fh(E,AH)),Do(u,t.toStyles)}),g.forEach(E=>{Xi(i,E,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new bm(e.duration,e.delay)}}class zP{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new bm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>CP(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Xi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function aI(n){return n&&1===n.nodeType}function jH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function $H(n,e,t,r,i){const s=[];t.forEach(u=>s.push(jH(u)));const o=[];r.forEach((u,l)=>{const f=new Map;u.forEach(g=>{const m=e.computeStyle(l,g,i);f.set(g,m),(!m||0==m.length)&&(l[Ws]=Goe,o.push(l))}),n.set(l,f)});let a=0;return t.forEach(u=>jH(u,s[a++])),o}function HH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function vs(n,e){n.classList?.add(e)}function Fh(n,e){n.classList?.remove(e)}function Joe(n,e,t){Ru(t).onDone(()=>n.processLeaveNode(e))}function zH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof yH?zH(r.players,e):e.push(r)}}function qH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class uI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Koe(e,t,r),this._timelineEngine=new Boe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],f=NP(this._driver,s,u,[]);if(u.length)throw function $se(n,e){return new w(3404,!1)}();a=function Foe(n,e,t){return new Loe(n,e,t)}(i,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=wH(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=wH(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let nae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Do(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Do(this._element,this._initialStyles),this._endStyles&&(Do(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ol(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ol(this._element,this._endStyles),this._endStyles=null),Do(this._element,this._initialStyles),this._state=3)}}return n})();function qP(n){let e=null;return n.forEach((t,r)=>{(function rae(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class GH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:RH(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class iae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return bH(e,t)}getParentElement(e){return AP(e)}query(e,t,r){return CH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,f=o.filter(y=>y instanceof GH);(function doe(n,e){return 0===n||0===e})(r,i)&&f.forEach(y=>{y.currentSnapshot.forEach((E,b)=>l.set(b,E))});let g=function uoe(n){return n.length?n[0]instanceof Map?n:n.map(e=>SH(e)):[]}(t).map(y=>Ou(y));g=function hoe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,RH(n,a)))}}return e}(e,g,l);const m=function tae(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=qP(e[0]),e.length>1&&(r=qP(e[e.length-1]))):e instanceof Map&&(t=qP(e)),t||r?new nae(n,t,r):null}(e,g);return new GH(e,g,u,m)}}let sae=(()=>{class n extends gH{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:zr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?mH(t):t;return WH(this._renderer,null,r,"register",[i]),new oae(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(G(pc),G(Qn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class oae extends Ese{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new aae(this._id,e,t||{},this._renderer)}}class aae{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return WH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const KH="@.disabled";let uae=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new ZH("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,f)),f}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(o,a,t,f.name,f)};return r.data.animation.forEach(u),new cae(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(G(pc),G(uI),G(mt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class ZH{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==KH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class cae extends ZH{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==KH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function lae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function dae(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let hae=(()=>{class n extends uI{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(G(Qn),G(SP),G(UP),G(Ya))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const QH=[{provide:gH,useClass:sae},{provide:UP,useFactory:function fae(){return new Ooe}},{provide:uI,useClass:hae},{provide:pc,useFactory:function pae(n,e,t){return new uae(n,e,t)},deps:[H0,uI,mt]}],GP=[{provide:SP,useFactory:()=>new iae},{provide:ER,useValue:"BrowserAnimations"},...QH],YH=[{provide:SP,useClass:TH},{provide:ER,useValue:"NoopAnimations"},...QH];let gae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?YH:GP}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n});static#n=this.\u0275inj=Nn({providers:GP,imports:[Mk]})}return n})();const JH_firebaseConfig={apiKey:"AIzaSyBDzCRzK0DypyFSKHSBsCvBaQZHVdQeWtE",authDomain:"shopiz-reseller.firebaseapp.com",projectId:"shopiz-reseller",storageBucket:"shopiz-reseller.appspot.com",messagingSenderId:"928325868421",appId:"1:928325868421:web:5942ebf5887c2c20cb82ec",measurementId:"G-VJHPW132G6"};(0,Ac.initializeApp)(JH_firebaseConfig);let mae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=An({type:n,bootstrap:[vse]});static#n=this.\u0275inj=Nn({imports:[wv,xie,Oie,Mk,hse,L7,gae,bre.forRoot(),Bre,VQ.initializeApp(JH_firebaseConfig),vne]})}return n})();o7().bootstrapModule(mae).catch(n=>console.error(n))},106:(ws,Xn,Ze)=>{Ze.d(Xn,{Z:()=>tr});var I=Ze(58),Ve=Ze(537),we=Ze(534),U=Ze(879);class gt{constructor($e,Je){this._delegate=$e,this.firebase=Je,(0,we._addComponent)($e,new Ve.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,we.deleteApp)(this._delegate)))}_getService($e,Je=we._DEFAULT_ENTRY_NAME){var nr;this._delegate.checkDestroyed();const rr=this._delegate.container.getProvider($e);return!rr.isInitialized()&&"EXPLICIT"===(null===(nr=rr.getComponent())||void 0===nr?void 0:nr.instantiationMode)&&rr.initialize(),rr.getImmediate({identifier:Je})}_removeServiceInstance($e,Je=we._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(Je)}_addComponent($e){(0,we._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,we._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function at(){const Et=function er(Et){const $e={},Je={__esModule:!0,initializeApp:function Jt(xe,In={}){const jt=we.initializeApp(xe,In);if((0,I.r3)($e,jt.name))return $e[jt.name];const te=new Et(jt,Je);return $e[jt.name]=te,te},app:rr,registerVersion:we.registerVersion,setLogLevel:we.setLogLevel,onLog:we.onLog,apps:null,SDK_VERSION:we.SDK_VERSION,INTERNAL:{registerComponent:function Rt(xe){const In=xe.name,jt=In.replace("-compat","");if(we._registerComponent(xe)&&"PUBLIC"===xe.type){const te=(an=rr())=>{if("function"!=typeof an[jt])throw pn.create("invalid-app-argument",{appName:In});return an[jt]()};void 0!==xe.serviceProps&&(0,I.ZB)(te,xe.serviceProps),Je[jt]=te,Et.prototype[jt]=function(...an){return this._getService.bind(this,In).apply(this,xe.multipleInstances?an:[])}}return"PUBLIC"===xe.type?Je[jt]:null},removeApp:function nr(xe){delete $e[xe]},useAsService:function Sr(xe,In){return"serverAuth"===In?null:In},modularAPIs:we}};function rr(xe){if(!(0,I.r3)($e,xe=xe||we._DEFAULT_ENTRY_NAME))throw pn.create("no-app",{appName:xe});return $e[xe]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function wt(){return Object.keys($e).map(xe=>$e[xe])}}),rr.App=Et,Je}(gt);return Et.INTERNAL=Object.assign(Object.assign({},Et.INTERNAL),{createFirebaseNamespace:at,extendNamespace:function $e(Je){(0,I.ZB)(Et,Je)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Et}(),ie=new U.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Et=self.firebase.SDK_VERSION;Et&&Et.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tr=J;!function yt(Et){(0,we.registerVersion)("@firebase/app-compat","0.2.31",Et)}()},534:(ws,Xn,Ze)=>{Ze.r(Xn),Ze.d(Xn,{FirebaseError:()=>U.ZR,SDK_VERSION:()=>ci,_DEFAULT_ENTRY_NAME:()=>Is,_addComponent:()=>pr,_addOrOverwriteComponent:()=>bs,_apps:()=>bi,_clearComponents:()=>ku,_components:()=>Ui,_getProvider:()=>ns,_isFirebaseApp:()=>va,_isFirebaseServerApp:()=>Oo,_registerComponent:()=>Ht,_removeServiceInstance:()=>Hn,_serverApps:()=>Ci,deleteApp:()=>wa,getApp:()=>ll,getApps:()=>Ea,initializeApp:()=>Pr,initializeServerApp:()=>xo,onLog:()=>D,registerVersion:()=>A,setLogLevel:()=>S});var I=Ze(861),Ve=Ze(537),we=Ze(879),U=Ze(58);const gt=(k,w)=>w.some(q=>k instanceof q);let on,pn;const J=new WeakMap,ie=new WeakMap,Ce=new WeakMap,it=new WeakMap,yt=new WeakMap;let $e={get(k,w,q){if(k instanceof IDBTransaction){if("done"===w)return ie.get(k);if("objectStoreNames"===w)return k.objectStoreNames||Ce.get(k);if("store"===w)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return Jt(k[w])},set:(k,w,q)=>(k[w]=q,!0),has:(k,w)=>k instanceof IDBTransaction&&("done"===w||"store"===w)||w in k};function rr(k){return"function"==typeof k?function nr(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function at(){return pn||(pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...w){return k.apply(wt(this),w),Jt(J.get(this))}:function(...w){return Jt(k.apply(wt(this),w))}:function(w,...q){const Y=k.call(wt(this),w,...q);return Ce.set(Y,w.sort?w.sort():[w]),Jt(Y)}}(k):(k instanceof IDBTransaction&&function Et(k){if(ie.has(k))return;const w=new Promise((q,Y)=>{const ge=()=>{k.removeEventListener("complete",Ge),k.removeEventListener("error",nt),k.removeEventListener("abort",nt)},Ge=()=>{q(),ge()},nt=()=>{Y(k.error||new DOMException("AbortError","AbortError")),ge()};k.addEventListener("complete",Ge),k.addEventListener("error",nt),k.addEventListener("abort",nt)});ie.set(k,w)}(k),gt(k,function er(){return on||(on=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,$e):k)}function Jt(k){if(k instanceof IDBRequest)return function tr(k){const w=new Promise((q,Y)=>{const ge=()=>{k.removeEventListener("success",Ge),k.removeEventListener("error",nt)},Ge=()=>{q(Jt(k.result)),ge()},nt=()=>{Y(k.error),ge()};k.addEventListener("success",Ge),k.addEventListener("error",nt)});return w.then(q=>{q instanceof IDBCursor&&J.set(q,k)}).catch(()=>{}),yt.set(w,k),w}(k);if(it.has(k))return it.get(k);const w=rr(k);return w!==k&&(it.set(k,w),yt.set(w,k)),w}const wt=k=>yt.get(k),xe=["get","getKey","getAll","getAllKeys","count"],In=["put","add","delete","clear"],jt=new Map;function te(k,w){if(!(k instanceof IDBDatabase)||w in k||"string"!=typeof w)return;if(jt.get(w))return jt.get(w);const q=w.replace(/FromIndex$/,""),Y=w!==q,ge=In.includes(q);if(!(q in(Y?IDBIndex:IDBObjectStore).prototype)||!ge&&!xe.includes(q))return;const Ge=function(){var nt=(0,I.Z)(function*(en,...zt){const kt=this.transaction(en,ge?"readwrite":"readonly");let Ia=kt.store;return Y&&(Ia=Ia.index(zt.shift())),(yield Promise.all([Ia[q](...zt),ge&&kt.done]))[0]});return function(zt){return nt.apply(this,arguments)}}();return jt.set(w,Ge),Ge}!function Je(k){$e=k($e)}(k=>({...k,get:(w,q,Y)=>te(w,q)||k.get(w,q,Y),has:(w,q)=>!!te(w,q)||k.has(w,q)}));class an{constructor(w){this.container=w}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function Qt(k){const w=k.getComponent();return"VERSION"===w?.type}(q)){const Y=q.getImmediate();return`${Y.library}/${Y.version}`}return null}).filter(q=>q).join(" ")}}const ai="@firebase/app",Ii="0.10.1",ut=new we.Yd("@firebase/app"),Is="[DEFAULT]",Ro={[ai]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bi=new Map,Ci=new Map,Ui=new Map;function pr(k,w){try{k.container.addComponent(w)}catch(q){ut.debug(`Component ${w.name} failed to register with FirebaseApp ${k.name}`,q)}}function bs(k,w){k.container.addOrOverwriteComponent(w)}function Ht(k){const w=k.name;if(Ui.has(w))return ut.debug(`There were multiple attempts to register component ${w}.`),!1;Ui.set(w,k);for(const q of bi.values())pr(q,k);for(const q of Ci.values())pr(q,k);return!0}function ns(k,w){const q=k.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),k.container.getProvider(w)}function Hn(k,w,q=Is){ns(k,w).clearInstance(q)}function va(k){return void 0!==k.options}function Oo(k){return void 0!==k.settings}function ku(){Ui.clear()}const zn=new U.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Cs{constructor(w,q,Y){this._isDeleted=!1,this._options=Object.assign({},w),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=Y,this.container.addComponent(new Ve.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(w){this.checkDestroyed(),this._automaticDataCollectionEnabled=w}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(w){this._isDeleted=w}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}class Fu extends Cs{constructor(w,q,Y,ge){const Ge=void 0!==q.automaticDataCollectionEnabled&&q.automaticDataCollectionEnabled,nt={name:Y,automaticDataCollectionEnabled:Ge};super(void 0!==w.apiKey?w:w.options,nt,ge),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ge},q),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,q.releaseOnDeref=void 0,A(ai,Ii,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(w){this.isDeleted||(this._refCount++,void 0!==w&&this._finalizationRegistry.register(w,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){wa(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw zn.create("server-app-deleted")}}const ci="10.11.0";function Pr(k,w={}){let q=k;"object"!=typeof w&&(w={name:w});const Y=Object.assign({name:Is,automaticDataCollectionEnabled:!1},w),ge=Y.name;if("string"!=typeof ge||!ge)throw zn.create("bad-app-name",{appName:String(ge)});if(q||(q=(0,U.aH)()),!q)throw zn.create("no-options");const Ge=bi.get(ge);if(Ge){if((0,U.vZ)(q,Ge.options)&&(0,U.vZ)(Y,Ge.config))return Ge;throw zn.create("duplicate-app",{appName:ge})}const nt=new Ve.H0(ge);for(const zt of Ui.values())nt.addComponent(zt);const en=new Cs(q,Y,nt);return bi.set(ge,en),en}function xo(k,w){if((0,U.jU)())throw zn.create("invalid-server-app-environment");let q;void 0===w.automaticDataCollectionEnabled&&(w.automaticDataCollectionEnabled=!1),q=va(k)?k.options:k;const Y=Object.assign(Object.assign({},w),q);if(void 0!==Y.releaseOnDeref&&delete Y.releaseOnDeref,void 0!==w.releaseOnDeref&&typeof FinalizationRegistry>"u")throw zn.create("finalization-registry-not-supported",{});const Ge=""+(kt=JSON.stringify(Y),[...kt].reduce((Ia,Vh)=>Math.imul(31,Ia)+Vh.charCodeAt(0)|0,0)),nt=Ci.get(Ge);var kt;if(nt)return nt.incRefCount(w.releaseOnDeref),nt;const en=new Ve.H0(Ge);for(const kt of Ui.values())en.addComponent(kt);const zt=new Fu(q,w,Ge,en);return Ci.set(Ge,zt),zt}function ll(k=Is){const w=bi.get(k);if(!w&&k===Is&&(0,U.aH)())return Pr();if(!w)throw zn.create("no-app",{appName:k});return w}function Ea(){return Array.from(bi.values())}function wa(k){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,I.Z)(function*(k){let w=!1;const q=k.name;bi.has(q)?(w=!0,bi.delete(q)):Ci.has(q)&&k.decRefCount()<=0&&(Ci.delete(q),w=!0),w&&(yield Promise.all(k.container.getProviders().map(Y=>Y.delete())),k.isDeleted=!0)})).apply(this,arguments)}function A(k,w,q){var Y;let ge=null!==(Y=Ro[k])&&void 0!==Y?Y:k;q&&(ge+=`-${q}`);const Ge=ge.match(/\s|\//),nt=w.match(/\s|\//);if(Ge||nt){const en=[`Unable to register library "${ge}" with version "${w}":`];return Ge&&en.push(`library name "${ge}" contains illegal characters (whitespace or "/")`),Ge&&nt&&en.push("and"),nt&&en.push(`version name "${w}" contains illegal characters (whitespace or "/")`),void ut.warn(en.join(" "))}Ht(new Ve.wA(`${ge}-version`,()=>({library:ge,version:w}),"VERSION"))}function D(k,w){if(null!==k&&"function"!=typeof k)throw zn.create("invalid-log-argument");(0,we.Am)(k,w)}function S(k){(0,we.Ub)(k)}const Q="firebase-heartbeat-database",O=1,$="firebase-heartbeat-store";let Oe=null;function At(){return Oe||(Oe=function Rt(k,w,{blocked:q,upgrade:Y,blocking:ge,terminated:Ge}={}){const nt=indexedDB.open(k,w),en=Jt(nt);return Y&&nt.addEventListener("upgradeneeded",zt=>{Y(Jt(nt.result),zt.oldVersion,zt.newVersion,Jt(nt.transaction),zt)}),q&&nt.addEventListener("blocked",zt=>q(zt.oldVersion,zt.newVersion,zt)),en.then(zt=>{Ge&&zt.addEventListener("close",()=>Ge()),ge&&zt.addEventListener("versionchange",kt=>ge(kt.oldVersion,kt.newVersion,kt))}).catch(()=>{}),en}(Q,O,{upgrade:(k,w)=>{if(0===w)try{k.createObjectStore($)}catch(q){console.warn(q)}}}).catch(k=>{throw zn.create("idb-open",{originalErrorMessage:k.message})})),Oe}function xn(){return(xn=(0,I.Z)(function*(k){try{const q=(yield At()).transaction($),Y=yield q.objectStore($).get(gn(k));return yield q.done,Y}catch(w){if(w instanceof U.ZR)ut.warn(w.message);else{const q=zn.create("idb-get",{originalErrorMessage:w?.message});ut.warn(q.message)}}})).apply(this,arguments)}function qn(k,w){return ye.apply(this,arguments)}function ye(){return(ye=(0,I.Z)(function*(k,w){try{const Y=(yield At()).transaction($,"readwrite");yield Y.objectStore($).put(w,gn(k)),yield Y.done}catch(q){if(q instanceof U.ZR)ut.warn(q.message);else{const Y=zn.create("idb-set",{originalErrorMessage:q?.message});ut.warn(Y.message)}}})).apply(this,arguments)}function gn(k){return`${k.name}!${k.options.appId}`}class Lu{constructor(w){this.container=w,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new Ds(q),this._heartbeatsCachePromise=this._storage.read().then(Y=>(this._heartbeatsCache=Y,Y))}triggerHeartbeat(){var w=this;return(0,I.Z)(function*(){var q,Y;const Ge=w.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nt=Tt();if((null!=(null===(q=w._heartbeatsCache)||void 0===q?void 0:q.heartbeats)||(w._heartbeatsCache=yield w._heartbeatsCachePromise,null!=(null===(Y=w._heartbeatsCache)||void 0===Y?void 0:Y.heartbeats)))&&w._heartbeatsCache.lastSentHeartbeatDate!==nt&&!w._heartbeatsCache.heartbeats.some(en=>en.date===nt))return w._heartbeatsCache.heartbeats.push({date:nt,agent:Ge}),w._heartbeatsCache.heartbeats=w._heartbeatsCache.heartbeats.filter(en=>{const zt=new Date(en.date).valueOf();return Date.now()-zt<=2592e6}),w._storage.overwrite(w._heartbeatsCache)})()}getHeartbeatsHeader(){var w=this;return(0,I.Z)(function*(){var q;if(null===w._heartbeatsCache&&(yield w._heartbeatsCachePromise),null==(null===(q=w._heartbeatsCache)||void 0===q?void 0:q.heartbeats)||0===w._heartbeatsCache.heartbeats.length)return"";const Y=Tt(),{heartbeatsToSend:ge,unsentEntries:Ge}=function Fe(k,w=1024){const q=[];let Y=k.slice();for(const ge of k){const Ge=q.find(nt=>nt.agent===ge.agent);if(Ge){if(Ge.dates.push(ge.date),No(q)>w){Ge.dates.pop();break}}else if(q.push({agent:ge.agent,dates:[ge.date]}),No(q)>w){q.pop();break}Y=Y.slice(1)}return{heartbeatsToSend:q,unsentEntries:Y}}(w._heartbeatsCache.heartbeats),nt=(0,U.L)(JSON.stringify({version:2,heartbeats:ge}));return w._heartbeatsCache.lastSentHeartbeatDate=Y,Ge.length>0?(w._heartbeatsCache.heartbeats=Ge,yield w._storage.overwrite(w._heartbeatsCache)):(w._heartbeatsCache.heartbeats=[],w._storage.overwrite(w._heartbeatsCache)),nt})()}}function Tt(){return(new Date).toISOString().substring(0,10)}class Ds{constructor(w){this.app=w,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,U.hl)()&&(0,U.eu)().then(()=>!0).catch(()=>!1)})()}read(){var w=this;return(0,I.Z)(function*(){if(yield w._canUseIndexedDBPromise){const Y=yield function ze(k){return xn.apply(this,arguments)}(w.app);return Y?.heartbeats?Y:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(w){var q=this;return(0,I.Z)(function*(){var Y;if(yield q._canUseIndexedDBPromise){const Ge=yield q.read();return qn(q.app,{lastSentHeartbeatDate:null!==(Y=w.lastSentHeartbeatDate)&&void 0!==Y?Y:Ge.lastSentHeartbeatDate,heartbeats:w.heartbeats})}})()}add(w){var q=this;return(0,I.Z)(function*(){var Y;if(yield q._canUseIndexedDBPromise){const Ge=yield q.read();return qn(q.app,{lastSentHeartbeatDate:null!==(Y=w.lastSentHeartbeatDate)&&void 0!==Y?Y:Ge.lastSentHeartbeatDate,heartbeats:[...Ge.heartbeats,...w.heartbeats]})}})()}}function No(k){return(0,U.L)(JSON.stringify({version:2,heartbeats:k})).length}!function Lh(k){Ht(new Ve.wA("platform-logger",w=>new an(w),"PRIVATE")),Ht(new Ve.wA("heartbeat",w=>new Lu(w),"PRIVATE")),A(ai,Ii,k),A(ai,Ii,"esm2017"),A("fire-js","")}("")},537:(ws,Xn,Ze)=>{Ze.d(Xn,{H0:()=>er,wA:()=>we});var I=Ze(861),Ve=Ze(58);class we{constructor(J,ie,Ce){this.name=J,this.instanceFactory=ie,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const U="[DEFAULT]";class gt{constructor(J,ie){this.name=J,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ie=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ie)){const Ce=new Ve.BH;if(this.instancesDeferred.set(ie,Ce),this.isInitialized(ie)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:ie});it&&Ce.resolve(it)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(J){var ie;const Ce=this.normalizeInstanceIdentifier(J?.identifier),it=null!==(ie=J?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(yt){if(it)return null;throw yt}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function pn(at){return"EAGER"===at.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:U})}catch{}for(const[ie,Ce]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(ie);try{const yt=this.getOrInitializeService({instanceIdentifier:it});Ce.resolve(yt)}catch{}}}}clearInstance(J=U){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,I.Z)(function*(){const ie=Array.from(J.instances.values());yield Promise.all([...ie.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...ie.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=U){return this.instances.has(J)}getOptions(J=U){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ie={}}=J,Ce=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:Ce,options:ie});for(const[yt,tr]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(yt)&&tr.resolve(it);return it}onInit(J,ie){var Ce;const it=this.normalizeInstanceIdentifier(ie),yt=null!==(Ce=this.onInitCallbacks.get(it))&&void 0!==Ce?Ce:new Set;yt.add(J),this.onInitCallbacks.set(it,yt);const tr=this.instances.get(it);return tr&&J(tr,it),()=>{yt.delete(J)}}invokeOnInitCallbacks(J,ie){const Ce=this.onInitCallbacks.get(ie);if(Ce)for(const it of Ce)try{it(J,ie)}catch{}}getOrInitializeService({instanceIdentifier:J,options:ie={}}){let Ce=this.instances.get(J);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(at=J,at===U?void 0:at),options:ie}),this.instances.set(J,Ce),this.instancesOptions.set(J,ie),this.invokeOnInitCallbacks(Ce,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Ce)}catch{}var at;return Ce||null}normalizeInstanceIdentifier(J=U){return this.component?this.component.multipleInstances?J:U:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class er{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ie=this.getProvider(J.name);if(ie.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ie.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ie=new gt(J,this);return this.providers.set(J,ie),ie}getProviders(){return Array.from(this.providers.values())}}},879:(ws,Xn,Ze)=>{Ze.d(Xn,{Am:()=>at,Ub:()=>er,Yd:()=>pn,in:()=>Ve});const I=[];var Ve=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(Ve||{});const we={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},U=Ve.INFO,gt={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},on=(J,ie,...Ce)=>{if(ie<J.logLevel)return;const it=(new Date).toISOString(),yt=gt[ie];if(!yt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[yt](`[${it}]  ${J.name}:`,...Ce)};class pn{constructor(ie){this.name=ie,this._logLevel=U,this._logHandler=on,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in Ve))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?we[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...ie),this._logHandler(this,Ve.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...ie),this._logHandler(this,Ve.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...ie),this._logHandler(this,Ve.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...ie),this._logHandler(this,Ve.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...ie),this._logHandler(this,Ve.ERROR,...ie)}}function er(J){I.forEach(ie=>{ie.setLogLevel(J)})}function at(J,ie){for(const Ce of I){let it=null;ie&&ie.level&&(it=we[ie.level]),Ce.userLogHandler=null===J?null:(yt,tr,...Et)=>{const $e=Et.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch{return null}}).filter(Je=>Je).join(" ");tr>=(it??yt.logLevel)&&J({level:Ve[tr].toLowerCase(),message:$e,args:Et,type:yt.name})}}}},622:(ws,Xn,Ze)=>{Ze.r(Xn);var I=Ze(861),Ve=Ze(106),we=Ze(534),U=Ze(58),gt=Ze(879),on=Ze(582),pn=Ze(537);const at={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const tr=function it(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Et=function yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nr=new gt.Yd("@firebase/auth");function Jt(h,...c){nr.logLevel<=gt.in.ERROR&&nr.error(`Auth (${we.SDK_VERSION}): ${h}`,...c)}function wt(h,...c){throw jt(h,...c)}function Rt(h,...c){return jt(h,...c)}function Sr(h,c,d){const p=Object.assign(Object.assign({},Et()),{[c]:d});return new U.LL("auth","Firebase",p).create(c,{appName:h.name})}function xe(h){return Sr(h,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function In(h,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&wt(h,"argument-error"),Sr(h,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jt(h,...c){if("string"!=typeof h){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=h.name),h._errorFactory.create(d,...p)}return $e.create(h,...c)}function te(h,c,...d){if(!h)throw jt(c,...d)}function an(h){const c="INTERNAL ASSERTION FAILED: "+h;throw Jt(c),new Error(c)}function Qt(h,c){h||an(c)}function ai(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function Ii(){return"http:"===ut()||"https:"===ut()}function ut(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class F{constructor(c,d){this.shortDelay=c,this.longDelay=d,Qt(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function So(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ii()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V(h,c){Qt(h.emulator,"Emulator should always be set here");const{url:d}=h.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class j{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void an("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void an("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void an("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ue=new F(3e4,6e4);function B(h,c){return h.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:h.tenantId}):c}function se(h,c,d,p){return lt.apply(this,arguments)}function lt(){return(lt=(0,I.Z)(function*(h,c,d,p,_={}){return be(h,_,(0,I.Z)(function*(){let v={},T={};p&&("GET"===c?T=p:v={body:JSON.stringify(p)});const R=(0,U.xO)(Object.assign({key:h.config.apiKey},T)).slice(1),H=yield h._getAdditionalHeaders();return H["Content-Type"]="application/json",h.languageCode&&(H["X-Firebase-Locale"]=h.languageCode),j.fetch()($t(h,h.config.apiHost,d,R),Object.assign({method:c,headers:H,referrerPolicy:"no-referrer"},v))}))})).apply(this,arguments)}function be(h,c,d){return Re.apply(this,arguments)}function Re(){return(Re=(0,I.Z)(function*(h,c,d){h._canInitEmulator=!1;const p=Object.assign(Object.assign({},K),c);try{const _=new jr(h),v=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const T=yield v.json();if("needConfirmation"in T)throw $n(h,"account-exists-with-different-credential",T);if(v.ok&&!("errorMessage"in T))return T;{const R=v.ok?T.errorMessage:T.error.message,[H,de]=R.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===H)throw $n(h,"credential-already-in-use",T);if("EMAIL_EXISTS"===H)throw $n(h,"email-already-in-use",T);if("USER_DISABLED"===H)throw $n(h,"user-disabled",T);const ve=p[H]||H.toLowerCase().replace(/[_\s]+/g,"-");if(de)throw Sr(h,ve,de);wt(h,ve)}}catch(_){if(_ instanceof U.ZR)throw _;wt(h,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Xe(h,c,d,p){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,I.Z)(function*(h,c,d,p,_={}){const v=yield se(h,c,d,p,_);return"mfaPendingCredential"in v&&wt(h,"multi-factor-auth-required",{_serverResponse:v}),v})).apply(this,arguments)}function $t(h,c,d,p){const _=`${c}${d}?${p}`;return h.config.emulator?V(h.config,_):`${h.config.apiScheme}://${_}`}function fr(h){switch(h){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Rt(this.auth,"network-request-failed")),ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(h,c,d){const p={appName:h.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Rt(h,c,p);return _.customData._tokenResponse=d,_}function $r(h){return void 0!==h&&void 0!==h.getResponse}function ui(h){return void 0!==h&&void 0!==h.enterprise}class ya{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return fr(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function bn(){return(bn=(0,I.Z)(function*(h){return(yield se(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nu(h,c){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,I.Z)(function*(h,c){return se(h,"GET","/v2/recaptchaConfig",B(h,c))})).apply(this,arguments)}function Ro(){return(Ro=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Ci(){return(Ci=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ui(h,c){return pr.apply(this,arguments)}function pr(){return(pr=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function bs(h){if(h)try{const c=new Date(Number(h));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Hn(){return(Hn=(0,I.Z)(function*(h,c=!1){const d=(0,U.m9)(h),p=yield d.getIdToken(c),_=Oo(p);te(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const v="object"==typeof _.firebase?_.firebase:void 0,T=v?.sign_in_provider;return{claims:_,token:p,authTime:bs(va(_.auth_time)),issuedAtTime:bs(va(_.iat)),expirationTime:bs(va(_.exp)),signInProvider:T||null,signInSecondFactor:v?.sign_in_second_factor||null}})).apply(this,arguments)}function va(h){return 1e3*Number(h)}function Oo(h){const[c,d,p]=h.split(".");if(void 0===c||void 0===d||void 0===p)return Jt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,U.tV)(d);return _?JSON.parse(_):(Jt("Failed to decode base64 JWT payload"),null)}catch(_){return Jt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function ku(h){const c=Oo(h);return te(c,"internal-error"),te(typeof c.exp<"u","internal-error"),te(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}function Hr(h,c){return zn.apply(this,arguments)}function zn(){return(zn=(0,I.Z)(function*(h,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof U.ZR&&function Cs({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}(p)&&h.auth.currentUser===h&&(yield h.auth.signOut()),p}})).apply(this,arguments)}class Fu{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,I.Z)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,I.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class ci{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=bs(this.lastLoginAt),this.creationTime=bs(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(h){return xo.apply(this,arguments)}function xo(){return(xo=(0,I.Z)(function*(h){var c;const d=h.auth,p=yield h.getIdToken(),_=yield Hr(h,Ui(d,{idToken:p}));te(_?.users.length,d,"internal-error");const v=_.users[0];h._notifyReloadListener(v);const T=null!==(c=v.providerUserInfo)&&void 0!==c&&c.length?Ts(v.providerUserInfo):[],R=function wa(h,c){return[...h.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(h.providerData,T),ve=!!h.isAnonymous&&!(h.email&&v.passwordHash||R?.length),Ee={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:R,metadata:new ci(v.createdAt,v.lastLoginAt),isAnonymous:ve};Object.assign(h,Ee)})).apply(this,arguments)}function Ea(){return(Ea=(0,I.Z)(function*(h){const c=(0,U.m9)(h);yield Pr(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Ts(h){return h.map(c=>{var{providerId:d}=c,p=(0,on._T)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}function D(){return(D=(0,I.Z)(function*(h,c){const d=yield be(h,{},(0,I.Z)(function*(){const p=(0,U.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:v}=h.config,T=$t(h,_,"/v1/token",`key=${v}`),R=yield h._getAdditionalHeaders();return R["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(T,{method:"POST",headers:R,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function Q(){return(Q=(0,I.Z)(function*(h,c){return se(h,"POST","/v2/accounts:revokeToken",B(h,c))})).apply(this,arguments)}class O{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){te(c.idToken,"internal-error"),te(typeof c.idToken<"u","internal-error"),te(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):ku(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}updateFromIdToken(c){te(0!==c.length,"internal-error");const d=ku(c);this.updateTokensAndExpiration(c,null,d)}getToken(c,d=!1){var p=this;return(0,I.Z)(function*(){return d||!p.accessToken||p.isExpired?(te(p.refreshToken,c,"user-token-expired"),p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null):p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,I.Z)(function*(){const{accessToken:_,refreshToken:v,expiresIn:T}=yield function A(h,c){return D.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,v,Number(T))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:v}=d,T=new O;return p&&(te("string"==typeof p,"internal-error",{appName:c}),T.refreshToken=p),_&&(te("string"==typeof _,"internal-error",{appName:c}),T.accessToken=_),v&&(te("number"==typeof v,"internal-error",{appName:c}),T.expirationTime=v),T}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new O,this.toJSON())}_performRefresh(){return an("not implemented")}}function $(h,c){te("string"==typeof h||typeof h>"u","internal-error",{appName:c})}class Oe{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,v=(0,on._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=v.displayName||null,this.email=v.email||null,this.emailVerified=v.emailVerified||!1,this.phoneNumber=v.phoneNumber||null,this.photoURL=v.photoURL||null,this.isAnonymous=v.isAnonymous||!1,this.tenantId=v.tenantId||null,this.providerData=v.providerData?[...v.providerData]:[],this.metadata=new ci(v.createdAt||void 0,v.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,I.Z)(function*(){const p=yield Hr(d,d.stsTokenManager.getToken(d.auth,c));return te(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function ns(h){return Hn.apply(this,arguments)}(this,c)}reload(){return function ll(h){return Ea.apply(this,arguments)}(this)}_assign(c){this!==c&&(te(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new Oe(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,I.Z)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield Pr(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,I.Z)(function*(){if((0,we._isFirebaseServerApp)(c.auth.app))return Promise.reject(xe(c.auth));const d=yield c.getIdToken();return yield Hr(c,function Is(h,c){return Ro.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,v,T,R,H,de,ve;const Ee=null!==(p=d.displayName)&&void 0!==p?p:void 0,Kt=null!==(_=d.email)&&void 0!==_?_:void 0,Ri=null!==(v=d.phoneNumber)&&void 0!==v?v:void 0,Ql=null!==(T=d.photoURL)&&void 0!==T?T:void 0,qf=null!==(R=d.tenantId)&&void 0!==R?R:void 0,ry=null!==(H=d._redirectEventId)&&void 0!==H?H:void 0,Gf=null!==(de=d.createdAt)&&void 0!==de?de:void 0,pb=null!==(ve=d.lastLoginAt)&&void 0!==ve?ve:void 0,{uid:Wf,emailVerified:iy,isAnonymous:Yl,providerData:sy,stsTokenManager:gb}=d;te(Wf&&gb,c,"internal-error");const Kf=O.fromJSON(this.name,gb);te("string"==typeof Wf,c,"internal-error"),$(Ee,c.name),$(Kt,c.name),te("boolean"==typeof iy,c,"internal-error"),te("boolean"==typeof Yl,c,"internal-error"),$(Ri,c.name),$(Ql,c.name),$(qf,c.name),$(ry,c.name),$(Gf,c.name),$(pb,c.name);const oy=new Oe({uid:Wf,auth:c,email:Kt,emailVerified:iy,displayName:Ee,isAnonymous:Yl,photoURL:Ql,phoneNumber:Ri,tenantId:qf,stsTokenManager:Kf,createdAt:Gf,lastLoginAt:pb});return sy&&Array.isArray(sy)&&(oy.providerData=sy.map(bM=>Object.assign({},bM))),ry&&(oy._redirectEventId=ry),oy}static _fromIdTokenResponse(c,d,p=!1){return(0,I.Z)(function*(){const _=new O;_.updateFromServerResponse(d);const v=new Oe({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield Pr(v),v})()}static _fromGetAccountInfoResponse(c,d,p){return(0,I.Z)(function*(){const _=d.users[0];te(void 0!==_.localId,"internal-error");const v=void 0!==_.providerUserInfo?Ts(_.providerUserInfo):[],T=!(_.email&&_.passwordHash||v?.length),R=new O;R.updateFromIdToken(p);const H=new Oe({uid:_.localId,auth:c,stsTokenManager:R,isAnonymous:T}),de={uid:_.localId,displayName:_.displayName||null,photoURL:_.photoUrl||null,email:_.email||null,emailVerified:_.emailVerified||!1,phoneNumber:_.phoneNumber||null,tenantId:_.tenantId||null,providerData:v,metadata:new ci(_.createdAt,_.lastLoginAt),isAnonymous:!(_.email&&_.passwordHash||v?.length)};return Object.assign(H,de),H})()}}const At=new Map;function ze(h){Qt(h instanceof Function,"Expected a class definition");let c=At.get(h);return c?(Qt(c instanceof h,"Instance stored in cache mismatched with class"),c):(c=new h,At.set(h,c),c)}const qn=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,I.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,I.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,I.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return h.type="NONE",h})();function ye(h,c,d){return`firebase:${h}:${c}:${d}`}class gn{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:v}=this.auth;this.fullUserKey=ye(this.userKey,_.apiKey,v),this.fullPersistenceKey=ye("persistence",_.apiKey,v),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,I.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?Oe._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,I.Z)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,I.Z)(function*(){if(!d.length)return new gn(ze(qn),c,p);const _=(yield Promise.all(d.map(function(){var de=(0,I.Z)(function*(ve){if(yield ve._isAvailable())return ve});return function(ve){return de.apply(this,arguments)}}()))).filter(de=>de);let v=_[0]||ze(qn);const T=ye(p,c.config.apiKey,c.name);let R=null;for(const de of d)try{const ve=yield de._get(T);if(ve){const Ee=Oe._fromJSON(c,ve);de!==v&&(R=Ee),v=de;break}}catch{}const H=_.filter(de=>de._shouldAllowMigration);return v._shouldAllowMigration&&H.length?(v=H[0],R&&(yield v._set(T,R.toJSON())),yield Promise.all(d.map(function(){var de=(0,I.Z)(function*(ve){if(ve!==v)try{yield ve._remove(T)}catch{}});return function(ve){return de.apply(this,arguments)}}())),new gn(v,c,p)):new gn(v,c,p)})()}}function Nt(h){const c=h.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Fe(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Ks(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(No(c))return"Blackberry";if(Lh(c))return"Webos";if(Lu(c))return"Safari";if((c.includes("chrome/")||Tt(c))&&!c.includes("edge/"))return"Chrome";if(Ds(c))return"Android";{const p=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Ks(h=(0,U.z$)()){return/firefox\//i.test(h)}function Lu(h=(0,U.z$)()){const c=h.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Tt(h=(0,U.z$)()){return/crios\//i.test(h)}function Fe(h=(0,U.z$)()){return/iemobile/i.test(h)}function Ds(h=(0,U.z$)()){return/android/i.test(h)}function No(h=(0,U.z$)()){return/blackberry/i.test(h)}function Lh(h=(0,U.z$)()){return/webos/i.test(h)}function k(h=(0,U.z$)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function ge(h=(0,U.z$)()){return k(h)||Ds(h)||Lh(h)||No(h)||/windows phone/i.test(h)||Fe(h)}function nt(h,c=[]){let d;switch(h){case"Browser":d=Nt((0,U.z$)());break;case"Worker":d=`${Nt((0,U.z$)())}-${h}`;break;default:d=h}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${we.SDK_VERSION}/${p}`}class en{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=v=>new Promise((T,R)=>{try{T(c(v))}catch(H){R(H)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,I.Z)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const v of p)try{v()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function kt(){return(kt=(0,I.Z)(function*(h,c={}){return se(h,"GET","/v2/passwordPolicy",B(h,c))})).apply(this,arguments)}class Vh{constructor(c){var d,p,_,v;const T=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=T.minPasswordLength)&&void 0!==d?d:6,T.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=T.maxPasswordLength),void 0!==T.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=T.containsLowercaseCharacter),void 0!==T.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=T.containsUppercaseCharacter),void 0!==T.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=T.containsNumericCharacter),void 0!==T.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=T.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(v=c.forceUpgradeOnSignin)&&void 0!==v&&v,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,v,T,R;const H={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,H),this.validatePasswordCharacterOptions(c,H),H.isValid&&(H.isValid=null===(d=H.meetsMinPasswordLength)||void 0===d||d),H.isValid&&(H.isValid=null===(p=H.meetsMaxPasswordLength)||void 0===p||p),H.isValid&&(H.isValid=null===(_=H.containsLowercaseLetter)||void 0===_||_),H.isValid&&(H.isValid=null===(v=H.containsUppercaseLetter)||void 0===v||v),H.isValid&&(H.isValid=null===(T=H.containsNumericCharacter)||void 0===T||T),H.isValid&&(H.isValid=null===(R=H.containsNonAlphanumericCharacter)||void 0===R||R),H}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,v){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=v))}}class KP{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hI(this),this.idTokenSubscription=new hI(this),this.beforeStateQueue=new en(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=ze(d)),this._initializationPromise=this.queue((0,I.Z)(function*(){var _,v;if(!p._deleted&&(p.persistenceManager=yield gn.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(v=p.currentUser)||void 0===v?void 0:v.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,I.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUserFromIdToken(c){var d=this;return(0,I.Z)(function*(){try{const p=yield Ui(d,{idToken:c}),_=yield Oe._fromGetAccountInfoResponse(d,p,c);yield d.directlySetCurrentUser(_)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),yield d.directlySetCurrentUser(null)}})()}initializeCurrentUser(c){var d=this;return(0,I.Z)(function*(){var p;if((0,we._isFirebaseServerApp)(d.app)){const R=d.app.settings.authIdToken;return R?new Promise(H=>{setTimeout(()=>d.initializeCurrentUserFromIdToken(R).then(H,H))}):d.directlySetCurrentUser(null)}const _=yield d.assertedPersistence.getCurrentUser();let v=_,T=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const R=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,H=v?._redirectEventId,de=yield d.tryRedirectSignIn(c);(!R||R===H)&&de?.user&&(v=de.user,T=!0)}if(!v)return d.directlySetCurrentUser(null);if(!v._redirectEventId){if(T)try{yield d.beforeStateQueue.runMiddleware(v)}catch(R){v=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(R))}return v?d.reloadAndSetCurrentUserOrClear(v):d.directlySetCurrentUser(null)}return te(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===v._redirectEventId?d.directlySetCurrentUser(v):d.reloadAndSetCurrentUserOrClear(v)})()}tryRedirectSignIn(c){var d=this;return(0,I.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,I.Z)(function*(){try{yield Pr(c)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function _a(){if(typeof navigator>"u")return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var c=this;return(0,I.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,I.Z)(function*(){if((0,we._isFirebaseServerApp)(d.app))return Promise.reject(xe(d));const p=c?(0,U.m9)(c):null;return p&&te(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,I.Z)(function*(){if(!p._deleted)return c&&te(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,I.Z)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,I.Z)(function*(){return(0,we._isFirebaseServerApp)(c.app)?Promise.reject(xe(c)):(yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0))})()}setPersistence(c){var d=this;return(0,we._isFirebaseServerApp)(this.app)?Promise.reject(xe(this)):this.queue((0,I.Z)(function*(){yield d.assertedPersistence.setPersistence(ze(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,I.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,I.Z)(function*(){const d=yield function zt(h){return kt.apply(this,arguments)}(c),p=new Vh(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new U.LL("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,I.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function S(h,c){return Q.apply(this,arguments)}(d,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,I.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,I.Z)(function*(){if(!d.redirectPersistenceManager){const p=c&&ze(c)||d._popupRedirectResolver;te(p,d,"argument-error"),d.redirectPersistenceManager=yield gn.create(d,[ze(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,I.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,I.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,I.Z)(function*(){if(c===d.currentUser)return d.queue((0,I.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const v="function"==typeof d?d:d.next.bind(d);let T=!1;const R=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(R,this,"internal-error"),R.then(()=>{T||v(this.currentUser)}),"function"==typeof d){const H=c.addObserver(d,p,_);return()=>{T=!0,H()}}{const H=c.addObserver(d);return()=>{T=!0,H()}}}directlySetCurrentUser(c){var d=this;return(0,I.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=nt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,I.Z)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const v=yield c._getAppCheckToken();return v&&(p["X-Firebase-AppCheck"]=v),p})()}_getAppCheckToken(){var c=this;return(0,I.Z)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function rr(h,...c){nr.logLevel<=gt.in.WARN&&nr.warn(`Auth (${we.SDK_VERSION}): ${h}`,...c)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function It(h){return(0,U.m9)(h)}class hI{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,U.ne)(d=>this.observer=d)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dl={loadJS:()=>(0,I.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pm(h){return dl.loadJS(h)}function gI(h){return`__${h}${Math.floor(1e6*Math.random())}`}class mI{constructor(c){this.type="recaptcha-enterprise",this.auth=It(c)}verify(c="verify",d=!1){var p=this;return(0,I.Z)(function*(){function v(){return v=(0,I.Z)(function*(R){if(!d){if(null==R.tenantId&&null!=R._agentRecaptchaConfig)return R._agentRecaptchaConfig.siteKey;if(null!=R.tenantId&&void 0!==R._tenantRecaptchaConfigs[R.tenantId])return R._tenantRecaptchaConfigs[R.tenantId].siteKey}return new Promise(function(){var H=(0,I.Z)(function*(de,ve){Nu(R,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ee=>{if(void 0!==Ee.recaptchaKey){const Kt=new ya(Ee);return null==R.tenantId?R._agentRecaptchaConfig=Kt:R._tenantRecaptchaConfigs[R.tenantId]=Kt,de(Kt.siteKey)}ve(new Error("recaptcha Enterprise site key undefined"))}).catch(Ee=>{ve(Ee)})});return function(de,ve){return H.apply(this,arguments)}}())}),v.apply(this,arguments)}function T(R,H,de){const ve=window.grecaptcha;ui(ve)?ve.enterprise.ready(()=>{ve.enterprise.execute(R,{action:c}).then(Ee=>{H(Ee)}).catch(()=>{H("NO_RECAPTCHA")})}):de(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((R,H)=>{(function _(R){return v.apply(this,arguments)})(p.auth).then(de=>{if(!d&&ui(window.grecaptcha))T(de,R,H);else{if(typeof window>"u")return void H(new Error("RecaptchaVerifier is only supported in browser"));let ve=function QP(){return dl.recaptchaEnterpriseScript}();0!==ve.length&&(ve+=de),Pm(ve).then(()=>{T(de,R,H)}).catch(Ee=>{H(Ee)})}}).catch(de=>{H(de)})})})()}}function _I(h,c,d){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,I.Z)(function*(h,c,d,p=!1){const _=new mI(h);let v;try{v=yield _.verify(d)}catch{v=yield _.verify(d,!0)}const T=Object.assign({},c);return Object.assign(T,p?{captchaResp:v}:{captchaResponse:v}),Object.assign(T,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(T,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),T})).apply(this,arguments)}function le(h,c,d,p){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,I.Z)(function*(h,c,d,p){var _;if(null!==(_=h._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=yield _I(h,c,d,"getOobCode"===d);return p(h,v)}return p(h,c).catch(function(){var v=(0,I.Z)(function*(T){if("auth/missing-recaptcha-token"===T.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const R=yield _I(h,c,d,"getOobCode"===d);return p(h,R)}return Promise.reject(T)});return function(T){return v.apply(this,arguments)}}())}),Rm.apply(this,arguments)}function Vu(h){const c=h.indexOf(":");return c<0?"":h.substr(0,c+1)}function fl(h){if(!h)return null;const c=Number(h);return isNaN(c)?null:c}class Ca{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return an("not implemented")}_getIdTokenResponse(c){return an("not implemented")}_linkToIdToken(c,d){return an("not implemented")}_getReauthenticationResolver(c){return an("not implemented")}}function st(h,c){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:resetPassword",B(h,c))})).apply(this,arguments)}function gr(){return(gr=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Fm(h,c){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Vm(){return(Vm=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:update",B(h,c))})).apply(this,arguments)}function YP(h,c){return ae.apply(this,arguments)}function ae(){return(ae=(0,I.Z)(function*(h,c){return Xe(h,"POST","/v1/accounts:signInWithPassword",B(h,c))})).apply(this,arguments)}function Ta(h,c){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:sendOobCode",B(h,c))})).apply(this,arguments)}function ju(){return(ju=(0,I.Z)(function*(h,c){return Ta(h,c)})).apply(this,arguments)}function vI(h,c){return $u.apply(this,arguments)}function $u(){return($u=(0,I.Z)(function*(h,c){return Ta(h,c)})).apply(this,arguments)}function JP(h,c){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,I.Z)(function*(h,c){return Ta(h,c)})).apply(this,arguments)}function jm(){return(jm=(0,I.Z)(function*(h,c){return Ta(h,c)})).apply(this,arguments)}function ko(){return(ko=(0,I.Z)(function*(h,c){return Xe(h,"POST","/v1/accounts:signInWithEmailLink",B(h,c))})).apply(this,arguments)}function Da(){return(Da=(0,I.Z)(function*(h,c){return Xe(h,"POST","/v1/accounts:signInWithEmailLink",B(h,c))})).apply(this,arguments)}class Hu extends Ca{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new Hu(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new Hu(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,I.Z)(function*(){switch(d.signInMethod){case"password":return le(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",YP);case"emailLink":return function eM(h,c){return ko.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:wt(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,I.Z)(function*(){switch(p.signInMethod){case"password":return le(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fm);case"emailLink":return function Uh(h,c){return Da.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:wt(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function As(h,c){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,I.Z)(function*(h,c){return Xe(h,"POST","/v1/accounts:signInWithIdp",B(h,c))})).apply(this,arguments)}class Mr extends Ca{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new Mr(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):wt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,v=(0,on._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const T=new Mr(p,_);return T.idToken=v.idToken||void 0,T.accessToken=v.accessToken||void 0,T.secret=v.secret,T.nonce=v.nonce,T.pendingToken=v.pendingToken||null,T}_getIdTokenResponse(c){return As(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,As(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,As(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,U.xO)(d)}return c}}function rs(){return(rs=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:sendVerificationCode",B(h,c))})).apply(this,arguments)}function G(){return(G=(0,I.Z)(function*(h,c){return Xe(h,"POST","/v1/accounts:signInWithPhoneNumber",B(h,c))})).apply(this,arguments)}function fe(){return(fe=(0,I.Z)(function*(h,c){const d=yield Xe(h,"POST","/v1/accounts:signInWithPhoneNumber",B(h,c));if(d.temporaryProof)throw $n(h,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const pl={USER_NOT_FOUND:"user-not-found"};function Fo(){return(Fo=(0,I.Z)(function*(h,c){return Xe(h,"POST","/v1/accounts:signInWithPhoneNumber",B(h,Object.assign(Object.assign({},c),{operation:"REAUTH"})),pl)})).apply(this,arguments)}class Lo extends Ca{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Lo({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Lo({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function wI(h,c){return G.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Hm(h,c){return fe.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function jh(h,c){return Fo.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}=c;return p||d||_||v?new Lo({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}):null}}class li{constructor(c){var d,p,_,v,T,R;const H=(0,U.zd)((0,U.pd)(c)),de=null!==(d=H.apiKey)&&void 0!==d?d:null,ve=null!==(p=H.oobCode)&&void 0!==p?p:null,Ee=function II(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=H.mode)&&void 0!==_?_:null);te(de&&ve&&Ee,"argument-error"),this.apiKey=de,this.operation=Ee,this.code=ve,this.continueUrl=null!==(v=H.continueUrl)&&void 0!==v?v:null,this.languageCode=null!==(T=H.languageCode)&&void 0!==T?T:null,this.tenantId=null!==(R=H.tenantId)&&void 0!==R?R:null}static parseLink(c){const d=function bI(h){const c=(0,U.zd)((0,U.pd)(h)).link,d=c?(0,U.zd)((0,U.pd)(c)).deep_link_id:null,p=(0,U.zd)((0,U.pd)(h)).deep_link_id;return(p?(0,U.zd)((0,U.pd)(p)).link:null)||p||d||c||h}(c);try{return new li(d)}catch{return null}}}let zr=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(d,p){return Hu._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=li.parseLink(p);return te(_,"argument-error"),Hu._fromEmailAndCode(d,_.code,_.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class Gn{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ct extends Gn{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Ss extends ct{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return te("providerId"in d&&"signInMethod"in d,"argument-error"),Mr._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return te(c.idToken||c.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Ss.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Ss.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:v,nonce:T,providerId:R}=c;if(!p&&!_&&!d&&!v||!R)return null;try{return new Ss(R)._credential({idToken:d,accessToken:p,nonce:T,pendingToken:v})}catch{return null}}}let gl=(()=>{class h extends ct{constructor(){super("facebook.com")}static credential(d){return Mr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return h.credential(d.oauthAccessToken)}catch{return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),ml=(()=>{class h extends ct{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return Mr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),Hh=(()=>{class h extends ct{constructor(){super("github.com")}static credential(d){return Mr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return h.credential(d.oauthAccessToken)}catch{return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class is extends Ca{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return As(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,As(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,As(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:v}=d;return p&&_&&v&&p===_?new is(p,v):null}static _create(c,d){return new is(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zu extends Gn{constructor(c){te(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return zu.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return zu.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=is.fromJSON(c);return te(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return is._create(p,d)}catch{return null}}}let _l=(()=>{class h extends ct{constructor(){super("twitter.com")}static credential(d,p){return Mr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function zh(h,c){return yl.apply(this,arguments)}function yl(){return(yl=(0,I.Z)(function*(h,c){return Xe(h,"POST","/v1/accounts:signUp",B(h,c))})).apply(this,arguments)}class mr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,I.Z)(function*(){const v=yield Oe._fromIdTokenResponse(c,p,_),T=qh(p);return new mr({user:v,providerId:T,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,I.Z)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=qh(p);return new mr({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function qh(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function Gh(){return(Gh=(0,I.Z)(function*(h){var c;if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(xe(h));const d=It(h);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new mr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield zh(d,{returnSecureToken:!0}),_=yield mr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class qu extends U.ZR{constructor(c,d,p,_){var v;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,qu.prototype),this.customData={appName:c.name,tenantId:null!==(v=c.tenantId)&&void 0!==v?v:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new qu(c,d,p,_)}}function Gm(h,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(h):d._getIdTokenResponse(h)).catch(v=>{throw"auth/multi-factor-auth-required"===v.code?qu._fromErrorAndOperation(h,v,c,p):v})}function Wm(h){return new Set(h.map(({providerId:c})=>c).filter(c=>!!c))}function Wh(){return Wh=(0,I.Z)(function*(h,c){const d=(0,U.m9)(h);yield El(!0,d,c);const{providerUserInfo:p}=yield function bi(h,c){return Ci.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=Wm(p||[]);return d.providerData=d.providerData.filter(v=>_.has(v.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Wh.apply(this,arguments)}function vl(h,c){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,I.Z)(function*(h,c,d=!1){const p=yield Hr(h,c._linkToIdToken(h.auth,yield h.getIdToken()),d);return mr._forOperation(h,"link",p)})).apply(this,arguments)}function El(h,c,d){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,I.Z)(function*(h,c,d){yield Pr(c);const _=!1===h?"provider-already-linked":"no-such-provider";te(Wm(c.providerData).has(d)===h,c.auth,_)})).apply(this,arguments)}function Km(h,c){return wl.apply(this,arguments)}function wl(){return(wl=(0,I.Z)(function*(h,c,d=!1){const{auth:p}=h;if((0,we._isFirebaseServerApp)(p.app))return Promise.reject(xe(p));const _="reauthenticate";try{const v=yield Hr(h,Gm(p,_,c,h),d);te(v.idToken,p,"internal-error");const T=Oo(v.idToken);te(T,p,"internal-error");const{sub:R}=T;return te(h.uid===R,p,"user-mismatch"),mr._forOperation(h,_,v)}catch(v){throw"auth/user-not-found"===v?.code&&wt(p,"user-mismatch"),v}})).apply(this,arguments)}function Zm(h,c){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,I.Z)(function*(h,c,d=!1){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(xe(h));const p="signIn",_=yield Gm(h,p,c),v=yield mr._fromIdTokenResponse(h,p,_);return d||(yield h._updateCurrentUser(v.user)),v})).apply(this,arguments)}function Il(h,c){return Di.apply(this,arguments)}function Di(){return(Di=(0,I.Z)(function*(h,c){return Zm(It(h),c)})).apply(this,arguments)}function Qm(h,c){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,I.Z)(function*(h,c){const d=(0,U.m9)(h);return yield El(!1,d,c.providerId),vl(d,c)})).apply(this,arguments)}function Ym(h,c){return An.apply(this,arguments)}function An(){return(An=(0,I.Z)(function*(h,c){return Km((0,U.m9)(h),c)})).apply(this,arguments)}function bl(){return(bl=(0,I.Z)(function*(h,c){return Xe(h,"POST","/v1/accounts:signInWithCustomToken",B(h,c))})).apply(this,arguments)}function _r(){return _r=(0,I.Z)(function*(h,c){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(xe(h));const d=It(h),p=yield function CI(h,c){return bl.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield mr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),_r.apply(this,arguments)}class ot{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?kn._fromServerResponse(c,d):"totpInfo"in d?ir._fromServerResponse(c,d):wt(c,"internal-error")}}class kn extends ot{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new kn(d)}}class ir extends ot{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new ir(d)}}function Ms(h,c,d){var p;te((null===(p=d.url)||void 0===p?void 0:p.length)>0,h,"invalid-continue-uri"),te(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(te(d.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(te(d.android.packageName.length>0,h,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function Rr(h){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,I.Z)(function*(h){const c=It(h);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Aa(){return(Aa=(0,I.Z)(function*(h,c,d){const p=It(h),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&Ms(p,_,d),yield le(p,_,"getOobCode",vI)})).apply(this,arguments)}function Jh(){return Jh=(0,I.Z)(function*(h,c,d){yield st((0,U.m9)(h),{oobCode:c,newPassword:d}).catch(function(){var p=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Rr(h),_});return function(_){return p.apply(this,arguments)}}())}),Jh.apply(this,arguments)}function me(){return me=(0,I.Z)(function*(h,c){yield function qt(h,c){return Vm.apply(this,arguments)}((0,U.m9)(h),{oobCode:c})}),me.apply(this,arguments)}function We(h,c){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,I.Z)(function*(h,c){const d=(0,U.m9)(h),p=yield st(d,{oobCode:c}),_=p.requestType;switch(te(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(p.mfaInfo,d,"internal-error");default:te(p.email,d,"internal-error")}let v=null;return p.mfaInfo&&(v=ot._fromServerResponse(It(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:v},operation:_}})).apply(this,arguments)}function Vo(){return(Vo=(0,I.Z)(function*(h,c){const{data:d}=yield We((0,U.m9)(h),c);return d.email})).apply(this,arguments)}function Zs(){return(Zs=(0,I.Z)(function*(h,c,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(xe(h));const p=It(h),T=yield le(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zh).catch(H=>{throw"auth/password-does-not-meet-requirements"===H.code&&Rr(h),H}),R=yield mr._fromIdTokenResponse(p,"signIn",T);return yield p._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ys(){return(Ys=(0,I.Z)(function*(h,c,d){const p=It(h),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function v(T,R){te(R.handleCodeInApp,p,"argument-error"),R&&Ms(p,T,R)})(_,d),yield le(p,_,"getOobCode",JP)})).apply(this,arguments)}function Tl(){return(Tl=(0,I.Z)(function*(h,c,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(xe(h));const p=(0,U.m9)(h),_=zr.credentialWithLink(c,d||ai());return te(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Il(p,_)})).apply(this,arguments)}function un(){return(un=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:createAuthUri",B(h,c))})).apply(this,arguments)}function Js(){return Js=(0,I.Z)(function*(h,c){const p={identifier:c,continueUri:Ii()?ai():"http://localhost"},{signinMethods:_}=yield function Sa(h,c){return un.apply(this,arguments)}((0,U.m9)(h),p);return _||[]}),Js.apply(this,arguments)}function Uo(){return Uo=(0,I.Z)(function*(h,c){const d=(0,U.m9)(h),_={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};c&&Ms(d.auth,_,c);const{email:v}=yield function Um(h,c){return ju.apply(this,arguments)}(d.auth,_);v!==h.email&&(yield h.reload())}),Uo.apply(this,arguments)}function os(){return os=(0,I.Z)(function*(h,c,d){const p=(0,U.m9)(h),v={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:c};d&&Ms(p.auth,v,d);const{email:T}=yield function XP(h,c){return jm.apply(this,arguments)}(p.auth,v);T!==h.email&&(yield h.reload())}),os.apply(this,arguments)}function Bo(){return(Bo=(0,I.Z)(function*(h,c){return se(h,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function rt(){return rt=(0,I.Z)(function*(h,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,U.m9)(h),v={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},T=yield Hr(p,function Rs(h,c){return Bo.apply(this,arguments)}(p.auth,v));p.displayName=T.displayName||null,p.photoURL=T.photoUrl||null;const R=p.providerData.find(({providerId:H})=>"password"===H);R&&(R.displayName=p.displayName,R.photoURL=p.photoURL),yield p._updateTokensIfNecessary(T)}),rt.apply(this,arguments)}function ef(h,c,d){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,I.Z)(function*(h,c,d){const{auth:p}=h,v={idToken:yield h.getIdToken(),returnSecureToken:!0};c&&(v.email=c),d&&(v.password=d);const T=yield Hr(h,function km(h,c){return gr.apply(this,arguments)}(p,v));yield h._updateTokensIfNecessary(T,!0)}),Ai.apply(this,arguments)}class $i{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class Pa extends $i{constructor(c,d,p,_){super(c,d,p),this.username=_}}class sr extends $i{constructor(c,d){super(c,"facebook.com",d)}}class nM extends Pa{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class qr extends $i{constructor(c,d){super(c,"google.com",d)}}class Or extends Pa{constructor(c,d,p){super(c,"twitter.com",d,p)}}function tf(h){const{user:c,_tokenResponse:d}=h;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function Dl(h){var c,d;if(!h)return null;const{providerId:p}=h,_=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},v=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!p&&h?.idToken){const T=null===(d=null===(c=Oo(h.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(T)return new $i(v,"anonymous"!==T&&"custom"!==T?T:null)}if(!p)return null;switch(p){case"facebook.com":return new sr(v,_);case"github.com":return new nM(v,_);case"google.com":return new qr(v,_);case"twitter.com":return new Or(v,_,h.screenName||null);case"custom":case"anonymous":return new $i(v,null);default:return new $i(v,p,_)}}(d)}class Ra{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new Ra("enroll",c,d)}static _fromMfaPendingCredential(c){return new Ra("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ra._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return Ra._fromIdtoken(c.multiFactorSession.idToken)}return null}}class t_{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=It(c),_=d.customData._serverResponse,v=(_.mfaInfo||[]).map(R=>ot._fromServerResponse(p,R));te(_.mfaPendingCredential,p,"internal-error");const T=Ra._fromMfaPendingCredential(_.mfaPendingCredential);return new t_(T,v,function(){var R=(0,I.Z)(function*(H){const de=yield H._process(p,T);delete _.mfaInfo,delete _.mfaPendingCredential;const ve=Object.assign(Object.assign({},_),{idToken:de.idToken,refreshToken:de.refreshToken});switch(d.operationType){case"signIn":const Ee=yield mr._fromIdTokenResponse(p,d.operationType,ve);return yield p._updateCurrentUser(Ee.user),Ee;case"reauthenticate":return te(d.user,p,"internal-error"),mr._forOperation(d.user,d.operationType,ve);default:wt(p,"internal-error")}});return function(H){return R.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,I.Z)(function*(){return d.signInResolver(c)})()}}class Al{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>ot._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new Al(c)}getSession(){var c=this;return(0,I.Z)(function*(){return Ra._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,I.Z)(function*(){const _=c,v=yield p.getSession(),T=yield Hr(p.user,_._process(p.user.auth,v,d));return yield p.user._updateTokensIfNecessary(T),p.user.reload()})()}unenroll(c){var d=this;return(0,I.Z)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const v=yield Hr(d.user,function cM(h,c){return se(h,"POST","/v2/accounts/mfaEnrollment:withdraw",B(h,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:T})=>T!==p),yield d.user._updateTokensIfNecessary(v),yield d.user.reload()}catch(v){throw v}})()}}const Sl=new WeakMap,rf="__sak";class SI{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sn=(()=>{class h extends SI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jo(){const h=(0,U.z$)();return Lu(h)||k(h)}()&&function Ge(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),v=this.localCache[p];_!==v&&d(p,v,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((R,H,de)=>{this.notifyListeners(R,de)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const R=this.storage.getItem(_);if(d.newValue!==R)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const v=()=>{const R=this.storage.getItem(_);!p&&this.localCache[_]===R||this.notifyListeners(_,R)},T=this.storage.getItem(_);!function Y(){return(0,U.w1)()&&10===document.documentMode}()||T===d.newValue||d.newValue===d.oldValue?v():setTimeout(v,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,v=this;return(0,I.Z)(function*(){yield _().call(v,d,p),v.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,I.Z)(function*(){const v=yield p().call(_,d);return _.localCache[d]=JSON.stringify(v),v})()}_remove(d){var p=()=>super._remove,_=this;return(0,I.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return h.type="LOCAL",h})(),Fn=(()=>{class h extends SI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return h.type="SESSION",h})();let r_=(()=>{class h{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(v=>v.isListeningto(d));if(p)return p;const _=new h(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,I.Z)(function*(){const _=d,{eventId:v,eventType:T,data:R}=_.data,H=p.handlersMap[T];if(!H?.size)return;_.ports[0].postMessage({status:"ack",eventId:v,eventType:T});const de=Array.from(H).map(function(){var Ee=(0,I.Z)(function*(Kt){return Kt(_.origin,R)});return function(Kt){return Ee.apply(this,arguments)}}()),ve=yield function n_(h){return Promise.all(h.map(function(){var c=(0,I.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(de);_.ports[0].postMessage({status:"done",eventId:v,eventType:T,response:ve})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function Oa(h="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return h+d}class i_{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,I.Z)(function*(){const v=typeof MessageChannel<"u"?new MessageChannel:null;if(!v)throw new Error("connection_unavailable");let T,R;return new Promise((H,de)=>{const ve=Oa("",20);v.port1.start();const Ee=setTimeout(()=>{de(new Error("unsupported_event"))},p);R={messageChannel:v,onMessage(Kt){const Ri=Kt;if(Ri.data.eventId===ve)switch(Ri.data.status){case"ack":clearTimeout(Ee),T=setTimeout(()=>{de(new Error("timeout"))},3e3);break;case"done":clearTimeout(T),H(Ri.data.response);break;default:clearTimeout(Ee),clearTimeout(T),de(new Error("invalid_response"))}}},_.handlers.add(R),v.port1.addEventListener("message",R.onMessage),_.target.postMessage({eventType:c,eventId:ve,data:d},[v.port2])}).finally(()=>{R&&_.removeMessageHandler(R)})})()}}function _n(){return window}function Qu(){return typeof _n().WorkerGlobalScope<"u"&&"function"==typeof _n().importScripts}function Pl(){return(Pl=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Yu="firebaseLocalStorageDb",Os="firebaseLocalStorage",uf="fbase_key";class Ml{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function cf(h,c){return h.transaction([Os],c?"readwrite":"readonly").objectStore(Os)}function lf(){const h=indexedDB.open(Yu,1);return new Promise((c,d)=>{h.addEventListener("error",()=>{d(h.error)}),h.addEventListener("upgradeneeded",()=>{const p=h.result;try{p.createObjectStore(Os,{keyPath:uf})}catch(_){d(_)}}),h.addEventListener("success",(0,I.Z)(function*(){const p=h.result;p.objectStoreNames.contains(Os)?c(p):(p.close(),yield function hM(){const h=indexedDB.deleteDatabase(Yu);return new Ml(h).toPromise()}(),c(yield lf()))}))})}function u_(h,c,d){return c_.apply(this,arguments)}function c_(){return(c_=(0,I.Z)(function*(h,c,d){const p=cf(h,!0).put({[uf]:c,value:d});return new Ml(p).toPromise()})).apply(this,arguments)}function Xu(){return(Xu=(0,I.Z)(function*(h,c){const d=cf(h,!1).get(c),p=yield new Ml(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function d_(h,c){const d=cf(h,!0).delete(c);return new Ml(d).toPromise()}const xa=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,I.Z)(function*(){return d.db||(d.db=yield lf()),d.db})()}_withRetries(d){var p=this;return(0,I.Z)(function*(){let _=0;for(;;)try{const v=yield p._openDb();return yield d(v)}catch(v){if(_++>3)throw v;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,I.Z)(function*(){return Qu()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,I.Z)(function*(){d.receiver=r_._getInstance(function a_(){return Qu()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,I.Z)(function*(_,v){return{keyProcessed:(yield d._poll()).includes(v.key)}});return function(_,v){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,I.Z)(function*(_,v){return["keyChanged"]});return function(_,v){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,I.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function af(){return Pl.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new i_(d.activeServiceWorker);const v=yield d.sender._send("ping",{},800);v&&null!==(p=v[0])&&void 0!==p&&p.fulfilled&&null!==(_=v[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,I.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function o_(){var h;return(null===(h=navigator?.serviceWorker)||void 0===h?void 0:h.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const d=yield lf();return yield u_(d,rf,"1"),yield d_(d,rf),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,I.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,I.Z)(function*(){return _._withPendingWrite((0,I.Z)(function*(){return yield _._withRetries(v=>u_(v,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,I.Z)(function*(){const _=yield p._withRetries(v=>function l_(h,c){return Xu.apply(this,arguments)}(v,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,I.Z)(function*(){return p._withPendingWrite((0,I.Z)(function*(){return yield p._withRetries(_=>d_(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,I.Z)(function*(){const p=yield d._withRetries(T=>{const R=cf(T,!1).getAll();return new Ml(R).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],v=new Set;if(0!==p.length)for(const{fbase_key:T,value:R}of p)v.add(T),JSON.stringify(d.localCache[T])!==JSON.stringify(R)&&(d.notifyListeners(T,R),_.push(T));for(const T of Object.keys(d.localCache))d.localCache[T]&&!v.has(T)&&(d.notifyListeners(T,null),_.push(T));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})(),ec=1e12;class OI{constructor(c){this.auth=c,this.counter=ec,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new p_(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||ec;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||ec))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,I.Z)(function*(){var p;return null===(p=d._widgets.get(c||ec))||void 0===p||p.execute(),""})()}}class p_{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;te(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xI(h){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<h;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const g_=gI("rcb"),NI=new F(3e4,6e4);class Gr{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=_n().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return te(function m_(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&$r(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((p,_)=>{const v=_n().setTimeout(()=>{_(Rt(c,"network-request-failed"))},NI.get());_n()[g_]=()=>{_n().clearTimeout(v),delete _n()[g_];const R=_n().grecaptcha;if(!R||!$r(R))return void _(Rt(c,"internal-error"));const H=R.render;R.render=(de,ve)=>{const Ee=H(de,ve);return this.counter++,Ee},this.hostLanguage=d,p(R)},Pm(`${function fI(){return dl.recaptchaV2Script}()}?${(0,U.xO)({onload:g_,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(v),_(Rt(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=_n().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kI{load(c){return(0,I.Z)(function*(){return new OI(c)})()}clearedOneInstance(){}}const __="recaptcha",y_={theme:"light",type:"image"};class v_{constructor(c,d,p=Object.assign({},y_)){this.parameters=p,this.type=__,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=It(c),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;te(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kI:new Gr,this.validateStartingState()}verify(){var c=this;return(0,I.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(v=>{const T=R=>{R&&(c.tokenChangeListeners.delete(T),v(R))};c.tokenChangeListeners.add(T),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=_n()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,I.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,I.Z)(function*(){te(Ii()&&!Qu(),c.auth,"internal-error"),yield function FI(){let h=null;return new Promise(c=>{"complete"!==document.readyState?(h=()=>c(),window.addEventListener("load",h)):c()}).catch(c=>{throw h&&window.removeEventListener("load",h),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function Po(h){return bn.apply(this,arguments)}(c.auth);te(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class tc{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Lo._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function Si(){return(Si=(0,I.Z)(function*(h,c,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(xe(h));const p=It(h),_=yield $o(p,c,(0,U.m9)(d));return new tc(_,v=>Il(p,v))})).apply(this,arguments)}function Rl(){return(Rl=(0,I.Z)(function*(h,c,d){const p=(0,U.m9)(h);yield El(!1,p,"phone");const _=yield $o(p.auth,c,(0,U.m9)(d));return new tc(_,v=>Qm(p,v))})).apply(this,arguments)}function nc(){return(nc=(0,I.Z)(function*(h,c,d){const p=(0,U.m9)(h);if((0,we._isFirebaseServerApp)(p.auth.app))return Promise.reject(xe(p.auth));const _=yield $o(p.auth,c,(0,U.m9)(d));return new tc(_,v=>Ym(p,v))})).apply(this,arguments)}function $o(h,c,d){return vr.apply(this,arguments)}function vr(){return vr=(0,I.Z)(function*(h,c,d){var p;const _=yield d.verify();try{let v;if(te("string"==typeof _,h,"argument-error"),te(d.type===__,h,"argument-error"),v="string"==typeof c?{phoneNumber:c}:c,"session"in v){const T=v.session;if("phoneNumber"in v)return te("enroll"===T.type,h,"internal-error"),(yield function oM(h,c){return se(h,"POST","/v2/accounts/mfaEnrollment:start",B(h,c))}(h,{idToken:T.credential,phoneEnrollmentInfo:{phoneNumber:v.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{te("signin"===T.type,h,"internal-error");const R=(null===(p=v.multiFactorHint)||void 0===p?void 0:p.uid)||v.multiFactorUid;return te(R,h,"missing-multi-factor-info"),(yield function h_(h,c){return se(h,"POST","/v2/accounts/mfaSignIn:start",B(h,c))}(h,{mfaPendingCredential:T.credential,mfaEnrollmentId:R,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:T}=yield function EI(h,c){return rs.apply(this,arguments)}(h,{phoneNumber:v.phoneNumber,recaptchaToken:_});return T}}finally{d._reset()}}),vr.apply(this,arguments)}function Ol(){return(Ol=(0,I.Z)(function*(h,c){const d=(0,U.m9)(h);if((0,we._isFirebaseServerApp)(d.auth.app))return Promise.reject(xe(d.auth));yield vl(d,c)})).apply(this,arguments)}let us=(()=>{class h{constructor(d){this.providerId=h.PROVIDER_ID,this.auth=It(d)}verifyPhoneNumber(d,p){return $o(this.auth,d,(0,U.m9)(p))}static credential(d,p){return Lo._fromVerification(d,p)}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Lo._fromTokenResponse(p,_):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function Ln(h,c){return c?ze(c):(te(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class hf extends Ca{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return As(c,this._buildIdpRequest())}_linkToIdToken(c,d){return As(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return As(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function UI(h){return Zm(h.auth,new hf(h),h.bypassAuthState)}function BI(h){const{auth:c,user:d}=h;return te(d,c,"internal-error"),Km(d,new hf(h),h.bypassAuthState)}function eo(h){return xl.apply(this,arguments)}function xl(){return(xl=(0,I.Z)(function*(h){const{auth:c,user:d}=h;return te(d,c,"internal-error"),vl(d,new hf(h),h.bypassAuthState)})).apply(this,arguments)}class w_{constructor(c,d,p,_,v=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=v,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,I.Z)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(v){c.reject(v)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,I.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:v,tenantId:T,error:R,type:H}=c;if(R)return void d.reject(R);const de={auth:d.auth,requestUri:p,sessionId:_,tenantId:T||void 0,postBody:v||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(H)(de))}catch(ve){d.reject(ve)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return UI;case"linkViaPopup":case"linkViaRedirect":return eo;case"reauthViaPopup":case"reauthViaRedirect":return BI;default:wt(this.auth,"internal-error")}}resolve(c){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I_=new F(2e3,1e4);function Nl(){return(Nl=(0,I.Z)(function*(h,c,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Rt(h,"operation-not-supported-in-this-environment"));const p=It(h);In(h,c,Gn);const _=Ln(p,d);return new ff(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function Le(){return(Le=(0,I.Z)(function*(h,c,d){const p=(0,U.m9)(h);if((0,we._isFirebaseServerApp)(p.auth.app))return Promise.reject(Rt(p.auth,"operation-not-supported-in-this-environment"));In(p.auth,c,Gn);const _=Ln(p.auth,d);return new ff(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function T_(){return(T_=(0,I.Z)(function*(h,c,d){const p=(0,U.m9)(h);In(p.auth,c,Gn);const _=Ln(p.auth,d);return new ff(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let ff=(()=>{class h extends w_{constructor(d,p,_,v,T){super(d,p,v,T),this.provider=_,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var d=this;return(0,I.Z)(function*(){const p=yield d.execute();return te(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,I.Z)(function*(){Qt(1===d.filter.length,"Popup operations only handle one event");const p=Oa();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Rt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Rt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,I_.get())};d()}}return h.currentPopupAction=null,h})();const $I="pendingRedirect",rc=new Map;class D_ extends w_{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,I.Z)(function*(){let p=rc.get(d.auth._key());if(!p){try{const v=(yield function Na(h,c){return pf.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(v)}catch(_){p=()=>Promise.reject(_)}rc.set(d.auth._key(),p)}return d.bypassAuthState||rc.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,I.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function pf(){return(pf=(0,I.Z)(function*(h,c){const d=dt(c),p=X(h);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function gf(h,c){return mf.apply(this,arguments)}function mf(){return(mf=(0,I.Z)(function*(h,c){return X(h)._set(dt(c),"true")})).apply(this,arguments)}function _f(h,c){rc.set(h._key(),c)}function X(h){return ze(h._redirectPersistence)}function dt(h){return ye($I,h.config.apiKey,h.name)}function Wn(h,c,d){return function Kn(h,c,d){return Vn.apply(this,arguments)}(h,c,d)}function Vn(){return(Vn=(0,I.Z)(function*(h,c,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(xe(h));const p=It(h);In(h,c,Gn),yield p._initializationPromise;const _=Ln(p,d);return yield gf(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function A_(h,c,d){return function ic(h,c,d){return Pi.apply(this,arguments)}(h,c,d)}function Pi(){return(Pi=(0,I.Z)(function*(h,c,d){const p=(0,U.m9)(h);if(In(p.auth,c,Gn),(0,we._isFirebaseServerApp)(p.auth.app))return Promise.reject(xe(p.auth));yield p.auth._initializationPromise;const _=Ln(p.auth,d);yield gf(_,p.auth);const v=yield wf(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",v)})).apply(this,arguments)}function yf(h,c,d){return function vf(h,c,d){return Ef.apply(this,arguments)}(h,c,d)}function Ef(){return(Ef=(0,I.Z)(function*(h,c,d){const p=(0,U.m9)(h);In(p.auth,c,Gn),yield p.auth._initializationPromise;const _=Ln(p.auth,d);yield El(!1,p,c.providerId),yield gf(_,p.auth);const v=yield wf(p);return _._openRedirect(p.auth,c,"linkViaRedirect",v)})).apply(this,arguments)}function kl(){return(kl=(0,I.Z)(function*(h,c){return yield It(h)._initializationPromise,Zn(h,c,!1)})).apply(this,arguments)}function Zn(h,c){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,I.Z)(function*(h,c,d=!1){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(xe(h));const p=It(h),_=Ln(p,c),T=yield new D_(p,_,d).execute();return T&&!d&&(delete T.user._redirectEventId,yield p._persistUserIfCurrent(T.user),yield p._setRedirectUser(null,c)),T})).apply(this,arguments)}function wf(h){return to.apply(this,arguments)}function to(){return(to=(0,I.Z)(function*(h){const c=Oa(`${h.uid}:::`);return h._redirectEventId=c,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),c})).apply(this,arguments)}class S_{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function zI(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P_(h);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!P_(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Rt(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(If(c))}saveEventToCache(c){this.cachedEventUids.add(If(c)),this.lastProcessedEventTime=Date.now()}}function If(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(c=>c).join("-")}function P_({type:h,error:c}){return"unknown"===h&&"auth/no-auth-event"===c?.code}function Fl(h){return sc.apply(this,arguments)}function sc(){return(sc=(0,I.Z)(function*(h,c={}){return se(h,"GET","/v1/projects",c)})).apply(this,arguments)}const M_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bf=/^https?/;function Ll(){return(Ll=(0,I.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:c}=yield Fl(h);for(const d of c)try{if(Cf(d))return}catch{}wt(h,"unauthorized-domain")})).apply(this,arguments)}function Cf(h){const c=ai(),{protocol:d,hostname:p}=new URL(c);if(h.startsWith("chrome-extension://")){const T=new URL(h);return""===T.hostname&&""===p?"chrome-extension:"===d&&h.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&T.hostname===p}if(!bf.test(d))return!1;if(M_.test(h))return p===h;const _=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const R_=new F(3e4,6e4);function Tf(){const h=_n().___jsl;if(h?.H)for(const c of Object.keys(h.H))if(h.H[c].r=h.H[c].r||[],h.H[c].L=h.H[c].L||[],h.H[c].r=[...h.H[c].L],h.CP)for(let d=0;d<h.CP.length;d++)h.CP[d]=null}let oc=null;const GI=new F(5e3,15e3),WI="__/auth/iframe",xr="emulator/auth/iframe",Ho={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KI(h){const c=h.config;te(c.authDomain,h,"auth-domain-config-required");const d=c.emulator?V(c,xr):`https://${h.config.authDomain}/${WI}`,p={apiKey:c.apiKey,appName:h.name,v:we.SDK_VERSION},_=cn.get(h.config.apiHost);_&&(p.eid=_);const v=h._getFrameworks();return v.length&&(p.fw=v.join(",")),`${d}?${(0,U.xO)(p).slice(1)}`}function Af(){return Af=(0,I.Z)(function*(h){const c=yield function Df(h){return oc=oc||function O_(h){return new Promise((c,d)=>{var p,_,v;function T(){Tf(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Tf(),d(Rt(h,"network-request-failed"))},timeout:R_.get()})}if(null!==(_=null===(p=_n().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(v=_n().gapi)||void 0===v||!v.load){const R=gI("iframefcb");return _n()[R]=()=>{gapi.load?T():d(Rt(h,"network-request-failed"))},Pm(`${function pI(){return dl.gapiScript}()}?onload=${R}`).catch(H=>d(H))}T()}}).catch(c=>{throw oc=null,c})}(h),oc}(h),d=_n().gapi;return te(d,h,"internal-error"),c.open({where:document.body,url:KI(h),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ho,dontclear:!0},p=>new Promise(function(){var _=(0,I.Z)(function*(v,T){yield p.restyle({setHideOnLeave:!1});const R=Rt(h,"network-request-failed"),H=_n().setTimeout(()=>{T(R)},GI.get());function de(){_n().clearTimeout(H),v(p)}p.ping(de).then(de,()=>{T(R)})});return function(v,T){return _.apply(this,arguments)}}()))}),Af.apply(this,arguments)}const QI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class k_{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jl="__/auth/handler",Sf="emulator/auth/handler",F_=encodeURIComponent("fac");function $l(h,c,d,p,_,v){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,I.Z)(function*(h,c,d,p,_,v){te(h.config.authDomain,h,"auth-domain-config-required"),te(h.config.apiKey,h,"invalid-api-key");const T={apiKey:h.config.apiKey,appName:h.name,authType:d,redirectUrl:p,v:we.SDK_VERSION,eventId:_};if(c instanceof Gn){c.setDefaultLanguage(h.languageCode),T.providerId=c.providerId||"",(0,U.xb)(c.getCustomParameters())||(T.customParameters=JSON.stringify(c.getCustomParameters()));for(const[ve,Ee]of Object.entries(v||{}))T[ve]=Ee}if(c instanceof ct){const ve=c.getScopes().filter(Ee=>""!==Ee);ve.length>0&&(T.scopes=ve.join(","))}h.tenantId&&(T.tid=h.tenantId);const R=T;for(const ve of Object.keys(R))void 0===R[ve]&&delete R[ve];const H=yield h._getAppCheckToken(),de=H?`#${F_}=${encodeURIComponent(H)}`:"";return`${function ka({config:h}){return h.emulator?V(h,Sf):`https://${h.authDomain}/${jl}`}(h)}?${(0,U.xO)(R).slice(1)}${de}`})).apply(this,arguments)}const zo="webStorageSupport",JI=class YI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fn,this._completeRedirectFn=Zn,this._overrideRedirectResult=_f}_openPopup(c,d,p,_){var v=this;return(0,I.Z)(function*(){var T;Qt(null===(T=v.eventManagers[c._key()])||void 0===T?void 0:T.manager,"_initialize() not called before _openPopup()");const R=yield $l(c,d,p,ai(),_);return function Ul(h,c,d,p=500,_=600){const v=Math.max((window.screen.availHeight-_)/2,0).toString(),T=Math.max((window.screen.availWidth-p)/2,0).toString();let R="";const H=Object.assign(Object.assign({},QI),{width:p.toString(),height:_.toString(),top:v,left:T}),de=(0,U.z$)().toLowerCase();d&&(R=Tt(de)?"_blank":d),Ks(de)&&(c=c||"http://localhost",H.scrollbars="yes");const ve=Object.entries(H).reduce((Kt,[Ri,Ql])=>`${Kt}${Ri}=${Ql},`,"");if(function q(h=(0,U.z$)()){var c;return k(h)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(de)&&"_self"!==R)return function Bl(h,c){const d=document.createElement("a");d.href=h,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",R),new k_(null);const Ee=window.open(c||"",R,ve);te(Ee,h,"popup-blocked");try{Ee.focus()}catch{}return new k_(Ee)}(c,R,Oa())})()}_openRedirect(c,d,p,_){var v=this;return(0,I.Z)(function*(){return yield v._originValidation(c),function s_(h){_n().location.href=h}(yield $l(c,d,p,ai(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:v}=this.eventManagers[d];return _?Promise.resolve(_):(Qt(v,"If manager is not set, promise should be"),v)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,I.Z)(function*(){const p=yield function ZI(h){return Af.apply(this,arguments)}(c),_=new S_(c);return p.register("authEvent",v=>(te(v?.authEvent,c,"invalid-auth-event"),{status:_.onEvent(v.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(zo,{type:zo},_=>{var v;const T=null===(v=_?.[0])||void 0===v?void 0:v[zo];void 0!==T&&d(!!T),wt(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function qI(h){return Ll.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return ge()||Lu()||k()}};class Mf{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return an("unexpected MultiFactorSessionType")}}}class L_ extends Mf{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new L_(c)}_finalizeEnroll(c,d,p){return function aM(h,c){return se(h,"POST","/v2/accounts/mfaEnrollment:finalize",B(h,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function f_(h,c){return se(h,"POST","/v2/accounts/mfaSignIn:finalize",B(h,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let XI=(()=>{class h{constructor(){}static assertion(d){return L_._fromCredential(d)}}return h.FACTOR_ID="phone",h})();var La="@firebase/auth";class ac{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,I.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cs(){return window}(0,U.Pz)("authIdTokenMaxAge"),function ZP(h){dl=h}({loadJS:h=>new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",h),p.onload=c,p.onerror=_=>{const v=Rt("internal-error");v.customData=_,d(v)},p.type="text/javascript",p.charset="UTF-8",function nb(){var h,c;return null!==(c=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==c?c:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Hl(h){(0,we._registerComponent)(new pn.wA("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),v=c.getProvider("app-check-internal"),{apiKey:T,authDomain:R}=p.options;te(T&&!T.includes(":"),"invalid-api-key",{appName:p.name});const H={apiKey:T,authDomain:R,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nt(h)},de=new KP(p,_,v,H);return function Om(h,c){const d=c?.persistence||[],p=(Array.isArray(d)?d:[d]).map(ze);c?.errorMap&&h._updateErrorMap(c.errorMap),h._initializeWithPersistence(p,c?.popupRedirectResolver)}(de,d),de},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,we._registerComponent)(new pn.wA("auth-internal",c=>{const d=It(c.getProvider("auth").getImmediate());return new ac(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)(La,"1.7.1",function Rf(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(h)),(0,we.registerVersion)(La,"1.7.1","esm2017")}("Browser");function Va(){return Va=(0,I.Z)(function*(h,c,d){var p;const{BuildInfo:_}=cs();Qt(c.sessionId,"AuthEvent did not contain a session ID");const v=yield function rb(h){return Ua.apply(this,arguments)}(c.sessionId),T={};return k()?T.ibi=_.packageName:Ds()?T.apn=_.packageName:wt(h,"operation-not-supported-in-this-environment"),_.displayName&&(T.appDisplayName=_.displayName),T.sessionId=v,$l(h,d,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,T)}),Va.apply(this,arguments)}function kf(){return(kf=(0,I.Z)(function*(h){const{BuildInfo:c}=cs(),d={};k()?d.iosBundleId=c.packageName:Ds()?d.androidPackageName=c.packageName:wt(h,"operation-not-supported-in-this-environment"),yield Fl(h,d)})).apply(this,arguments)}function zl(){return(zl=(0,I.Z)(function*(h,c,d){const{cordova:p}=cs();let _=()=>{};try{yield new Promise((v,T)=>{let R=null;function H(){var Ee;v();const Kt=null===(Ee=p.plugins.browsertab)||void 0===Ee?void 0:Ee.close;"function"==typeof Kt&&Kt(),"function"==typeof d?.close&&d.close()}function de(){R||(R=window.setTimeout(()=>{T(Rt(h,"redirect-cancelled-by-user"))},2e3))}function ve(){"visible"===document?.visibilityState&&de()}c.addPassiveListener(H),document.addEventListener("resume",de,!1),Ds()&&document.addEventListener("visibilitychange",ve,!1),_=()=>{c.removePassiveListener(H),document.removeEventListener("resume",de,!1),document.removeEventListener("visibilitychange",ve,!1),R&&window.clearTimeout(R)}})}finally{_()}})).apply(this,arguments)}function Ua(){return(Ua=(0,I.Z)(function*(h){const c=function qo(h){if(Qt(/[0-9a-zA-Z]+/.test(h),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(h);const c=new ArrayBuffer(h.length),d=new Uint8Array(c);for(let p=0;p<h.length;p++)d[p]=h.charCodeAt(p);return d}(h),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class q_ extends S_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,I.Z)(function*(){yield c.initPromise})()}}function W_(h){return or.apply(this,arguments)}function or(){return(or=(0,I.Z)(function*(h){const c=yield cc()._get(Ff(h));return c&&(yield cc()._remove(Ff(h))),c})).apply(this,arguments)}function ar(){const h=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return h.join("")}function cc(){return ze(Sn)}function Ff(h){return ye("authEvent",h.config.apiKey,h.name)}function ks(h){if(!h?.includes("?"))return{};const[c,...d]=h.split("?");return(0,U.zd)(d.join("?"))}const Z_=class ja{constructor(){this._redirectPersistence=Fn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zn,this._overrideRedirectResult=_f}_initialize(c){var d=this;return(0,I.Z)(function*(){const p=c._key();let _=d.eventManagers.get(p);return _||(_=new q_(c),d.eventManagers.set(p,_),d.attachCallbackListeners(c,_)),_})()}_openPopup(c){wt(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,p,_){var v=this;return(0,I.Z)(function*(){!function z_(h){var c,d,p,_,v,T,R,H,de,ve;const Ee=cs();te("function"==typeof(null===(c=Ee?.universalLinks)||void 0===c?void 0:c.subscribe),h,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(typeof(null===(d=Ee?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(v=null===(_=null===(p=Ee?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===v?void 0:v.openUrl),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(H=null===(R=null===(T=Ee?.cordova)||void 0===T?void 0:T.plugins)||void 0===R?void 0:R.browsertab)||void 0===H?void 0:H.isAvailable),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(ve=null===(de=Ee?.cordova)||void 0===de?void 0:de.InAppBrowser)||void 0===ve?void 0:ve.open),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const T=yield v._initialize(c);yield T.initialized(),T.resetRedirect(),function HI(){rc.clear()}(),yield v._originValidation(c);const R=function G_(h,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:ar(),postBody:null,tenantId:h.tenantId,error:Rt(h,"no-auth-event")}}(c,p,_);yield function uc(h,c){return cc()._set(Ff(h),c)}(c,R);const H=yield function j_(h,c,d){return Va.apply(this,arguments)}(c,R,d),de=yield function $_(h){const{cordova:c}=cs();return new Promise(d=>{c.plugins.browsertab.isAvailable(p=>{let _=null;p?c.plugins.browsertab.openUrl(h):_=c.InAppBrowser.open(h,function w(h=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}()?"_blank":"_system","location=yes"),d(_)})})}(H);return function H_(h,c,d){return zl.apply(this,arguments)}(c,T,de)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Nf(h){return kf.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:v}=cs(),T=setTimeout((0,I.Z)(function*(){yield W_(c),d.onEvent(Gl())}),500),R=function(){var ve=(0,I.Z)(function*(Ee){clearTimeout(T);const Kt=yield W_(c);let Ri=null;Kt&&Ee?.url&&(Ri=function sb(h,c){var d,p;const _=function ql(h){const c=ks(h),d=c.link?decodeURIComponent(c.link):void 0,p=ks(d).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return ks(_).link||_||p||d||h}(c);if(_.includes("/__/auth/callback")){const v=ks(_),T=v.firebaseError?function K_(h){try{return JSON.parse(h)}catch{return null}}(decodeURIComponent(v.firebaseError)):null,R=null===(p=null===(d=T?.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],H=R?Rt(R):null;return H?{type:h.type,eventId:h.eventId,tenantId:h.tenantId,error:H,urlResponse:null,sessionId:null,postBody:null}:{type:h.type,eventId:h.eventId,tenantId:h.tenantId,sessionId:h.sessionId,urlResponse:_,postBody:null}}return null}(Kt,Ee.url)),d.onEvent(Ri||Gl())});return function(Kt){return ve.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,R);const H=_,de=`${v.packageName.toLowerCase()}://`;cs().handleOpenURL=function(){var ve=(0,I.Z)(function*(Ee){if(Ee.toLowerCase().startsWith(de)&&R({url:Ee}),"function"==typeof H)try{H(Ee)}catch(Kt){console.error(Kt)}});return function(Ee){return ve.apply(this,arguments)}}()}};function Gl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rt("no-auth-event")}}function Wl(){var h;return(null===(h=self?.location)||void 0===h?void 0:h.protocol)||null}function ab(h=(0,U.z$)()){return!("file:"!==Wl()&&"ionic:"!==Wl()&&"capacitor:"!==Wl()||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function Q_(){try{const h=self.localStorage,c=Oa();if(h)return h.setItem(c,"1"),h.removeItem(c),!function ub(h=(0,U.z$)()){return function wM(){return(0,U.w1)()&&11===document?.documentMode}()||function Ha(h=(0,U.z$)()){return/Edge\/\d+/.test(h)}(h)}()||(0,U.hl)()}catch{return Tn()&&(0,U.hl)()}return!1}function Tn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lf(){return(function vM(){return"http:"===Wl()||"https:"===Wl()}()||(0,U.ru)()||ab())&&!function EM(){return(0,U.b$)()||(0,U.UG)()}()&&Q_()&&!Tn()}function za(){return ab()&&typeof document<"u"}function Wr(){return(Wr=(0,I.Z)(function*(){return!!za()&&new Promise(h=>{const c=setTimeout(()=>{h(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),h(!0)})})})).apply(this,arguments)}const Kr={LOCAL:"local",NONE:"none",SESSION:"session"},ro=te,Ga="persistence";function Y_(h){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,I.Z)(function*(h){yield h._initializationPromise;const c=Zr(),d=ye(Ga,h.config.apiKey,h.name);c&&c.setItem(d,h._getPersistence())})).apply(this,arguments)}function Zr(){var h;try{return(null===(h=function qa(){return typeof window<"u"?window:null}())||void 0===h?void 0:h.sessionStorage)||null}catch{return null}}const Uf=te;class di{constructor(){this.browserResolver=ze(JI),this.cordovaResolver=ze(Z_),this.underlyingResolver=null,this._redirectPersistence=Fn,this._completeRedirectFn=Zn,this._overrideRedirectResult=_f}_initialize(c){var d=this;return(0,I.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,p,_){var v=this;return(0,I.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openPopup(c,d,p,_)})()}_openRedirect(c,d,p,_){var v=this;return(0,I.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openRedirect(c,d,p,_)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return za()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Uf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,I.Z)(function*(){if(c.underlyingResolver)return;const d=yield function cb(){return Wr.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function db(h){return h.unwrap()}function hb(h){return X_(h)}function X_(h){const{_tokenResponse:c}=h instanceof U.ZR?h.customData:h;if(!c)return null;if(!(h instanceof U.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return us.credentialFromResult(h);const d=c.providerId;if(!d||d===at.PASSWORD)return null;let p;switch(d){case at.GOOGLE:p=ml;break;case at.FACEBOOK:p=gl;break;case at.GITHUB:p=Hh;break;case at.TWITTER:p=_l;break;default:const{oauthIdToken:_,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:R,nonce:H}=c;return v||T||_||R?R?d.startsWith("saml.")?is._create(d,R):Mr._fromParams({providerId:d,signInMethod:d,pendingToken:R,idToken:_,accessToken:v}):new Ss(d).credential({idToken:_,accessToken:v,rawNonce:H}):null}return h instanceof U.ZR?p.credentialFromError(h):p.credentialFromResult(h)}function Qr(h,c){return c.catch(d=>{throw d instanceof U.ZR&&function fb(h,c){var d;const p=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new $f(h,function sM(h,c){var d;const p=(0,U.m9)(h),_=c;return te(c.customData.operationType,p,"argument-error"),te(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),t_._fromError(p,_)}(h,c));else if(p){const _=X_(c),v=c;_&&(v.credential=_,v.tenantId=p.tenantId||void 0,v.email=p.email||void 0,v.phoneNumber=p.phoneNumber||void 0)}}(h,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:hb(d),additionalUserInfo:tf(d),user:Mi.getOrCreate(_)}})}function Bf(h,c){return jf.apply(this,arguments)}function jf(){return(jf=(0,I.Z)(function*(h,c){const d=yield c;return{verificationId:d.verificationId,confirm:p=>Qr(h,d.confirm(p))}})).apply(this,arguments)}class $f{constructor(c,d){this.resolver=d,this.auth=function J_(h){return h.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Qr(db(this.auth),this.resolver.resolveSignIn(c))}}class Mi{constructor(c){this._delegate=c,this.multiFactor=function lM(h){const c=(0,U.m9)(h);return Sl.has(c)||Sl.set(c,Al._fromUser(c)),Sl.get(c)}(c)}static getOrCreate(c){return Mi.USER_MAP.has(c)||Mi.USER_MAP.set(c,new Mi(c)),Mi.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,I.Z)(function*(){return Qr(d.auth,Qm(d._delegate,c))})()}linkWithPhoneNumber(c,d){var p=this;return(0,I.Z)(function*(){return Bf(p.auth,function E_(h,c,d){return Rl.apply(this,arguments)}(p._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,I.Z)(function*(){return Qr(d.auth,function C_(h,c,d){return T_.apply(this,arguments)}(d._delegate,c,di))})()}linkWithRedirect(c){var d=this;return(0,I.Z)(function*(){return yield Y_(It(d.auth)),yf(d._delegate,c,di)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,I.Z)(function*(){return Qr(d.auth,Ym(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return Bf(this.auth,function Wt(h,c,d){return nc.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return Qr(this.auth,function jI(h,c,d){return Le.apply(this,arguments)}(this._delegate,c,di))}reauthenticateWithRedirect(c){var d=this;return(0,I.Z)(function*(){return yield Y_(It(d.auth)),A_(d._delegate,c,di)})()}sendEmailVerification(c){return function ss(h,c){return Uo.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,I.Z)(function*(){return yield function Bi(h,c){return Wh.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function tM(h,c){const d=(0,U.m9)(h);return(0,we._isFirebaseServerApp)(d.auth.app)?Promise.reject(xe(d.auth)):ef(d,c,null)}(this._delegate,c)}updatePassword(c){return function Xh(h,c){return ef((0,U.m9)(h),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function VI(h,c){return Ol.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Ku(h,c){return rt.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function Xm(h,c,d){return os.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mi.USER_MAP=new WeakMap;const lc=te;let Wa=(()=>{class h{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;lc(_,"invalid-api-key",{appName:d.name}),lc(_,"invalid-api-key",{appName:d.name});const v=typeof window<"u"?di:void 0;this._delegate=p.initialize({options:{persistence:Kl(_,d.name),popupRedirectResolver:v}}),this._delegate._updateErrorMap(tr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function xm(h,c,d){const p=It(h);te(p._canInitEmulator,p,"emulator-config-failed"),te(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,v=Vu(c),{host:T,port:R}=function hl(h){const c=Vu(h),d=/(\/\/)?([^?#/]+)/.exec(h.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const v=_[1];return{host:v,port:fl(p.substr(v.length+1))}}{const[v,T]=p.split(":");return{host:v,port:fl(T)}}}(c);p.config.emulator={url:`${v}//${T}${null===R?"":`:${R}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:T,port:R,protocol:v.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Nm(){function h(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}(this._delegate,d,p)}applyActionCode(d){return function mn(h,c){return me.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return We(this._delegate,d)}confirmPasswordReset(d,p){return function TI(h,c,d){return Jh.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,I.Z)(function*(){return Qr(_._delegate,function yr(h,c,d){return Zs.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Wu(h,c){return Js.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function qe(h,c){const d=li.parseLink(c);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,I.Z)(function*(){lc(Lf(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function pM(h,c){return kl.apply(this,arguments)}(d._delegate,di);return p?Qr(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function $a(h,c){It(h)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:v,error:T,complete:R}=ey(d,p,_);return this._delegate.onAuthStateChanged(v,T,R)}onIdTokenChanged(d,p,_){const{next:v,error:T,complete:R}=ey(d,p,_);return this._delegate.onIdTokenChanged(v,T,R)}sendSignInLinkToEmail(d,p){return function Qs(h,c,d){return Ys.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function Jm(h,c,d){return Aa.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,I.Z)(function*(){let _;switch(function lb(h,c){ro(Object.values(Kr).includes(c),h,"invalid-persistence-type"),(0,U.b$)()?ro(c!==Kr.SESSION,h,"unsupported-persistence-type"):(0,U.UG)()?ro(c===Kr.NONE,h,"unsupported-persistence-type"):Tn()?ro(c===Kr.NONE||c===Kr.LOCAL&&(0,U.hl)(),h,"unsupported-persistence-type"):ro(c===Kr.NONE||Q_(),h,"unsupported-persistence-type")}(p._delegate,d),d){case Kr.SESSION:_=Fn;break;case Kr.LOCAL:_=(yield ze(xa)._isAvailable())?xa:Sn;break;case Kr.NONE:_=qn;break;default:return wt("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Qr(this._delegate,function qm(h){return Gh.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Qr(this._delegate,Il(this._delegate,d))}signInWithCustomToken(d){return Qr(this._delegate,function Be(h,c){return _r.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return Qr(this._delegate,function Cn(h,c,d){return(0,we._isFirebaseServerApp)(h.app)?Promise.reject(xe(h)):Il((0,U.m9)(h),zr.credential(c,d)).catch(function(){var p=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Rr(h),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return Qr(this._delegate,function Gu(h,c,d){return Tl.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return Bf(this._delegate,function LI(h,c,d){return Si.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,I.Z)(function*(){return lc(Lf(),p._delegate,"operation-not-supported-in-this-environment"),Qr(p._delegate,function b_(h,c,d){return Nl.apply(this,arguments)}(p._delegate,d,di))})()}signInWithRedirect(d){var p=this;return(0,I.Z)(function*(){return lc(Lf(),p._delegate,"operation-not-supported-in-this-environment"),yield Y_(p._delegate),Wn(p._delegate,d,di)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function ji(h,c){return Vo.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return h.Persistence=Kr,h})();function ey(h,c,d){let p=h;"function"!=typeof h&&({next:p,error:c,complete:d}=h);const _=p;return{next:T=>_(T&&Mi.getOrCreate(T)),error:c,complete:d}}function Kl(h,c){const d=function IM(h,c){const d=Zr();if(!d)return[];const p=ye(Ga,h,c);switch(d.getItem(p)){case Kr.NONE:return[qn];case Kr.LOCAL:return[xa,Fn];case Kr.SESSION:return[Fn];default:return[]}}(h,c);if(typeof self<"u"&&!d.includes(xa)&&d.push(xa),typeof window<"u")for(const p of[Sn,Fn])d.includes(p)||d.push(p);return d.includes(qn)||d.push(qn),d}class Hf{constructor(){this.providerId="phone",this._delegate=new us(db(Ve.Z.auth()))}static credential(c,d){return us.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}Hf.PHONE_SIGN_IN_METHOD=us.PHONE_SIGN_IN_METHOD,Hf.PROVIDER_ID=us.PROVIDER_ID;const ty=te;class zf{constructor(c,d,p=Ve.Z.app()){var _;ty(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new v_(p.auth(),c,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ny(h){h.INTERNAL.registerComponent(new pn.wA("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new Wa(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zr,FacebookAuthProvider:gl,GithubAuthProvider:Hh,GoogleAuthProvider:ml,OAuthProvider:Ss,SAMLAuthProvider:zu,PhoneAuthProvider:Hf,PhoneMultiFactorGenerator:XI,RecaptchaVerifier:zf,TwitterAuthProvider:_l,Auth:Wa,AuthCredential:Ca,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),h.registerVersion("@firebase/auth-compat","0.5.6")}(Ve.Z)},861:(ws,Xn,Ze)=>{function I(we,U,gt,on,pn,er,at){try{var J=we[er](at),ie=J.value}catch(Ce){return void gt(Ce)}J.done?U(ie):Promise.resolve(ie).then(on,pn)}function Ve(we){return function(){var U=this,gt=arguments;return new Promise(function(on,pn){var er=we.apply(U,gt);function at(ie){I(er,on,pn,at,J,"next",ie)}function J(ie){I(er,on,pn,at,J,"throw",ie)}at(void 0)})}}Ze.d(Xn,{Z:()=>Ve})},582:(ws,Xn,Ze)=>{function U(F,V){var j={};for(var K in F)Object.prototype.hasOwnProperty.call(F,K)&&V.indexOf(K)<0&&(j[K]=F[K]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(K=Object.getOwnPropertySymbols(F);ue<K.length;ue++)V.indexOf(K[ue])<0&&Object.prototype.propertyIsEnumerable.call(F,K[ue])&&(j[K[ue]]=F[K[ue]])}return j}function Ce(F,V,j,K){return new(j||(j=Promise))(function(B,se){function lt(Xe){try{Re(K.next(Xe))}catch(Xt){se(Xt)}}function be(Xe){try{Re(K.throw(Xe))}catch(Xt){se(Xt)}}function Re(Xe){Xe.done?B(Xe.value):function ue(B){return B instanceof j?B:new j(function(se){se(B)})}(Xe.value).then(lt,be)}Re((K=K.apply(F,V||[])).next())})}function Jt(F){return this instanceof Jt?(this.v=F,this):new Jt(F)}function wt(F,V,j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,K=j.apply(F,V||[]),B=[];return ue={},se("next"),se("throw"),se("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function se($t){K[$t]&&(ue[$t]=function(fr){return new Promise(function(jr,$n){B.push([$t,fr,jr,$n])>1||lt($t,fr)})})}function lt($t,fr){try{!function be($t){$t.value instanceof Jt?Promise.resolve($t.value.v).then(Re,Xe):Xt(B[0][2],$t)}(K[$t](fr))}catch(jr){Xt(B[0][3],jr)}}function Re($t){lt("next",$t)}function Xe($t){lt("throw",$t)}function Xt($t,fr){$t(fr),B.shift(),B.length&&lt(B[0][0],B[0][1])}}function Sr(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j,V=F[Symbol.asyncIterator];return V?V.call(F):(F=function Et(F){var V="function"==typeof Symbol&&Symbol.iterator,j=V&&F[V],K=0;if(j)return j.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&K>=F.length&&(F=void 0),{value:F&&F[K++],done:!F}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),j={},K("next"),K("throw"),K("return"),j[Symbol.asyncIterator]=function(){return this},j);function K(B){j[B]=F[B]&&function(se){return new Promise(function(lt,be){!function ue(B,se,lt,be){Promise.resolve(be).then(function(Re){B({value:Re,done:lt})},se)}(lt,be,(se=F[B](se)).done,se.value)})}}}Ze.d(Xn,{FC:()=>wt,KL:()=>Sr,_T:()=>U,mG:()=>Ce,qq:()=>Jt}),"function"==typeof SuppressedError&&SuppressedError}},ws=>{ws(ws.s=641)}]);