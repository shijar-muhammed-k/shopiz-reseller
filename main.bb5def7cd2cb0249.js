"use strict";(self.webpackChunkshopizResellerPlatform=self.webpackChunkshopizResellerPlatform||[]).push([[179],{58:(Is,Yn,Ze)=>{Ze.d(Yn,{BH:()=>Ot,G6:()=>_a,L:()=>ut,LL:()=>B,Pz:()=>It,Sg:()=>Sr,UG:()=>jt,ZB:()=>Ie,ZR:()=>ce,aH:()=>Jt,b$:()=>Qt,eu:()=>V,hl:()=>F,jU:()=>te,m9:()=>Ss,ne:()=>Di,pd:()=>Oo,r3:()=>$n,ru:()=>an,tV:()=>J,uI:()=>bn,vZ:()=>Mo,w1:()=>Ii,xO:()=>Ro,xb:()=>ui,z$:()=>Ne,zd:()=>Ts});const U=function(A){const D=[];let S=0;for(let Q=0;Q<A.length;Q++){let O=A.charCodeAt(Q);O<128?D[S++]=O:O<2048?(D[S++]=O>>6|192,D[S++]=63&O|128):55296==(64512&O)&&Q+1<A.length&&56320==(64512&A.charCodeAt(Q+1))?(O=65536+((1023&O)<<10)+(1023&A.charCodeAt(++Q)),D[S++]=O>>18|240,D[S++]=O>>12&63|128,D[S++]=O>>6&63|128,D[S++]=63&O|128):(D[S++]=O>>12|224,D[S++]=O>>6&63|128,D[S++]=63&O|128)}return D},on={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(A,D){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const S=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let O=0;O<A.length;O+=3){const H=A[O],xe=O+1<A.length,St=xe?A[O+1]:0,ze=O+2<A.length,Nn=ze?A[O+2]:0;let gn=(15&St)<<2|Nn>>6,Nt=63&Nn;ze||(Nt=64,xe||(gn=64)),Q.push(S[H>>2],S[(3&H)<<4|St>>4],S[gn],S[Nt])}return Q.join("")},encodeString(A,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(A):this.encodeByteArray(U(A),D)},decodeString(A,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(A):function(A){const D=[];let S=0,Q=0;for(;S<A.length;){const O=A[S++];if(O<128)D[Q++]=String.fromCharCode(O);else if(O>191&&O<224){const H=A[S++];D[Q++]=String.fromCharCode((31&O)<<6|63&H)}else if(O>239&&O<365){const ze=((7&O)<<18|(63&A[S++])<<12|(63&A[S++])<<6|63&A[S++])-65536;D[Q++]=String.fromCharCode(55296+(ze>>10)),D[Q++]=String.fromCharCode(56320+(1023&ze))}else{const H=A[S++],xe=A[S++];D[Q++]=String.fromCharCode((15&O)<<12|(63&H)<<6|63&xe)}}return D.join("")}(this.decodeStringToByteArray(A,D))},decodeStringToByteArray(A,D){this.init_();const S=D?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let O=0;O<A.length;){const H=S[A.charAt(O++)],St=O<A.length?S[A.charAt(O)]:0;++O;const Nn=O<A.length?S[A.charAt(O)]:64;++O;const ye=O<A.length?S[A.charAt(O)]:64;if(++O,null==H||null==St||null==Nn||null==ye)throw new pn;Q.push(H<<2|St>>4),64!==Nn&&(Q.push(St<<4&240|Nn>>2),64!==ye&&Q.push(Nn<<6&192|ye))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class pn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ut=function(A){return function(A){const D=U(A);return on.encodeByteArray(D,!0)}(A).replace(/\./g,"")},J=function(A){try{return on.decodeString(A,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function Ie(A,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===A&&(A={});break;case Array:A=[];break;default:return D}for(const S in D)!D.hasOwnProperty(S)||!st(S)||(A[S]=Ie(A[S],D[S]));return A}function st(A){return"__proto__"!==A}const Je=()=>{try{return function vt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const A=process.env.__FIREBASE_DEFAULTS__;return A?JSON.parse(A):void 0})()||(()=>{if(typeof document>"u")return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=A&&J(A[1]);return D&&JSON.parse(D)})()}catch(A){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`)}},Jt=()=>{var A;return null===(A=Je())||void 0===A?void 0:A.config},It=A=>{var D;return null===(D=Je())||void 0===D?void 0:D[`_${A}`]};class Ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,S)=>{this.resolve=D,this.reject=S})}wrapCallback(D){return(S,Q)=>{S?this.reject(S):this.resolve(Q),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(S):D(S,Q))}}}function Sr(A,D){if(A.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=D||"demo-project",O=A.iat||0,H=A.sub||A.user_id;if(!H)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xe=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:O,exp:O+3600,auth_time:O,sub:H,user_id:H,firebase:{sign_in_provider:"custom",identities:{}}},A);return[ut(JSON.stringify({alg:"none",type:"JWT"})),ut(JSON.stringify(xe)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function jt(){var A;const D=null===(A=Je())||void 0===A?void 0:A.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function te(){return"object"==typeof self&&self.self===self}function an(){const A="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof A&&void 0!==A.id}function Qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ii(){const A=Ne();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function _a(){return!jt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F(){try{return"object"==typeof indexedDB}catch{return!1}}function V(){return new Promise((A,D)=>{try{let S=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(Q);O.onsuccess=()=>{O.result.close(),S||self.indexedDB.deleteDatabase(Q),A(!0)},O.onupgradeneeded=()=>{S=!1},O.onerror=()=>{var H;D((null===(H=O.error)||void 0===H?void 0:H.message)||"")}}catch(S){D(S)}})}class ce extends Error{constructor(D,S,Q){super(S),this.code=D,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,B.prototype.create)}}class B{constructor(D,S,Q){this.service=D,this.serviceName=S,this.errors=Q}create(D,...S){const Q=S[0]||{},O=`${this.service}/${D}`,H=this.errors[D],xe=H?function oe(A,D){return A.replace(dt,(S,Q)=>{const O=D[Q];return null!=O?String(O):`<${Q}?>`})}(H,Q):"Error";return new ce(O,`${this.serviceName}: ${xe} (${O}).`,Q)}}const dt=/\{\$([^}]+)}/g;function $n(A,D){return Object.prototype.hasOwnProperty.call(A,D)}function ui(A){for(const D in A)if(Object.prototype.hasOwnProperty.call(A,D))return!1;return!0}function Mo(A,D){if(A===D)return!0;const S=Object.keys(A),Q=Object.keys(D);for(const O of S){if(!Q.includes(O))return!1;const H=A[O],xe=D[O];if(Cn(H)&&Cn(xe)){if(!Mo(H,xe))return!1}else if(H!==xe)return!1}for(const O of Q)if(!S.includes(O))return!1;return!0}function Cn(A){return null!==A&&"object"==typeof A}function Ro(A){const D=[];for(const[S,Q]of Object.entries(A))Array.isArray(Q)?Q.forEach(O=>{D.push(encodeURIComponent(S)+"="+encodeURIComponent(O))}):D.push(encodeURIComponent(S)+"="+encodeURIComponent(Q));return D.length?"&"+D.join("&"):""}function Ts(A){const D={};return A.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[O,H]=Q.split("=");D[decodeURIComponent(O)]=decodeURIComponent(H)}}),D}function Oo(A){const D=A.indexOf("?");if(!D)return"";const S=A.indexOf("#",D);return A.substring(D,S>0?S:void 0)}function Di(A,D){const S=new Bi(A,D);return S.subscribe.bind(S)}class Bi{constructor(D,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then(()=>{D(this)}).catch(Q=>{this.error(Q)})}next(D){this.forEachObserver(S=>{S.next(D)})}error(D){this.forEachObserver(S=>{S.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,S,Q){let O;if(void 0===D&&void 0===S&&void 0===Q)throw new Error("Missing Observer.");O=function Ds(A,D){if("object"!=typeof A||null===A)return!1;for(const S of D)if(S in A&&"function"==typeof A[S])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:S,complete:Q},void 0===O.next&&(O.next=Ht),void 0===O.error&&(O.error=Ht),void 0===O.complete&&(O.complete=Ht);const H=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),H}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,D)}sendOne(D,S){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{S(this.observers[D])}catch(Q){typeof console<"u"&&console.error&&console.error(Q)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ht(){}function Ss(A){return A&&A._delegate?A._delegate:A}},224:(Is,Yn,Ze)=>{function b(n){return"function"==typeof n}function Ve(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const we=Ve(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function U(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class _t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(b(r))try{r()}catch(s){e=s instanceof we?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Jn(s)}catch(o){e=e??[],o instanceof we?e=[...e,...o.errors]:e.push(o)}}if(e)throw new we(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Jn(e);else{if(e instanceof _t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&U(t,e)}remove(e){const{_finalizers:t}=this;t&&U(t,e),e instanceof _t&&e._removeParent(this)}}_t.EMPTY=(()=>{const n=new _t;return n.closed=!0,n})();const on=_t.EMPTY;function pn(n){return n instanceof _t||n&&"closed"in n&&b(n.remove)&&b(n.add)&&b(n.unsubscribe)}function Jn(n){b(n)?n():n.unsubscribe()}const ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J={setTimeout(n,e,...t){const{delegate:r}=J;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=J;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function se(n){J.setTimeout(()=>{const{onUnhandledError:e}=ut;if(!e)throw n;e(n)})}function Ie(){}const st=Ct("C",void 0,void 0);function Ct(n,e,t){return{kind:n,value:e,error:t}}let $e=null;function Je(n){if(ut.useDeprecatedSynchronousErrorHandling){const e=!$e;if(e&&($e={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=$e;if($e=null,t)throw r}}else n()}class tr extends _t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pn(e)&&e.add(this)):this.destination=te}static create(e,t,r){return new Sr(e,t,r)}next(e){this.isStopped?jt(function Xn(n){return Ct("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?jt(function vt(n){return Ct("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jt(st,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Jt=Function.prototype.bind;function It(n,e){return Jt.call(n,e)}class Ot{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ne(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ne(r)}else Ne(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ne(t)}}}class Sr extends tr{constructor(e,t,r){let i;if(super(),b(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ut.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&It(e.next,s),error:e.error&&It(e.error,s),complete:e.complete&&It(e.complete,s)}):i=e}this.destination=new Ot(i)}}function Ne(n){ut.useDeprecatedSynchronousErrorHandling?function er(n){ut.useDeprecatedSynchronousErrorHandling&&$e&&($e.errorThrown=!0,$e.error=n)}(n):se(n)}function jt(n,e){const{onStoppedNotification:t}=ut;t&&J.setTimeout(()=>t(n,e))}const te={closed:!0,next:Ie,error:function bn(n){throw n},complete:Ie},an="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qt(n){return n}function Ii(n){return 0===n.length?Qt:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ot=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function F(n){return n&&n instanceof tr||function _a(n){return n&&b(n.next)&&b(n.error)&&b(n.complete)}(n)&&pn(n)}(t)?t:new Sr(t,r,i);return Je(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Po(r))((i,s)=>{const o=new Sr({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[an](){return this}pipe(...t){return Ii(t)(this)}toPromise(t){return new(t=Po(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Po(n){var e;return null!==(e=n??ut.Promise)&&void 0!==e?e:Promise}const V=Ve(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends ot{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new K(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new V}next(t){Je(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Je(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Je(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?on:(this.currentObservers=null,s.push(t),new _t(()=>{this.currentObservers=null,U(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ot;return t.source=this,t}}return n.create=(e,t)=>new K(e,t),n})();class K extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:on}}function ce(n){return b(n?.lift)}function B(n){return e=>{if(ce(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(n,e,t,r,i){return new dt(n,e,t,r,i)}class dt extends tr{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ce(n,e){return B((t,r)=>{let i=0;t.subscribe(oe(r,s=>{r.next(n.call(e,s,i++))}))})}var Oe=Ze(582);const Xe=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Xt(n){return b(n?.then)}function $t(n){return b(n[an])}function pr(n){return Symbol.asyncIterator&&b(n?.[Symbol.asyncIterator])}function jr(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $r=function $n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ui(n){return b(n?.[$r])}function ya(n){return(0,Oe.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Oe.qq)(t.read());if(i)return yield(0,Oe.qq)(void 0);yield yield(0,Oe.qq)(r)}}finally{t.releaseLock()}})}function Mo(n){return b(n?.getReader)}function Cn(n){if(n instanceof ot)return n;if(null!=n){if($t(n))return function Lc(n){return new ot(e=>{const t=n[an]();if(b(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xe(n))return function Ro(n){return new ot(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Xt(n))return function Ts(n){return new ot(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,se)})}(n);if(pr(n))return Ti(n);if(ui(n))return function Oo(n){return new ot(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Mo(n))return function Di(n){return Ti(ya(n))}(n)}throw jr(n)}function Ti(n){return new ot(e=>{(function Bi(n,e){var t,r,i,s;return(0,Oe.mG)(this,void 0,void 0,function*(){try{for(t=(0,Oe.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function gr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ht(n,e,t=1/0){return b(e)?Ht((r,i)=>Ce((s,o)=>e(r,s,i,o))(Cn(n(r,i))),t):("number"==typeof e&&(t=e),B((r,i)=>function Ds(n,e,t,r,i,s,o,a){const c=[];let l=0,f=0,g=!1;const m=()=>{g&&!c.length&&!l&&e.complete()},y=C=>l<r?E(C):c.push(C),E=C=>{s&&e.next(C),l++;let I=!1;Cn(t(C,f++)).subscribe(oe(e,M=>{i?.(M),s?y(M):e.next(M)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<r;){const M=c.shift();o?gr(e,o,()=>E(M)):E(M)}m()}catch(M){e.error(M)}}))};return n.subscribe(oe(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function rs(n=1/0){return Ht(Qt,n)}const Hn=new ot(n=>n.complete());function Ea(n){return n&&b(n.schedule)}function Hr(n){return n[n.length-1]}function zn(n){return b(Hr(n))?n.pop():void 0}function As(n){return Ea(Hr(n))?n.pop():void 0}function li(n,e=0){return B((t,r)=>{t.subscribe(oe(r,i=>gr(r,n,()=>r.next(i),e),()=>gr(r,n,()=>r.complete(),e),i=>gr(r,n,()=>r.error(i),e)))})}function Pr(n,e=0){return B((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ss(n,e){if(!n)throw new Error("Iterable cannot be null");return new ot(t=>{gr(t,e,()=>{const r=n[Symbol.asyncIterator]();gr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function S(n,e){return e?function D(n,e){if(null!=n){if($t(n))return function No(n,e){return Cn(n).pipe(Pr(e),li(e))}(n,e);if(Xe(n))return function wa(n,e){return new ot(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Xt(n))return function ll(n,e){return Cn(n).pipe(Pr(e),li(e))}(n,e);if(pr(n))return Ss(n,e);if(ui(n))return function ba(n,e){return new ot(t=>{let r;return gr(t,e,()=>{r=n[$r](),gr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>b(r?.return)&&r.return()})}(n,e);if(Mo(n))return function A(n,e){return Ss(ya(n),e)}(n,e)}throw jr(n)}(n,e):Cn(n)}function Q(...n){const e=As(n),t=function Vc(n,e){return"number"==typeof Hr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Cn(r[0]):rs(t)(S(r,e)):Hn}class O extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function H(...n){return S(n,As(n))}function xe(n={}){const{connector:e=(()=>new j),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,f=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=c=void 0,f=g=!1},E=()=>{const C=o;y(),C?.unsubscribe()};return B((C,I)=>{l++,!g&&!f&&m();const M=c=c??e();I.add(()=>{l--,0===l&&!g&&!f&&(a=St(E,i))}),M.subscribe(I),!o&&l>0&&(o=new Sr({next:P=>M.next(P),error:P=>{g=!0,m(),a=St(y,t,P),M.error(P)},complete:()=>{f=!0,m(),a=St(y,r),M.complete()}}),Cn(C).subscribe(o))})(s)}}function St(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Sr({next:()=>{r.unsubscribe(),n()}});return Cn(e(...t)).subscribe(r)}function ze(n,e){return B((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(oe(r,c=>{i?.unsubscribe();let l=0;const f=s++;Cn(n(c,f)).subscribe(i=oe(r,g=>r.next(e?e(c,g,f,l++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Nn(n,e=Qt){return n=n??qn,B((t,r)=>{let i,s=!0;t.subscribe(oe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function qn(n,e){return n===e}function ye(n){for(let e in n)if(n[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function gn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Nt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Zs(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Uc=ye({__forward_ref__:ye});function At(n){return n.__forward_ref__=At,n.toString=function(){return Nt(this())},n}function Fe(n){return Ps(n)?n():n}function Ps(n){return"function"==typeof n&&n.hasOwnProperty(Uc)&&n.__forward_ref__===At}function ko(n){return n&&!!n.\u0275providers}const k="https://g.co/ng/security#xss";class w extends Error{constructor(e,t){super(function G(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Y(n){return"string"==typeof n?n:null==n?"":String(n)}function zt(n,e){throw new w(-201,!1)}function Ai(n,e){null==n&&function Be(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Sn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ia(n){return Fm(n,hl)||Fm(n,Vm)}function Fm(n,e){return n.hasOwnProperty(e)?n[e]:null}function Bc(n){return n&&(n.hasOwnProperty(fl)||n.hasOwnProperty(Ta))?n[fl]:null}const hl=ye({\u0275prov:ye}),fl=ye({\u0275inj:ye}),Vm=ye({ngInjectableDef:ye}),Ta=ye({ngInjectorDef:ye});var at=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(at||{});let jc;function mr(n){const e=jc;return jc=n,e}function Bm(n,e,t){const r=Ia(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&at.Optional?null:void 0!==e?e:void zt(Nt(n))}const qt=globalThis;class ae{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Fo={},jh="__NG_DI_FLAG__",Aa="ngTempTokenPath",Ms=/\n/gm,Gm="__source";let Mr;function is(n){const e=Mr;return Mr=n,e}function Tb(n,e=at.Default){if(void 0===Mr)throw new w(-203,!1);return null===Mr?Bm(n,void 0,e):Mr.get(n,e&at.Optional?null:void 0,e)}function W(n,e=at.Default){return(function Um(){return jc}()||Tb)(Fe(n),e)}function fe(n,e=at.Default){return W(n,pl(e))}function pl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Hh(n){const e=[];for(let t=0;t<n.length;t++){const r=Fe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,s=at.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Vo(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function Lo(n,e){return n[jh]=e,n.prototype[jh]=e,n}function Vo(n){return n[jh]}function di(n){return{toString:n}.toString()}var zh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(zh||{}),zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(zr||{});const Gn={},lt=[],Rs=ye({\u0275cmp:ye}),gl=ye({\u0275dir:ye}),ml=ye({\u0275pipe:ye}),qh=ye({\u0275mod:ye}),Os=ye({\u0275fac:ye}),ss=ye({__NG_ELEMENT_ID__:ye}),Km=ye({__NG_ENV_ID__:ye});function Gc(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function _l(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];yl(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Gh(n){return 3===n||4===n||6===n}function yl(n){return 64===n.charCodeAt(0)}function _r(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Wh(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Wh(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const Zm="ng-template";function Kh(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==Gc(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Wc(n){return 4===n.type&&n.value!==Zm}function Qm(n,e,t){return e===(4!==n.type||t?n.value:Zm)}function Ym(n,e,t){let r=4;const i=n.attrs||[],s=function El(n){for(let e=0;e<n.length;e++)if(Gh(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Qm(n,c,t)||""===c&&1===e.length){if(ji(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!Kh(n.attrs,l,t)){if(ji(r))return!1;o=!0}continue}const g=Zh(8&r?"class":c,i,Wc(n),t);if(-1===g){if(ji(r))return!1;o=!0;continue}if(""!==l){let m;m=g>s?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==Gc(y,l,0)||2&r&&l!==m){if(ji(r))return!1;o=!0}}}}else{if(!o&&!ji(r)&&!ji(c))return!1;if(o&&ji(c))continue;o=!1,r=c|1&r}}return ji(r)||o}function ji(n){return 0==(1&n)}function Zh(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Yh(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function vl(n,e,t=!1){for(let r=0;r<e.length;r++)if(Ym(n,e[r],t))return!0;return!1}function Jm(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function wl(n,e){return n?":not("+e.trim()+")":e}function Xm(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ji(o)&&(e+=wl(s,i),i=""),r=o,s=s||!ji(r);t++}return""!==i&&(e+=wl(s,i)),e}function qr(n){return di(()=>{const e=Il(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zr.Emulated,styles:n.styles||lt,_:null,schemas:n.schemas||null,tView:null,id:""};n_(t);const r=n.dependencies;return t.directiveDefs=Sa(r,!1),t.pipeDefs=Sa(r,!0),t.id=function ef(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Xh(n){return ct(n)||kn(n)}function t_(n){return null!==n}function In(n){return di(()=>({type:n.type,bootstrap:n.bootstrap||lt,declarations:n.declarations||lt,imports:n.imports||lt,exports:n.exports||lt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Cl(n,e){if(null==n)return Gn;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Ue(n){return di(()=>{const e=Il(n);return n_(e),e})}function yr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ct(n){return n[Rs]||null}function kn(n){return n[gl]||null}function nr(n){return n[ml]||null}function Rr(n,e){const t=n[qh]||null;if(!t&&!0===e)throw new Error(`Type ${Nt(n)} does not have '\u0275mod' property.`);return t}function Il(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Gn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||lt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cl(n.inputs,e),outputs:Cl(n.outputs)}}function n_(n){n.features?.forEach(e=>e(n))}function Sa(n,e){if(!n)return null;const t=e?nr:Xh;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(t_)}const mn=0,me=1,We=2,Gt=3,$i=4,Uo=5,vr=6,Qs=7,Tn=8,Ys=9,Js=10,qe=11,Kc=12,Tl=13,Pa=14,cn=15,Zc=16,Xs=17,os=18,Bo=19,r_=20,as=21,Ns=22,jo=23,Qc=24,rt=25,tf=1,nf=2,Si=7,Hi=9,rr=11;function Gr(n){return Array.isArray(n)&&"object"==typeof n[tf]}function Or(n){return Array.isArray(n)&&!0===n[tf]}function rf(n){return 0!=(4&n.flags)}function Ra(n){return n.componentOffset>-1}function sf(n){return 1==(1&n.flags)}function cs(n){return!!n.template}function Yc(n){return 0!=(512&n[We])}function $o(n,e){return n.hasOwnProperty(Os)?n[Os]:null}let Pn=null,cf=!1;function Fn(n){const e=Pn;return Pn=n,e}const o_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xa(n){if(!eu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Pl(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function u_(n){n.dirty=!0,function c_(n){if(void 0===n.liveConsumerNode)return;const e=cf;cf=!0;try{for(const t of n.liveConsumerNode)t.dirty||u_(t)}finally{cf=e}}(n),n.consumerMarkedDirty?.(n)}function Jc(n){return n&&(n.nextProducerIndex=0),Fn(n)}function uf(n,e){if(Fn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(eu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Xc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Pl(n){ks(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(xa(t),r!==t.version))return!0}return!1}function l_(n){if(ks(n),eu(n))for(let e=0;e<n.producerNode.length;e++)Xc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Xc(n,e){if(function lf(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ks(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Xc(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ks(i),i.producerIndexOfThis[r]=e}}function eu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ks(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let p_=null;const y_=()=>{},Lb=(()=>({...o_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:y_}))();class Vb{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wr(){return E_}function E_(n){return n.type.prototype.ngOnChanges&&(n.setInput=w_),Ub}function Ub(){const n=C_(this),e=n?.current;if(e){const t=n.previous;if(t===Gn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function w_(n,e,t,r){const i=this.declaredInputs[t],s=C_(n)||function Bb(n,e){return n[b_]=e}(n,{previous:Gn,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new Vb(c&&c.currentValue,e,a===Gn),n[r]=e}Wr.ngInherit=!0;const b_="__ngSimpleChanges__";function C_(n){return n[b_]||null}const Pi=function(n,e,t){};function Wt(n){for(;Array.isArray(n);)n=n[mn];return n}function Ho(n,e){return Wt(e[n])}function Er(n,e){return Wt(e[n.index])}function Ol(n,e){return n.data[e]}function us(n,e){return n[e]}function Ln(n,e){const t=e[n];return Gr(t)?t:t[mn]}function to(n,e){return null==e?null:n[e]}function xl(n){n[Xs]=0}function T_(n){1024&n[We]||(n[We]|=1024,A_(n,1))}function D_(n){1024&n[We]&&(n[We]&=-1025,A_(n,-1))}function A_(n,e){let t=n[Gt];if(null===t)return;t[Uo]+=e;let r=t;for(t=t[Gt];null!==t&&(1===e&&1===r[Uo]||-1===e&&0===r[Uo]);)t[Uo]+=e,r=t,t=t[Gt]}const Le={lFrame:Af(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function M_(){return Le.bindingsEnabled}function ka(){return null!==Le.skipHydrationRootTNode}function X(){return Le.lFrame.lView}function ht(){return Le.lFrame.tView}function ir(n){return Le.lFrame.contextLView=n,n[Tn]}function sr(n){return Le.lFrame.contextLView=null,n}function Vn(){let n=R_();for(;null!==n&&64===n.type;)n=n.parent;return n}function R_(){return Le.lFrame.currentTNode}function Mi(n,e){const t=Le.lFrame;t.currentTNode=n,t.isParent=e}function Ef(){return Le.lFrame.isParent}function wf(){Le.lFrame.isParent=!1}function Wn(){const n=Le.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function no(){return Le.lFrame.bindingIndex++}function Fs(n){const e=Le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function x_(n,e){const t=Le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Fl(e)}function Fl(n){Le.lFrame.currentDirectiveIndex=n}function N_(){return Le.lFrame.currentQueryIndex}function Tf(n){Le.lFrame.currentQueryIndex=n}function Zb(n){const e=n[me];return 2===e.type?e.declTNode:1===e.type?n[vr]:null}function Ll(n,e,t){if(t&at.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&at.Host||(i=Zb(s),null===i||(s=s[Pa],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Le.lFrame=k_();return r.currentTNode=e,r.lView=n,!0}function Df(n){const e=k_(),t=n[me];Le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function k_(){const n=Le.lFrame,e=null===n?null:n.child;return null===e?Af(n):e}function Af(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function F_(){const n=Le.lFrame;return Le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const cu=F_;function Sf(){const n=F_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xr(){return Le.lFrame.selectedIndex}function zo(n){Le.lFrame.selectedIndex=n}function un(){const n=Le.lFrame;return Ol(n.tView,n.selectedIndex)}let V_=!0;function Vl(){return V_}function ro(n){V_=n}function Ul(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=f&&(n.destroyHooks??=[]).push(t,f)}}function Bl(n,e,t){B_(n,e,3,t)}function jl(n,e,t,r){(3&n[We])===t&&B_(n,e,t,r)}function Mf(n,e){let t=n[We];(3&t)===e&&(t&=8191,t+=1,n[We]=t)}function B_(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Xs]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Xs]+=65536),(a<s||-1==s)&&(Rf(n,t,e,c),n[Xs]=(4294901760&n[Xs])+c+2),c++}function $l(n,e){Pi(4,n,e);const t=Fn(null);try{e.call(n)}finally{Fn(t),Pi(5,n,e)}}function Rf(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[We]>>13<n[Xs]>>16&&(3&n[We])===e&&(n[We]+=8192,$l(a,s)):$l(a,s)}const Fa=-1;class qo{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function La(n){return n!==Fa}function Va(n){return 32767&n}function uu(n,e){let t=function H_(n){return n>>16}(n),r=e;for(;t>0;)r=r[Pa],t--;return r}let xf=!0;function Hl(n){const e=xf;return xf=n,e}const z_=255,Nf=5;let sC=0;const Ls={};function ls(n,e){const t=q_(n,e);if(-1!==t)return t;const r=e[me];r.firstCreatePass&&(n.injectorIndex=e.length,kf(r.data,n),kf(e,null),kf(r.blueprint,null));const i=Ua(n,e),s=n.injectorIndex;if(La(i)){const o=Va(i),a=uu(i,e),c=a[me].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function kf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function q_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ua(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=J_(i),null===r)return Fa;if(t++,i=i[Pa],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Fa}function Ff(n,e,t){!function oC(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ss)&&(r=t[ss]),null==r&&(r=t[ss]=sC++);const i=r&z_;e.data[n+(i>>Nf)]|=1<<i}(n,e,t)}function G_(n,e,t){if(t&at.Optional||void 0!==n)return n;zt()}function W_(n,e,t,r){if(t&at.Optional&&void 0===r&&(r=null),!(t&(at.Self|at.Host))){const i=n[Ys],s=mr(void 0);try{return i?i.get(e,r,t&at.Optional):Bm(e,r,t&at.Optional)}finally{mr(s)}}return G_(r,0,t)}function zl(n,e,t,r=at.Default,i){if(null!==n){if(2048&e[We]&&!(r&at.Self)){const o=function Vf(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[We]&&!(512&o[We]);){const a=K_(s,o,t,r|at.Self,Ls);if(a!==Ls)return a;let c=s.parent;if(!c){const l=o[r_];if(l){const f=l.get(t,Ls,r);if(f!==Ls)return f}c=J_(o),o=o[Pa]}s=c}return i}(n,e,t,r,Ls);if(o!==Ls)return o}const s=K_(n,e,t,r,Ls);if(s!==Ls)return s}return W_(e,t,r,i)}function K_(n,e,t,r,i){const s=function cC(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ss)?n[ss]:void 0;return"number"==typeof e?e>=0?e&z_:uC:e}(t);if("function"==typeof s){if(!Ll(e,n,r))return r&at.Host?G_(i,0,r):W_(e,t,r,i);try{let o;if(o=s(r),null!=o||r&at.Optional)return o;zt()}finally{cu()}}else if("number"==typeof s){let o=null,a=q_(n,e),c=Fa,l=r&at.Host?e[cn][vr]:null;for((-1===a||r&at.SkipSelf)&&(c=-1===a?Ua(n,e):e[a+8],c!==Fa&&Q_(r,!1)?(o=e[me],a=Va(c),e=uu(c,e)):a=-1);-1!==a;){const f=e[me];if(Z_(s,a,f.data)){const g=aC(a,e,t,o,r,l);if(g!==Ls)return g}c=e[a+8],c!==Fa&&Q_(r,e[me].data[a+8]===l)&&Z_(s,a,e)?(o=f,a=Va(c),e=uu(c,e)):a=-1}}return i}function aC(n,e,t,r,i,s){const o=e[me],a=o.data[n+8],f=Ba(a,o,t,null==r?Ra(a)&&xf:r!=o&&0!=(3&a.type),i&at.Host&&s===a);return null!==f?Go(e,o,f,a):Ls}function Ba(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,f=s>>20,m=i?a+f:n.directiveEnd;for(let y=r?a:a+f;y<m;y++){const E=o[y];if(y<c&&t===E||y>=c&&E.type===t)return y}if(i){const y=o[c];if(y&&cs(y)&&y.type===t)return c}return null}function Go(n,e,t,r){let i=n[t];const s=e.data;if(function tC(n){return n instanceof qo}(i)){const o=i;o.resolving&&function Ge(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new w(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ge(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Y(n)}(s[t]));const a=Hl(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?mr(o.injectImpl):null;Ll(n,r,at.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function U_(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=E_(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&mr(l),Hl(a),o.resolving=!1,cu()}}return i}function Z_(n,e,t){return!!(t[e+(n>>Nf)]&1<<n)}function Q_(n,e){return!(n&at.Self||n&at.Host&&e)}class or{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return zl(this._tNode,this._lView,e,pl(r),t)}}function uC(){return new or(Vn(),X())}function ar(n){return di(()=>{const e=n.prototype.constructor,t=e[Os]||du(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Os]||du(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function du(n){return Ps(n)?()=>{const e=du(Fe(n));return e&&e()}:$o(n)}function J_(n){const e=n[me],t=e.type;return 2===t?e.declTNode:1===t?n[vr]:null}const ja="__parameters__";function Ha(n,e,t){return di(()=>{const r=function Gl(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,f){const g=c.hasOwnProperty(ja)?c[ja]:Object.defineProperty(c,ja,{value:[]})[ja];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ga(n,e){n.forEach(t=>Array.isArray(t)?Ga(t,e):e(t))}function Zr(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function io(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Wa(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Qr(n,e,t){let r=hi(n,e);return r>=0?n[1|r]=t:(r=~r,function Bf(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function jf(n,e){const t=hi(n,e);if(t>=0)return n[1|t]}function hi(n,e){return function ny(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ka=Lo(Ha("Optional"),8),Kl=Lo(Ha("SkipSelf"),4);function fy(n){return 128==(128&n.flags)}var Za=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Za||{});const g3=/^>|^->|<!--|-->|--!>|<!-$/g,m3=/(<|>)/g,_3="\u200b$1\u200b";const EC=new Map;let y3=0;const bC="__ngContext__";function Jr(n,e){Gr(e)?(n[bC]=e[Bo],function E3(n){EC.set(n[Bo],n)}(e)):n[bC]=e}let CC;function IC(n,e){return CC(n,e)}function Jf(n){const e=n[Gt];return Or(e)?e[Gt]:e}function $M(n){return zM(n[Kc])}function HM(n){return zM(n[$i])}function zM(n){for(;null!==n&&!Or(n);)n=n[$i];return n}function Xl(n,e,t,r,i){if(null!=r){let s,o=!1;Or(r)?s=r:Gr(r)&&(o=!0,r=r[mn]);const a=Wt(r);0===n&&null!==t?null==i?KM(e,t,a):fu(e,t,a,i||null,!0):1===n&&null!==t?fu(e,t,a,i||null,!0):2===n?function Ey(n,e,t){const r=yy(n,e);r&&function U3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function $3(n,e,t,r,i){const s=t[Si];s!==Wt(t)&&Xl(e,n,r,s,i);for(let a=rr;a<t.length;a++){const c=t[a];ep(c[me],c,n,e,r,s)}}(e,n,s,t,i)}}function TC(n,e){return n.createComment(function NM(n){return n.replace(g3,e=>e.replace(m3,_3))}(e))}function my(n,e,t){return n.createElement(e,t)}function GM(n,e){const t=n[Hi],r=t.indexOf(e);D_(e),t.splice(r,1)}function _y(n,e){if(n.length<=rr)return;const t=rr+e,r=n[t];if(r){const i=r[Zc];null!==i&&i!==n&&GM(i,r),e>0&&(n[t-1][$i]=r[$i]);const s=io(n,rr+e);!function R3(n,e){ep(n,e,e[qe],2,null,null),e[mn]=null,e[vr]=null}(r[me],r);const o=s[os];null!==o&&o.detachView(s[me]),r[Gt]=null,r[$i]=null,r[We]&=-129}return r}function DC(n,e){if(!(256&e[We])){const t=e[qe];e[jo]&&l_(e[jo]),e[Qc]&&l_(e[Qc]),t.destroyNode&&ep(n,e,t,3,null,null),function N3(n){let e=n[Kc];if(!e)return AC(n[me],n);for(;e;){let t=null;if(Gr(e))t=e[Kc];else{const r=e[rr];r&&(t=r)}if(!t){for(;e&&!e[$i]&&e!==n;)Gr(e)&&AC(e[me],e),e=e[Gt];null===e&&(e=n),Gr(e)&&AC(e[me],e),t=e&&e[$i]}e=t}}(e)}}function AC(n,e){if(!(256&e[We])){e[We]&=-129,e[We]|=256,function V3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof qo)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Pi(4,a,c);try{c.call(a)}finally{Pi(5,a,c)}}else{Pi(4,i,s);try{s.call(i)}finally{Pi(5,i,s)}}}}}(n,e),function L3(n,e){const t=n.cleanup,r=e[Qs];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Qs]=null);const i=e[as];if(null!==i){e[as]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[me].type&&e[qe].destroy();const t=e[Zc];if(null!==t&&Or(e[Gt])){t!==e[Gt]&&GM(t,e);const r=e[os];null!==r&&r.detachView(n)}!function w3(n){EC.delete(n[Bo])}(e)}}function SC(n,e,t){return function WM(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[mn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===zr.None||s===zr.Emulated)return null}return Er(r,t)}}(n,e.parent,t)}function fu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function KM(n,e,t){n.appendChild(e,t)}function ZM(n,e,t,r,i){null!==r?fu(n,e,t,r,i):KM(n,e,t)}function yy(n,e){return n.parentNode(e)}function QM(n,e,t){return JM(n,e,t)}let PC,wy,xC,by,JM=function YM(n,e,t){return 40&n.type?Er(n,t):null};function vy(n,e,t,r){const i=SC(n,r,e),s=e[qe],a=QM(r.parent||e[vr],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)ZM(s,i,t[c],a,!1);else ZM(s,i,t,a,!1);void 0!==PC&&PC(s,r,e,t,i)}function Xf(n,e){if(null!==e){const t=e.type;if(3&t)return Er(e,n);if(4&t)return MC(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Xf(n,r);{const i=n[e.index];return Or(i)?MC(-1,i):Wt(i)}}if(32&t)return IC(e,n)()||Wt(n[e.index]);{const r=eR(n,e);return null!==r?Array.isArray(r)?r[0]:Xf(Jf(n[cn]),r):Xf(n,e.next)}}return null}function eR(n,e){return null!==e?n[cn][vr].projection[e.projection]:null}function MC(n,e){const t=rr+n+1;if(t<e.length){const r=e[t],i=r[me].firstChild;if(null!==i)return Xf(r,i)}return e[Si]}function RC(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&Jr(Wt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)RC(n,e,t.child,r,i,s,!1),Xl(e,n,i,a,s);else if(32&c){const l=IC(t,r);let f;for(;f=l();)Xl(e,n,i,f,s);Xl(e,n,i,a,s)}else 16&c?nR(n,e,r,t,i,s):Xl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ep(n,e,t,r,i,s){RC(t,r,n.firstChild,e,i,s,!1)}function nR(n,e,t,r,i,s){const o=t[cn],c=o[vr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Xl(e,n,i,c[l],s);else{let l=c;const f=o[Gt];fy(r)&&(l.flags|=128),RC(n,e,l,f,i,s,!0)}}function rR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function iR(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&_l(n,e,r),null!==i&&rR(n,e,i),null!==s&&function z3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function ed(n){return function OC(){if(void 0===wy&&(wy=null,qt.trustedTypes))try{wy=qt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wy}()?.createHTML(n)||n}function td(){if(void 0!==xC)return xC;if(typeof document<"u")return document;throw new w(210,!1)}function NC(){if(void 0===by&&(by=null,qt.trustedTypes))try{by=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return by}function sR(n){return NC()?.createHTML(n)||n}function aR(n){return NC()?.createScriptURL(n)||n}class pu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${k})`}}class Z3 extends pu{getTypeName(){return"HTML"}}class Q3 extends pu{getTypeName(){return"Style"}}class Y3 extends pu{getTypeName(){return"Script"}}class J3 extends pu{getTypeName(){return"URL"}}class X3 extends pu{getTypeName(){return"ResourceURL"}}function qi(n){return n instanceof pu?n.changingThisBreaksApplicationSecurity:n}function so(n,e){const t=function e4(n){return n instanceof pu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${k})`)}return t===e}class o4{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ed(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class a4{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=ed(e),t}}const u4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cy(n){return(n=String(n)).match(u4)?n:"unsafe:"+n}function Wo(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function tp(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const uR=Wo("area,br,col,hr,img,wbr"),lR=Wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dR=Wo("rp,rt"),kC=tp(uR,tp(lR,Wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tp(dR,Wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tp(dR,lR)),FC=Wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hR=tp(FC,Wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),l4=Wo("script,style,template");class d4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!kC.hasOwnProperty(t))return this.sanitizedSomething=!0,!l4.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!hR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;FC[a]&&(c=Cy(c)),this.buf.push(" ",o,'="',fR(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();kC.hasOwnProperty(t)&&!uR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(fR(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const h4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f4=/([^\#-~ |!])/g;function fR(n){return n.replace(/&/g,"&amp;").replace(h4,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(f4,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Iy;function pR(n,e){let t=null;try{Iy=Iy||function cR(n){const e=new a4(n);return function c4(){try{return!!(new window.DOMParser).parseFromString(ed(""),"text/html")}catch{return!1}}()?new o4(e):e}(n);let r=e?String(e):"";t=Iy.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Iy.getInertBodyElement(r)}while(r!==s);return ed((new d4).sanitizeChildren(LC(t)||t))}finally{if(t){const r=LC(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function LC(n){return"content"in n&&function p4(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ds=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ds||{});function gR(n){const e=np();return e?sR(e.sanitize(ds.HTML,n)||""):so(n,"HTML")?sR(qi(n)):pR(td(),Y(n))}function VC(n){const e=np();return e?e.sanitize(ds.URL,n)||"":so(n,"URL")?qi(n):Cy(Y(n))}function mR(n){const e=np();if(e)return aR(e.sanitize(ds.RESOURCE_URL,n)||"");if(so(n,"ResourceURL"))return aR(qi(n));throw new w(904,!1)}function np(){const n=X();return n&&n[Js].sanitizer}const rp=new ae("ENVIRONMENT_INITIALIZER"),yR=new ae("INJECTOR",-1),vR=new ae("INJECTOR_DEF_TYPES");class UC{get(e,t=Fo){if(t===Fo){const r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return t}}function E4(...n){return{\u0275providers:ER(0,n),\u0275fromNgModule:!0}}function ER(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Ga(e,o=>{const a=o;Ty(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&wR(i,s),t}function wR(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];jC(i,s=>{e(s,r)})}}function Ty(n,e,t,r){if(!(n=Fe(n)))return!1;let i=null,s=Bc(n);const o=!s&&ct(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=Bc(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Ty(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Ga(s.imports,f=>{Ty(f,e,t,r)&&(l||=[],l.push(f))})}finally{}void 0!==l&&wR(l,e)}if(!a){const l=$o(i)||(()=>new i);e({provide:i,useFactory:l,deps:lt},i),e({provide:vR,useValue:i,multi:!0},i),e({provide:rp,useValue:()=>W(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=n;jC(c,f=>{e(f,l)})}}}return i!==n&&void 0!==n.providers}function jC(n,e){for(let t of n)ko(t)&&(t=t.\u0275providers),Array.isArray(t)?jC(t,e):e(t)}const w4=ye({provide:String,useValue:ye});function $C(n){return null!==n&&"object"==typeof n&&w4 in n}function gu(n){return"function"==typeof n}const HC=new ae("Set Injector scope."),Dy={},C4={};let zC;function Ay(){return void 0===zC&&(zC=new UC),zC}class Gi{}class nd extends Gi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,GC(e,o=>this.processProvider(o)),this.records.set(yR,rd(void 0,this)),i.has("environment")&&this.records.set(Gi,rd(void 0,this));const s=this.records.get(HC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vR.multi,lt,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=is(this),r=mr(void 0);try{return e()}finally{is(t),mr(r)}}get(e,t=Fo,r=at.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Km))return e[Km](this);r=pl(r);const s=is(this),o=mr(void 0);try{if(!(r&at.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function S4(n){return"function"==typeof n||"object"==typeof n&&n instanceof ae}(e)&&Ia(e);c=l&&this.injectableDefInScope(l)?rd(qC(e),Dy):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&at.Self?Ay():this.parent).get(e,t=r&at.Optional&&t===Fo?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Aa]=a[Aa]||[]).unshift(Nt(e)),s)throw a;return function Db(n,e,t,r){const i=n[Aa];throw e[Gm]&&i.unshift(e[Gm]),n.message=function Ab(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Nt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Ms,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Aa]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{mr(o),is(s)}}resolveInjectorInitializers(){const e=is(this),t=mr(void 0);try{const i=this.get(rp.multi,lt,at.Self);for(const s of i)s()}finally{is(e),mr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(e){let t=gu(e=Fe(e))?e:Fe(e&&e.provide);const r=function T4(n){return $C(n)?rd(void 0,n.useValue):rd(IR(n),Dy)}(e);if(gu(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=rd(void 0,Dy,!0),i.factory=()=>Hh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Dy&&(t.value=C4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function A4(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Fe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function qC(n){const e=Ia(n),t=null!==e?e.factory:$o(n);if(null!==t)return t;if(n instanceof ae)throw new w(204,!1);if(n instanceof Function)return function I4(n){const e=n.length;if(e>0)throw Wa(e,"?"),new w(204,!1);const t=function Lm(n){return n&&(n[hl]||n[Vm])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new w(204,!1)}function IR(n,e,t){let r;if(gu(n)){const i=Fe(n);return $o(i)||qC(i)}if($C(n))r=()=>Fe(n.useValue);else if(function CR(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Hh(n.deps||[]));else if(function bR(n){return!(!n||!n.useExisting)}(n))r=()=>W(Fe(n.useExisting));else{const i=Fe(n&&(n.useClass||n.provide));if(!function D4(n){return!!n.deps}(n))return $o(i)||qC(i);r=()=>new i(...Hh(n.deps))}return r}function rd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function GC(n,e){for(const t of n)Array.isArray(t)?GC(t,e):t&&ko(t)?GC(t.\u0275providers,e):e(t)}const Sy=new ae("AppId",{providedIn:"root",factory:()=>P4}),P4="ng",TR=new ae("Platform Initializer"),hs=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),DR=new ae("AnimationModuleType"),AR=new ae("CSP nonce",{providedIn:"root",factory:()=>td().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let SR=(n,e,t)=>null;function eI(n,e,t=!1){return SR(n,e,t)}class U4{}class RR{}class j4{resolveComponentFactory(e){throw function B4(n){const e=Error(`No component factory found for ${Nt(n)}.`);return e.ngComponent=n,e}(e)}}let op=(()=>{class n{static#e=this.NULL=new j4}return n})();function $4(){return od(Vn(),X())}function od(n,e){return new cr(Er(n,e))}let cr=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=$4}return n})();function H4(n){return n instanceof cr?n.nativeElement:n}class mu{}let fs=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function z4(){const n=X(),t=Ln(Vn().index,n);return(Gr(t)?t:n)[qe]}()}return n})(),q4=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>null})}return n})();class ad{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const xR=new ad("16.2.12"),rI={};function LR(n,e=null,t=null,r){const i=VR(n,e,t,r);return i.resolveInjectorInitializers(),i}function VR(n,e=null,t=null,r,i=new Set){const s=[t||lt,E4(n)];return r=r||("object"==typeof n?void 0:Nt(n)),new nd(s,e||Ay(),r||null,i)}let Nr=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Fo;static#t=this.NULL=new UC;static create(t,r){if(Array.isArray(t))return LR({name:""},r,t,"");{const i=t.name??"";return LR({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=le({token:n,providedIn:"any",factory:()=>W(yR)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function sI(n){return n.ngOriginalError}class Ko{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sI(e);for(;t&&sI(t);)t=sI(t);return t||null}}function aI(n){return e=>{setTimeout(n,void 0,e)}}const Et=class J4 extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=aI(s),i&&(i=aI(i)),o&&(o=aI(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof _t&&e.add(a),a}};function BR(...n){}class yt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Et(!1),this.onMicrotaskEmpty=new Et(!1),this.onStable=new Et(!1),this.onError=new Et(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function X4(){const n="function"==typeof qt.requestAnimationFrame;let e=qt[n?"requestAnimationFrame":"setTimeout"],t=qt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function nz(n){const e=()=>{!function tz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,uI(n),n.isCheckStableRunning=!0,cI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),uI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function iz(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return jR(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),$R(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return jR(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),$R(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,uI(n),cI(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yt.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(yt.isInAngularZone())throw new w(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ez,BR,BR);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const ez={};function cI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function uI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function jR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function $R(n){n._nesting--,cI(n)}class rz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Et,this.onMicrotaskEmpty=new Et,this.onStable=new Et,this.onError=new Et}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const HR=new ae("",{providedIn:"root",factory:zR});function zR(){const n=fe(yt);let e=!0;return Q(new ot(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ot(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{yt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{yt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(xe()))}function lI(n){return n.ownerDocument.defaultView}function Zo(n){return n instanceof Function?n():n}let dI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function ap(n){for(;n;){n[We]|=64;const e=Jf(n);if(Yc(n)&&!e)return n;n=e}return null}const ZR=new ae("",{providedIn:"root",factory:()=>!1});let ky=null;function XR(n,e){return n[e]??nO()}function eO(n,e){const t=nO();t.producerNode?.length&&(n[e]=ky,t.lView=n,ky=tO())}const fz={...o_,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ap(n.lView)},lView:null};function tO(){return Object.create(fz)}function nO(){return ky??=tO(),ky}const Ye={};function Te(n){rO(ht(),X(),xr()+n,!1)}function rO(n,e,t,r){if(!r)if(3==(3&e[We])){const s=n.preOrderCheckHooks;null!==s&&Bl(e,s,t)}else{const s=n.preOrderHooks;null!==s&&jl(e,s,0,t)}zo(t)}function $(n,e=at.Default){const t=X();return null===t?W(n,e):zl(Vn(),t,Fe(n),e)}function Fy(n,e,t,r,i,s,o,a,c,l,f){const g=e.blueprint.slice();return g[mn]=i,g[We]=140|r,(null!==l||n&&2048&n[We])&&(g[We]|=2048),xl(g),g[Gt]=g[Pa]=n,g[Tn]=t,g[Js]=o||n&&n[Js],g[qe]=a||n&&n[qe],g[Ys]=c||n&&n[Ys]||null,g[vr]=s,g[Bo]=function v3(){return y3++}(),g[Ns]=f,g[r_]=l,g[cn]=2==e.type?n[cn]:g,g}function ld(n,e,t,r,i){let s=n.data[e];if(null===s)s=function hI(n,e,t,r,i){const s=R_(),o=Ef(),c=n.data[e]=function wz(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ka()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,r,i),function O_(){return Le.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ou(){const n=Le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Mi(s,!0),s}function cp(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function sO(n,e,t,r,i){const s=XR(e,jo),o=xr(),a=2&r;try{zo(-1),a&&e.length>rt&&rO(n,e,rt,!1),Pi(a?2:0,i);const l=a?s:null,f=Jc(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{uf(l,f)}}finally{a&&null===e[jo]&&eO(e,jo),zo(o),Pi(a?3:1,i)}}function fI(n,e,t){if(rf(e)){const r=Fn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Fn(r)}}}function pI(n,e,t){M_()&&(function Sz(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Ra(t)&&function kz(n,e,t){const r=Er(e,n),i=oO(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Ly(n,Fy(n,i,null,o,r,e,null,n[Js].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ls(t,e),Jr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],l=Go(e,n,a,t);Jr(l,e),null!==o&&Fz(0,a-i,l,c,0,o),cs(c)&&(Ln(t.index,e)[Tn]=Go(e,n,a,t))}}(n,e,t,Er(t,e)),64==(64&t.flags)&&dO(n,e,t))}function gI(n,e,t=Er){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function oO(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=mI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function mI(n,e,t,r,i,s,o,a,c,l,f){const g=rt+r,m=g+i,y=function gz(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ye);return t}(g,m),E="function"==typeof l?l():l;return y[me]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:f}}let aO=n=>null;function cO(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?uO(t,e,i,s):r.hasOwnProperty(i)&&uO(t,e,r[i],s)}return t}function uO(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function _I(n,e,t,r){if(M_()){const i=null===r?null:{"":-1},s=function Mz(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(vl(e,o.selectors,!1))if(r||(r=[]),cs(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),yI(n,e,a.length)}else r.unshift(o),yI(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&lO(n,e,t,o,i,a),i&&function Rz(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new w(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=_r(t.mergedAttrs,t.attrs)}function lO(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Ff(ls(t,e),n,r[l].type);!function xz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,c=cp(n,e,r.length,null);for(let l=0;l<r.length;l++){const f=r[l];t.mergedAttrs=_r(t.mergedAttrs,f.hostAttrs),Nz(n,t,e,c,f),Oz(c,f,i),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function bz(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,l=null;for(let f=e.directiveStart;f<i;f++){const g=s[f],m=t?t.get(g):null,E=m?m.outputs:null;c=cO(g.inputs,f,c,m?m.inputs:null),l=cO(g.outputs,f,l,E);const C=null===c||null===o||Wc(e)?null:Lz(c,f,o);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,s)}function dO(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function Kb(){return Le.lFrame.currentDirectiveIndex}();try{zo(s);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];Fl(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Pz(c,l)}}finally{zo(-1),Fl(o)}}function Pz(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function yI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Oz(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;cs(e)&&(t[""]=n)}}function Nz(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=$o(i.type)),o=new qo(s,cs(i),$);n.blueprint[r]=o,t[r]=o,function Dz(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function Az(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,cp(n,t,i.hostVars,Ye),i)}function oo(n,e,t,r,i,s){const o=Er(n,e);!function vI(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Y(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[qe],o,s,n.value,t,r,i)}function Fz(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)hO(r,t,o[a++],o[a++],o[a++])}function hO(n,e,t,r,i){const s=Fn(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Fn(s)}}function Lz(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function fO(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function pO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Tf(t[r]),o.contentQueries(2,e[s],s)}}}function Ly(n,e){return n[Kc]?n[Tl][$i]=e:n[Kc]=e,n[Tl]=e,e}function EI(n,e,t){Tf(0);const r=Fn(null);try{e(n,t)}finally{Fn(r)}}function gO(n){return n[Qs]||(n[Qs]=[])}function mO(n){return n.cleanup||(n.cleanup=[])}function yO(n,e){const t=n[Ys],r=t?t.get(Ko,null):null;r&&r.handleError(e)}function wI(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];hO(n.data[o],e[o],r,a,i)}}function Vz(n,e){const t=Ln(e,n),r=t[me];!function Uz(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[mn];null!==i&&null===t[Ns]&&(t[Ns]=eI(i,t[Ys])),bI(r,t,t[Tn])}function bI(n,e,t){Df(e);try{const r=n.viewQuery;null!==r&&EI(1,r,t);const i=n.template;null!==i&&sO(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&pO(n,e),n.staticViewQueries&&EI(2,n.viewQuery,t);const s=n.components;null!==s&&function Bz(n,e){for(let t=0;t<e.length;t++)Vz(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[We]&=-5,Sf()}}let vO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function Fb(n,e,t){const r=Object.create(Lb);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>u_(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Pl(r))return;r.hasRun=!0;const o=Jc(r);try{r.cleanupFn(),r.cleanupFn=y_,r.fn(i)}finally{uf(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}return n})();function Vy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Zs(i,a):2==s&&(r=Zs(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function up(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Wt(s)),Or(s)&&EO(s,r);const o=t.type;if(8&o)up(n,e,t.child,r);else if(32&o){const a=IC(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=eR(e,t);if(Array.isArray(a))r.push(...a);else{const c=Jf(e[cn]);up(c[me],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function EO(n,e){for(let t=rr;t<n.length;t++){const r=n[t],i=r[me].firstChild;null!==i&&up(r[me],r,i,e)}n[Si]!==n[mn]&&e.push(n[Si])}function Uy(n,e,t,r=!0){const i=e[Js],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{wO(n,e,n.template,t)}catch(c){throw r&&yO(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function wO(n,e,t,r){const i=e[We];if(256!=(256&i)){e[Js].effectManager?.flush(),Df(e);try{xl(e),function Cf(n){return Le.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&sO(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&Bl(e,l,null)}else{const l=n.preOrderHooks;null!==l&&jl(e,l,0,null),Mf(e,0)}if(function Hz(n){for(let e=$M(n);null!==e;e=HM(e)){if(!e[nf])continue;const t=e[Hi];for(let r=0;r<t.length;r++){T_(t[r])}}}(e),bO(e,2),null!==n.contentQueries&&pO(n,e),o){const l=n.contentCheckHooks;null!==l&&Bl(e,l)}else{const l=n.contentHooks;null!==l&&jl(e,l,1),Mf(e,1)}!function pz(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=XR(e,Qc);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)zo(~s);else{const o=s,a=t[++i],c=t[++i];x_(a,o),r.dirty=!1;const l=Jc(r);try{c(2,e[o])}finally{uf(r,l)}}}}finally{null===e[Qc]&&eO(e,Qc),zo(-1)}}(n,e);const a=n.components;null!==a&&IO(e,a,0);const c=n.viewQuery;if(null!==c&&EI(2,c,r),o){const l=n.viewCheckHooks;null!==l&&Bl(e,l)}else{const l=n.viewHooks;null!==l&&jl(e,l,2),Mf(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[We]&=-73,D_(e)}finally{Sf()}}}function bO(n,e){for(let t=$M(n);null!==t;t=HM(t))for(let r=rr;r<t.length;r++)CO(t[r],e)}function zz(n,e,t){CO(Ln(e,n),t)}function CO(n,e){if(!function Hb(n){return 128==(128&n[We])}(n))return;const t=n[me],r=n[We];if(80&r&&0===e||1024&r||2===e)wO(t,n,t.template,n[Tn]);else if(n[Uo]>0){bO(n,1);const i=t.components;null!==i&&IO(n,i,1)}}function IO(n,e,t){for(let r=0;r<e.length;r++)zz(n,e[r],t)}class lp{get rootNodes(){const e=this._lView,t=e[me];return up(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(e){this._lView[Tn]=e}get destroyed(){return 256==(256&this._lView[We])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Gt];if(Or(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(_y(e,r),io(t,r))}this._attachedToViewContainer=!1}DC(this._lView[me],this._lView)}onDestroy(e){!function Nl(n,e){if(256==(256&n[We]))throw new w(911,!1);null===n[as]&&(n[as]=[]),n[as].push(e)}(this._lView,e)}markForCheck(){ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[We]&=-129}reattach(){this._lView[We]|=128}detectChanges(){Uy(this._lView[me],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function x3(n,e){ep(n,e,e[qe],2,null,null)}(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=e}}class qz extends lp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Uy(e[me],e,e[Tn],!1)}checkNoChanges(){}get context(){return null}}class TO extends op{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ct(e);return new dp(t,this.ngModule)}}function DO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Wz{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=pl(r);const i=this.injector.get(e,rI,r);return i!==rI||t===rI?i:this.parentInjector.get(e,t,r)}}class dp extends RR{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=DO(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return DO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Jh(n){return n.map(Xm).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Gi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Wz(e,s):e,a=o.get(mu,null);if(null===a)throw new w(407,!1);const g={rendererFactory:a,sanitizer:o.get(q4,null),effectManager:o.get(vO,null),afterRenderEventManager:o.get(dI,null)},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",E=r?function mz(n,e,t,r){const s=r.get(ZR,!1)||t===zr.ShadowDom,o=n.selectRootElement(e,s);return function _z(n){aO(n)}(o),o}(m,r,this.componentDef.encapsulation,o):my(m,y,function Gz(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let P=null;null!==E&&(P=eI(E,o,!0));const x=mI(0,null,null,1,0,null,null,null,null,null,null),q=Fy(null,x,null,M,null,null,g,m,o,null,P);let ue,Me;Df(q);try{const He=this.componentDef;let xt,Ci=null;He.findHostDirectiveDefs?(xt=[],Ci=new Map,He.findHostDirectiveDefs(He,xt,Ci),xt.push(He)):xt=[He];const Ui=function Zz(n,e){const t=n[me],r=rt;return n[r]=e,ld(t,r,2,"#host",null)}(q,E),pb=function Qz(n,e,t,r,i,s,o){const a=i[me];!function Yz(n,e,t,r){for(const i of n)e.mergedAttrs=_r(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Vy(e,e.mergedAttrs,!0),null!==t&&iR(r,t,e))}(r,n,e,o);let c=null;null!==e&&(c=eI(e,i[Ys]));const l=s.rendererFactory.createRenderer(e,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const g=Fy(i,oO(t),null,f,i[n.index],n,s,l,null,null,c);return a.firstCreatePass&&yI(a,n,r.length-1),Ly(i,g),i[n.index]=g}(Ui,E,He,xt,q,g,m);Me=Ol(x,rt),E&&function Xz(n,e,t,r){if(r)_l(n,t,["ng-version",xR.full]);else{const{attrs:i,classes:s}=function bl(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ji(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&_l(n,t,i),s&&s.length>0&&rR(n,t,s.join(" "))}}(m,He,E,r),void 0!==t&&function e5(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(Me,this.ngContentSelectors,t),ue=function Jz(n,e,t,r,i,s){const o=Vn(),a=i[me],c=Er(o,i);lO(a,i,o,t,null,r);for(let f=0;f<t.length;f++)Jr(Go(i,a,o.directiveStart+f,o),i);dO(a,i,o),c&&Jr(c,i);const l=Go(i,a,o.directiveStart+o.componentOffset,o);if(n[Tn]=i[Tn]=l,null!==s)for(const f of s)f(l,e);return fI(a,o,n),l}(pb,He,xt,Ci,q,[t5]),bI(x,q,null)}finally{Sf()}return new Kz(this.componentType,ue,od(Me,q),q,Me)}}class Kz extends U4{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new qz(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;wI(s[me],s,i,e,t),this.previousInputValues.set(e,t),ap(Ln(this._tNode.index,s))}}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function t5(){const n=Vn();Ul(X()[me],n)}function Ft(n){let e=function AO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(cs(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new w(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=By(n.inputs),o.inputTransforms=By(n.inputTransforms),o.declaredInputs=By(n.declaredInputs),o.outputs=By(n.outputs);const a=i.hostBindings;a&&s5(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&r5(n,c),l&&i5(n,l),gn(n.inputs,i.inputs),gn(n.declaredInputs,i.declaredInputs),gn(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),gn(o.inputTransforms,i.inputTransforms)),cs(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ft&&(t=!1)}}e=Object.getPrototypeOf(e)}!function n5(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_r(i.hostAttrs,t=_r(t,i.hostAttrs))}}(r)}function By(n){return n===Gn?{}:n===lt?[]:n}function r5(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function i5(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function s5(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function RO(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function jy(n){return!!CI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function CI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ao(n,e,t){return n[e]=t}function Xr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function gs(n,e,t,r){const i=X();return Xr(i,no(),e)&&(ht(),oo(un(),i,n,e,t,r)),gs}function it(n,e,t,r,i,s,o,a){const c=X(),l=ht(),f=n+rt,g=l.firstCreatePass?function M5(n,e,t,r,i,s,o,a,c){const l=e.consts,f=ld(e,n,4,o||null,to(l,a));_I(e,t,f,to(l,c)),Ul(e,f);const g=f.tView=mI(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}(f,l,c,e,t,r,i,s,o):l.data[f];Mi(g,!1);const m=zO(l,c,g,n);Vl()&&vy(l,c,m,g),Jr(m,c),Ly(c,c[f]=fO(m,c,m,g)),sf(g)&&pI(l,c,g),null!=o&&gI(c,g,a)}let zO=function qO(n,e,t,r){return ro(!0),e[qe].createComment("")};function Gy(n){return us(function bf(){return Le.lFrame.contextLView}(),rt+n)}function De(n,e,t){const r=X();return Xr(r,no(),e)&&function Wi(n,e,t,r,i,s,o,a){const c=Er(e,t);let f,l=e.inputs;!a&&null!=l&&(f=l[r])?(wI(n,t,f,r,i),Ra(e)&&function Iz(n,e){const t=Ln(e,n);16&t[We]||(t[We]|=64)}(t,e.index)):3&e.type&&(r=function Cz(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}(ht(),un(),r,n,e,r[qe],t,!1),De}function PI(n,e,t,r,i){const o=i?"class":"style";wI(n,t,e.inputs[o],o,r)}function ne(n,e,t,r){const i=X(),s=ht(),o=rt+n,a=i[qe],c=s.firstCreatePass?function N5(n,e,t,r,i,s){const o=e.consts,c=ld(e,n,2,r,to(o,i));return _I(e,t,c,to(o,s)),null!==c.attrs&&Vy(c,c.attrs,!1),null!==c.mergedAttrs&&Vy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],l=GO(s,i,c,a,e,n);i[o]=l;const f=sf(c);return Mi(c,!0),iR(a,l,c),32!=(32&c.flags)&&Vl()&&vy(s,i,l,c),0===function gf(){return Le.lFrame.elementDepthCount}()&&Jr(l,i),function Gb(){Le.lFrame.elementDepthCount++}(),f&&(pI(s,i,c),fI(s,c,i)),null!==r&&gI(i,c),ne}function ie(){let n=Vn();Ef()?wf():(n=n.parent,Mi(n,!1));const e=n;(function mf(n){return Le.skipHydrationRootTNode===n})(e)&&function vf(){Le.skipHydrationRootTNode=null}(),function su(){Le.lFrame.elementDepthCount--}();const t=ht();return t.firstCreatePass&&(Ul(t,n),rf(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function rC(n){return 0!=(8&n.flags)}(e)&&PI(t,e,X(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function EM(n){return 0!=(16&n.flags)}(e)&&PI(t,e,X(),e.stylesWithoutHost,!1),ie}function wt(n,e,t,r){return ne(n,e,t,r),ie(),wt}let GO=(n,e,t,r,i,s)=>(ro(!0),my(r,i,function L_(){return Le.lFrame.currentNamespace}()));function Wy(n,e,t){const r=X(),i=ht(),s=n+rt,o=i.firstCreatePass?function L5(n,e,t,r,i){const s=e.consts,o=to(s,r),a=ld(e,n,8,"ng-container",o);return null!==o&&Vy(a,o,!0),_I(e,t,a,to(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Mi(o,!0);const a=WO(i,r,o,n);return r[s]=a,Vl()&&vy(i,r,a,o),Jr(a,r),sf(o)&&(pI(i,r,o),fI(i,o,r)),null!=t&&gI(r,o),Wy}function Ky(){let n=Vn();const e=ht();return Ef()?wf():(n=n.parent,Mi(n,!1)),e.firstCreatePass&&(Ul(e,n),rf(n)&&e.queries.elementEnd(n)),Ky}function Zy(n,e,t){return Wy(n,e,t),Ky(),Zy}let WO=(n,e,t,r)=>(ro(!0),TC(e[qe],""));function Ki(){return X()}function mp(n){return!!n&&"function"==typeof n.then}function KO(n){return!!n&&"function"==typeof n.subscribe}function pt(n,e,t,r){const i=X(),s=ht(),o=Vn();return function QO(n,e,t,r,i,s,o){const a=sf(r),l=n.firstCreatePass&&mO(n),f=e[Tn],g=gO(e);let m=!0;if(3&r.type||o){const C=Er(r,e),I=o?o(C):C,M=g.length,P=o?q=>o(Wt(q[r.index])):r.index;let x=null;if(!o&&a&&(x=function B5(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Qs],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,m=!1;else{s=JO(r,e,f,s,!1);const q=t.listen(I,i,s);g.push(s,q),l&&l.push(i,P,M,M+1)}}else s=JO(r,e,f,s,!1);const y=r.outputs;let E;if(m&&null!==y&&(E=y[i])){const C=E.length;if(C)for(let I=0;I<C;I+=2){const ue=e[E[I]][E[I+1]].subscribe(s),Me=g.length;g.push(s,ue),l&&l.push(i,r.index,Me,-(Me+1))}}}(s,i,i[qe],o,n,e,r),pt}function YO(n,e,t,r){try{return Pi(6,e,t),!1!==t(r)}catch(i){return yO(n,i),!1}finally{Pi(7,e,t)}}function JO(n,e,t,r,i){return function s(o){if(o===Function)return r;ap(n.componentOffset>-1?Ln(n.index,e):e);let c=YO(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)c=YO(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Lt(n=1){return function Qb(n){return(Le.lFrame.contextLView=function Yb(n,e){for(;n>0;)e=e[Pa],n--;return e}(n,Le.lFrame.contextLView))[Tn]}(n)}function j5(n,e){let t=null;const r=function Qh(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?vl(n,s,!0):Jm(r,s))return i}else t=i}return t}function MI(n){const e=X()[cn][vr];if(!e.projection){const r=e.projection=Wa(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?j5(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function RI(n,e=0,t){const r=X(),i=ht(),s=ld(i,rt+n,16,null,t||null);null===s.projection&&(s.projection=e),wf(),(!r[Ns]||ka())&&32!=(32&s.flags)&&function j3(n,e,t){nR(e[qe],0,e,t,SC(n,t,e),QM(t.parent||e[vr],t,e))}(i,r,s)}function Qy(n,e){return n<<17|e<<2}function Qa(n){return n>>17&32767}function xI(n){return 2|n}function yu(n){return(131068&n)>>2}function NI(n,e){return-131069&n|e<<2}function kI(n){return 1|n}function cx(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Qa(s):yu(s),c=!1;for(;0!==a&&(!1===c||o);){const f=n[a+1];W5(n[a],e)&&(c=!0,n[a+1]=r?kI(f):xI(f)),a=r?Qa(f):yu(f)}c&&(n[t+1]=r?xI(s):kI(s))}function W5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&hi(n,e)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ux(n){return n.substring(ur.key,ur.keyEnd)}function lx(n,e){const t=ur.textEnd;return t===e?-1:(e=ur.keyEnd=function Y5(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ur.key=e,t),Ed(n,e,t))}function Ed(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ya(n,e,t){return Bs(n,e,t,!1),Ya}function Us(n,e){return Bs(n,e,null,!0),Us}function _p(n){!function js(n,e,t,r){const i=ht(),s=Fs(2);i.firstUpdatePass&&mx(i,null,s,r);const o=X();if(t!==Ye&&Xr(o,s,t)){const a=i.data[xr()];if(Ex(a,r)&&!gx(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Zs(c,t||"")),PI(i,a,o,t,r)}else!function a9(n,e,t,r,i,s,o,a){i===Ye&&(i=lt);let c=0,l=0,f=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==f||null!==g;){const m=c<i.length?i[c+1]:void 0,y=l<s.length?s[l+1]:void 0;let C,E=null;f===g?(c+=2,l+=2,m!==y&&(E=g,C=y)):null===g||null!==f&&f<g?(c+=2,E=f):(l+=2,E=g,C=y),null!==E&&yx(n,e,t,r,E,C,o,a),f=c<i.length?i[c]:null,g=l<s.length?s[l]:null}}(i,a,o,o[qe],o[s+1],o[s+1]=function s9(n,e,t){if(null==t||""===t)return lt;const r=[],i=qi(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(o9,uo,n,!0)}function uo(n,e){for(let t=function Z5(n){return function hx(n){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=n.length}(n),lx(n,Ed(n,0,ur.textEnd))}(e);t>=0;t=lx(e,t))Qr(n,ux(e),!0)}function Bs(n,e,t,r){const i=X(),s=ht(),o=Fs(2);s.firstUpdatePass&&mx(s,n,o,r),e!==Ye&&Xr(i,o,e)&&yx(s,s.data[xr()],i,i[qe],n,i[o+1]=function c9(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Nt(qi(n)))),n}(e,t),r,o)}function gx(n,e){return e>=n.expandoStartIndex}function mx(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[xr()],o=gx(n,t);Ex(s,r)&&null===e&&!o&&(e=!1),e=function t9(n,e,t,r){const i=function au(n){const e=Le.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=yp(t=FI(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=FI(i,n,e,t,r),null===s){let c=function n9(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==yu(r))return n[Qa(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=FI(null,n,e,c[1],r),c=yp(c,e.attrs,r),function r9(n,e,t,r){n[Qa(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function i9(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=yp(r,n[s].hostAttrs,t);return yp(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function q5(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qa(o),c=yu(o);n[r]=t;let f,l=!1;if(Array.isArray(t)?(f=t[1],(null===f||hi(t,f)>0)&&(l=!0)):f=t,i)if(0!==c){const m=Qa(n[a+1]);n[r+1]=Qy(m,a),0!==m&&(n[m+1]=NI(n[m+1],r)),n[a+1]=function H5(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Qy(a,0),0!==a&&(n[a+1]=NI(n[a+1],r)),a=r;else n[r+1]=Qy(c,0),0===a?a=r:n[c+1]=NI(n[c+1],r),c=r;l&&(n[r+1]=xI(n[r+1])),cx(n,f,r,!0),cx(n,f,r,!1),function G5(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&hi(s,e)>=0&&(t[r+1]=kI(t[r+1]))}(e,f,n,r,s),o=Qy(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function FI(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=yp(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function yp(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Qr(n,o,!!t||e[++s]))}return void 0===n?null:n}function o9(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Qr(n,r,t)}function yx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],f=function z5(n){return 1==(1&n)}(l)?vx(c,e,t,i,yu(l),o):void 0;Yy(f)||(Yy(s)||function $5(n){return 2==(2&n)}(l)&&(s=vx(c,null,t,i,a,o)),function H3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Za.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Za.Important),n.setStyle(t,r,i,s))}}(r,o,Ho(xr(),t),i,s))}function vx(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),f=l?c[1]:c,g=null===f;let m=t[i+1];m===Ye&&(m=g?lt:void 0);let y=g?jf(m,r):f===r?m:void 0;if(l&&!Yy(y)&&(y=jf(c,r)),Yy(y)&&(a=y,o))return a;const E=n[i+1];i=o?Qa(E):yu(E)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=jf(c,r))}return a}function Yy(n){return void 0!==n}function Ex(n,e){return 0!=(n.flags&(e?8:16))}function Ae(n,e=""){const t=X(),r=ht(),i=n+rt,s=r.firstCreatePass?ld(r,i,1,e,null):r.data[i],o=wx(r,t,s,e,n);t[i]=o,Vl()&&vy(r,t,o,s),Mi(s,!1)}let wx=(n,e,t,r,i)=>(ro(!0),function gy(n,e){return n.createText(e)}(e[qe],r));function fi(n){return Jy("",n,""),fi}function Jy(n,e,t){const r=X(),i=function hd(n,e,t,r){return Xr(n,no(),t)?e+Y(t)+r:Ye}(r,n,e,t);return i!==Ye&&function Qo(n,e,t){const r=Ho(e,n);!function qM(n,e,t){n.setValue(e,t)}(n[qe],r,t)}(r,xr(),i),Jy}const bd="en-US";let Hx=bd;function UI(n,e,t,r,i){if(n=Fe(n),Array.isArray(n))for(let s=0;s<n.length;s++)UI(n[s],e,t,r,i);else{const s=ht(),o=X(),a=Vn();let c=gu(n)?n:Fe(n.provide);const l=IR(n),f=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(gu(n)||!n.multi){const y=new qo(l,i,$),E=jI(c,e,i?f:f+m,g);-1===E?(Ff(ls(a,o),s,c),BI(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[E]=y,o[E]=y)}else{const y=jI(c,e,f+m,g),E=jI(c,e,f,f+m),I=E>=0&&t[E];if(i&&!I||!i&&!(y>=0&&t[y])){Ff(ls(a,o),s,c);const M=function Pq(n,e,t,r,i){const s=new qo(n,t,$);return s.multi=[],s.index=e,s.componentProviders=0,g1(s,i,r&&!t),s}(i?Sq:Aq,t.length,i,r,l);!i&&I&&(t[E].providerFactory=M),BI(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),o.push(M)}else BI(s,n,y>-1?y:E,g1(t[i?E:y],l,!i&&r));!i&&r&&I&&t[E].componentProviders++}}}function BI(n,e,t,r){const i=gu(e),s=function b4(n){return!!n.useClass}(e);if(i||s){const c=(s?Fe(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=l.indexOf(t);-1===f?l.push(t,[r,c]):l[f+1].push(r,c)}else l.push(t,c)}}}function g1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function jI(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Aq(n,e,t,r){return $I(this.multi,[])}function Sq(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Go(t,t[me],this.providerFactory.index,r);s=a.slice(0,o),$I(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],$I(i,s);return s}function $I(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function yn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Dq(n,e,t){const r=ht();if(r.firstCreatePass){const i=cs(n);UI(t,r.data,r.blueprint,i,!0),UI(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Eu{}class m1{}class HI extends Eu{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TO(this);const i=Rr(e);this._bootstrapComponents=Zo(i.bootstrap),this._r3Injector=VR(e,t,[{provide:Eu,useValue:this},{provide:op,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zI extends m1{constructor(e){super(),this.moduleType=e}create(e){return new HI(this.moduleType,e,[])}}class _1 extends Eu{constructor(e){super(),this.componentFactoryResolver=new TO(this),this.instance=null;const t=new nd([...e.providers,{provide:Eu,useValue:this},{provide:op,useValue:this.componentFactoryResolver}],e.parent||Ay(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function qI(n,e,t=null){return new _1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Oq=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=ER(0,t.type),i=r.length>0?qI([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=le({token:n,providedIn:"environment",factory:()=>new n(W(Gi))})}return n})();function y1(n){n.getStandaloneInjector=e=>e.get(Oq).getOrCreateStandaloneInjector(n)}function gi(n,e,t){const r=Wn()+n,i=X();return i[r]===Ye?ao(i,r,t?e.call(t):e()):function hp(n,e){return n[e]}(i,r)}function WI(n,e,t,r){return T1(X(),Wn(),n,e,t,r)}function T1(n,e,t,r,i,s){const o=e+t;return Xr(n,o,i)?ao(n,o+1,s?r.call(s,i):r(i)):function Ip(n,e){const t=n[e];return t===Ye?void 0:t}(n,o+1)}function R1(n,e,t){const r=n+rt,i=X(),s=us(i,r);return function Tp(n,e){return n[me].data[e].pure}(i,r)?T1(i,Wn(),e,s.transform,t,s):s.transform(t)}function eG(){return this._results[Symbol.iterator]()}class KI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Et)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=KI.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=eG)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Kr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function fC(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nG(n,e,t,r=!0){const i=e[me];if(function k3(n,e,t,r){const i=rr+r,s=t.length;r>0&&(t[i-1][$i]=e),r<s-rr?(e[$i]=t[i],Zr(t,rr+r,e)):(t.push(e),e[$i]=null),e[Gt]=t;const o=e[Zc];null!==o&&t!==o&&function F3(n,e){const t=n[Hi];e[cn]!==e[Gt][Gt][cn]&&(n[nf]=!0),null===t?n[Hi]=[e]:t.push(e)}(o,e);const a=e[os];null!==a&&a.insertView(n),e[We]|=128}(i,e,n,t),r){const s=MC(t,n),o=e[qe],a=yy(o,n[Si]);null!==a&&function O3(n,e,t,r,i,s){r[mn]=i,r[vr]=e,ep(n,r,t,1,i,s)}(i,n[vr],o,e,a,s)}}let lo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=sG}return n})();const rG=lo,iG=class extends rG{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function tG(n,e,t,r){const i=e.tView,a=Fy(n,i,t,4096&n[We]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Zc]=n[e.index];const l=n[os];return null!==l&&(a[os]=l.createEmbeddedView(i)),bI(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new lp(i)}};function sG(){return rv(Vn(),X())}function rv(n,e){return 4&n.type?new iG(e,n,od(n,e)):null}let ms=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=dG}return n})();function dG(){return V1(Vn(),X())}const hG=ms,F1=class extends hG{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ua(this._hostTNode,this._hostLView);if(La(e)){const t=uu(e,this._hostLView),r=Va(e);return new or(t[me].data[r+8],t)}return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=L1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-rr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function qa(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}const c=o?e:new dp(ct(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const I=(o?l:this.parentInjector).get(Gi,null);I&&(s=I)}ct(c.componentType??{});const y=c.create(l,i,null,s);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function zb(n){return Or(n[Gt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Gt],f=new F1(l,l[vr],l[Gt]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return nG(a,i,o,!r),e.attachToViewContainerRef(),Zr(ZI(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=L1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=_y(this._lContainer,t);r&&(io(ZI(this._lContainer),t),DC(r[me],r))}detach(e){const t=this._adjustIndex(e,-1),r=_y(this._lContainer,t);return r&&null!=io(ZI(this._lContainer),t)?new lp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function L1(n){return n[8]}function ZI(n){return n[8]||(n[8]=[])}function V1(n,e){let t;const r=e[n.index];return Or(r)?t=r:(t=fO(r,e,null,n),e[n.index]=t,Ly(e,t)),U1(t,e,n,r),new F1(t,n,e)}let U1=function B1(n,e,t,r){if(n[Si])return;let i;i=8&t.type?Wt(r):function fG(n,e){const t=n[qe],r=t.createComment(""),i=Er(e,n);return fu(t,yy(t,i),r,function B3(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Si]=i};class QI{constructor(e){this.queryList=e,this.matches=null}clone(){return new QI(this.queryList)}setDirty(){this.queryList.setDirty()}}class YI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new YI(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==W1(e,t).matches&&this.queries[t].setDirty()}}class j1{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class JI{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new JI(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class XI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new XI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,mG(t,s)),this.matchTNodeWithReadOption(e,t,Ba(t,e,s,!1,!1))}else r===lo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ba(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===cr||i===ms||i===lo&&4&t.type)this.addMatch(t.index,-2);else{const s=Ba(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function mG(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function yG(n,e,t,r){return-1===t?function _G(n,e){return 11&n.type?od(n,e):4&n.type?rv(n,e):null}(e,n):-2===t?function vG(n,e,t){return t===cr?od(e,n):t===lo?rv(e,n):t===ms?V1(e,n):void 0}(n,e,r):Go(n,n[me],t,e)}function $1(n,e,t,r){const i=e[os].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:yG(e,s[l],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function e0(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=$1(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],f=e[-c];for(let g=rr;g<f.length;g++){const m=f[g];m[Zc]===m[Gt]&&e0(m[me],m,l,r)}if(null!==f[Hi]){const g=f[Hi];for(let m=0;m<g.length;m++){const y=g[m];e0(y[me],y,l,r)}}}}}return r}function t0(n){const e=X(),t=ht(),r=N_();Tf(r+1);const i=W1(t,r);if(n.dirty&&function pf(n){return 4==(4&n[We])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?e0(t,e,r,[]):$1(t,e,i,r);n.reset(s,H4),n.notifyOnChanges()}return!0}return!1}function H1(n,e,t){const r=ht();r.firstCreatePass&&(function G1(n,e,t){null===n.queries&&(n.queries=new JI),n.queries.track(new XI(e,t))}(r,new j1(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function q1(n,e,t){const r=new KI(4==(4&t));(function Ez(n,e,t,r){const i=gO(e);i.push(t),n.firstCreatePass&&mO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[os]&&(e[os]=new YI),e[os].queries.push(new QI(r))}(r,X(),e)}function W1(n,e){return n.queries.getByIndex(e)}function sv(n,e){return rv(n,e)}const u0=new ae("Application Initializer");let l0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=fe(u0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(mp(s))t.push(s);else if(KO(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Yo=new ae("LocaleId",{providedIn:"root",factory:()=>fe(Yo,at.Optional|at.SkipSelf)||function $G(){return typeof $localize<"u"&&$localize.locale||bd}()});let av=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class qG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let dN=(()=>{class n{compileModuleSync(t){return new zI(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Zo(Rr(t).declarations).reduce((o,a)=>{const c=ct(a);return c&&o.push(new dp(c)),o},[]);return new qG(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gN=new ae(""),uv=new ae("");let g0,f0=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,g0||(function f6(n){g0=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(W(yt),W(p0),W(uv))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),p0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return g0?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ja=null;const mN=new ae("AllowMultipleToken"),m0=new ae("PlatformDestroyListeners"),_0=new ae("appBootstrapListener");class yN{constructor(e,t){this.name=e,this.token=t}}function EN(n,e,t=[]){const r=`Platform: ${e}`,i=new ae(r);return(s=[])=>{let o=y0();if(!o||o.injector.get(mN,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function m6(n){if(Ja&&!Ja.get(mN,!1))throw new w(400,!1);(function _N(){!function g_(n){p_=n}(()=>{throw new w(600,!1)})})(),Ja=n;const e=n.get(bN);(function vN(n){n.get(TR,null)?.forEach(t=>t())})(n)}(function wN(n=[],e){return Nr.create({name:e,providers:[{provide:HC,useValue:"platform"},{provide:m0,useValue:new Set([()=>Ja=null])},...n]})}(a,r))}return function y6(n){const e=y0();if(!e)throw new w(401,!1);return e}()}}function y0(){return Ja?.get(bN)??null}let bN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function v6(n="zone.js",e){return"noop"===n?new rz:"zone.js"===n?new yt(e):n}(r?.ngZone,function CN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Rq(n,e,t){return new HI(n,e,t)}(t.moduleType,this.injector,function SN(n){return[{provide:yt,useFactory:n},{provide:rp,multi:!0,useFactory:()=>{const e=fe(w6,{optional:!0});return()=>e.initialize()}},{provide:AN,useFactory:E6},{provide:HR,useFactory:zR}]}(()=>i)),o=s.injector.get(Ko,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{lv(this._modules,s),a.unsubscribe()})}),function IN(n,e,t){try{const r=t();return mp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(l0);return a.runInitializers(),a.donePromise.then(()=>(function zx(n){Ai(n,"Expected localeId to be defined"),"string"==typeof n&&(Hx=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Yo,bd)||bd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=TN({},r);return function p6(n,e,t){const r=new zI(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Xa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new w(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(m0,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(W(Nr))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function TN(n,e){return Array.isArray(e)?e.reduce(TN,n):{...n,...e}}let Xa=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(AN),this.zoneIsStable=fe(HR),this.componentTypes=[],this.components=[],this.isStable=fe(av).hasPendingTasks.pipe(ze(t=>t?H(!1):this.zoneIsStable),Nn(),xe()),this._injector=fe(Gi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof RR;if(!this._injector.get(l0).done)throw!i&&function xs(n){const e=ct(n)||kn(n)||nr(n);return null!==e&&e.standalone}(t),new w(405,!1);let o;o=i?t:this._injector.get(op).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function g6(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Eu),l=o.create(Nr.NULL,[],r||o.selector,a),f=l.location.nativeElement,g=l.injector.get(gN,null);return g?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),lv(this.components,l),g?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;lv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(_0,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>lv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new w(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const AN=new ae("",{providedIn:"root",factory:()=>fe(Ko).handleError.bind(void 0)});function E6(){const n=fe(yt),e=fe(Ko);return t=>n.runOutsideAngular(()=>e.handleError(t))}let w6=(()=>{class n{constructor(){this.zone=fe(yt),this.applicationRef=fe(Xa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Sp=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=C6}return n})();function C6(n){return function I6(n,e,t){if(Ra(n)&&!t){const r=Ln(n.index,e);return new lp(r,r)}return 47&n.type?new lp(e[cn],e):null}(Vn(),X(),16==(16&n))}class xN{constructor(){}supports(e){return jy(e)}create(e){return new M6(e)}}const P6=(n,e)=>e;class M6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||P6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<kN(r,i,s)?t:r,a=kN(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,f=c-i;if(l!=f){for(let m=0;m<l;m++){const y=m<s.length?s[m]:s[m]=0,E=y+m;f<=E&&E<l&&(s[m]=y+1)}s[o.previousIndex]=f-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!jy(e))throw new w(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function h5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new R6(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new NN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class R6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class O6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class NN{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new O6,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kN(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class FN{constructor(){}supports(e){return e instanceof Map||CI(e)}create(){return new x6}}class x6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||CI(e)))throw new w(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new N6(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class N6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LN(){return new fv([new xN])}let fv=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:LN});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||LN()),deps:[[n,new Kl,new Ka]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new w(901,!1)}}return n})();function VN(){return new Pp([new FN])}let Pp=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:VN});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||VN()),deps:[[n,new Kl,new Ka]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new w(901,!1)}}return n})();const L6=EN(null,"core",[]);let V6=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(W(Xa))};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({})}return n})();function Td(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let I0=null;function ec(){return I0}class J6{}const Kn=new ae("DocumentToken");let T0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(e8)},providedIn:"platform"})}return n})();const X6=new ae("Location Initialized");let e8=(()=>{class n extends T0{constructor(){super(),this._doc=fe(Kn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ec().getBaseHref(this._doc)}onPopState(t){const r=ec().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ec().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function D0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function WN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Jo(n){return n&&"?"!==n[0]?"?"+n:n}let bu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(ZN)},providedIn:"root"})}return n})();const KN=new ae("appBaseHref");let ZN=(()=>{class n extends bu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??fe(Kn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return D0(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Jo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Jo(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Jo(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(T0),W(KN,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t8=(()=>{class n extends bu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=D0(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Jo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Jo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(T0),W(KN,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),A0=(()=>{class n{constructor(t){this._subject=new Et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function i8(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(WN(QN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Jo(r))}normalize(t){return n.stripTrailingSlash(function r8(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,QN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Jo;static#t=this.joinWithSlash=D0;static#n=this.stripTrailingSlash=WN;static#r=this.\u0275fac=function(r){return new(r||n)(W(bu))};static#i=this.\u0275prov=le({token:n,factory:function(){return function n8(){return new A0(W(bu))}()},providedIn:"root"})}return n})();function QN(n){return n.replace(/\/index.html$/,"")}function sk(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const L0=/\s+/,ok=[];let ak=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=ok,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(L0):ok}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(L0):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(L0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)($(fv),$(Pp),$(cr),$(fs))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class H8{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Op=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new H8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),uk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{uk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)($(ms),$(lo),$(fv))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function uk(n,e){n.context.$implicit=e.item}let tc=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new z8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)($(ms),$(lo))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class z8{constructor(){this.$implicit=null,this.ngIf=null}}function lk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Nt(e)}'.`)}let hk=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||n)($(ms))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Wr]})}return n})(),fk=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=pk}transform(t,r=pk){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(function hW(n,e){return{key:n,value:e}}(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static#e=this.\u0275fac=function(r){return new(r||n)($(Pp,16))};static#t=this.\u0275pipe=yr({name:"keyvalue",type:n,pure:!1,standalone:!0})}return n})();function pk(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let xp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({})}return n})();const gk="browser";function mk(n){return n===gk}function Tv(n){return"server"===n}let vW=(()=>{class n{static#e=this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new EW(W(Kn),window)})}return n})();class EW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wW(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class _k{}class zW extends J6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class z0 extends zW{static makeCurrent(){!function Y6(n){I0||(I0=n)}(new z0)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function qW(){return kp=kp||document.querySelector("base"),kp?kp.getAttribute("href"):null}();return null==t?null:function GW(n){Sv=Sv||document.createElement("a"),Sv.setAttribute("href",n);const e=Sv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){kp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sk(document.cookie,e)}}let Sv,kp=null,KW=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const q0=new ae("EventManagerPlugins");let bk=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(W(q0),W(yt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class Ck{constructor(e){this._doc=e}}const G0="ng-app-id";let Ik=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Tv(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${G0}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(G0),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(G0,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Kn),W(Sy),W(AR,8),W(hs))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const W0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},K0=/%COMP%/g,JW=new ae("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dk(n,e){return e.map(t=>t.replace(K0,n))}let Z0=(()=>{class n{constructor(t,r,i,s,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Tv(a),this.defaultRenderer=new Q0(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===zr.ShadowDom&&(r={...r,encapsulation:zr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Sk?i.applyToHost(t):i instanceof Y0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case zr.Emulated:s=new Sk(c,l,r,this.appId,f,o,a,g);break;case zr.ShadowDom:return new n7(c,l,t,r,o,a,this.nonce,g);default:s=new Y0(c,l,r,f,o,a,g)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(W(bk),W(Ik),W(Sy),W(JW),W(Kn),W(hs),W(yt),W(AR))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class Q0{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(W0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Ak(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ak(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new w(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=W0[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=W0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Za.DashCase|Za.Important)?e.style.setProperty(t,r,i&Za.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Za.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=ec().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Ak(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class n7 extends Q0{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Dk(i.id,i.styles);for(const f of l){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Y0 extends Q0{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?Dk(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Sk extends Y0{constructor(e,t,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,t,r,s,o,a,c,l),this.contentAttr=function XW(n){return"_ngcontent-%COMP%".replace(K0,n)}(l),this.hostAttr=function e7(n){return"_nghost-%COMP%".replace(K0,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let r7=(()=>{class n extends Ck{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Kn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const Pk=["alt","control","meta","shift"],i7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},s7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let o7=(()=>{class n extends Ck{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ec().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Pk.forEach(l=>{const f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=i7[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Pk.forEach(o=>{o!==i&&(0,s7[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(W(Kn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const Rk=[{provide:hs,useValue:gk},{provide:TR,useValue:function a7(){z0.makeCurrent()},multi:!0},{provide:Kn,useFactory:function u7(){return function K3(n){xC=n}(document),document},deps:[]}],l7=EN(L6,"browser",Rk),d7=new ae(""),Ok=[{provide:uv,useClass:class WW{addToWindow(e){qt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new w(5103,!1);return s},qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),qt.getAllAngularRootElements=()=>e.getAllRootElements(),qt.frameworkStabilizers||(qt.frameworkStabilizers=[]),qt.frameworkStabilizers.push(r=>{const i=qt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ec().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:gN,useClass:f0,deps:[yt,p0,uv]},{provide:f0,useClass:f0,deps:[yt,p0,uv]}],xk=[{provide:HC,useValue:"root"},{provide:Ko,useFactory:function c7(){return new Ko},deps:[]},{provide:q0,useClass:r7,multi:!0,deps:[Kn,yt,hs]},{provide:q0,useClass:o7,multi:!0,deps:[Kn]},Z0,Ik,bk,{provide:mu,useExisting:Z0},{provide:_k,useClass:KW,deps:[]},[]];let Nk=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Sy,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(W(d7,12))};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({providers:[...xk,...Ok],imports:[xp,V6]})}return n})(),kk=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(W(Kn))};static#t=this.\u0275prov=le({token:n,factory:function(r){let i=null;return i=r?new r:function f7(){return new kk(W(Kn))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let Vk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(r){let i=null;return i=r?new(r||n):W(Uk),i},providedIn:"root"})}return n})(),Uk=(()=>{class n extends Vk{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case ds.NONE:return r;case ds.HTML:return so(r,"HTML")?qi(r):pR(this._doc,String(r)).toString();case ds.STYLE:return so(r,"Style")?qi(r):r;case ds.SCRIPT:if(so(r,"Script"))return qi(r);throw new w(5200,!1);case ds.URL:return so(r,"URL")?qi(r):Cy(String(r));case ds.RESOURCE_URL:if(so(r,"ResourceURL"))return qi(r);throw new w(5201,!1);default:throw new w(5202,!1)}}bypassSecurityTrustHtml(t){return function t4(n){return new Z3(n)}(t)}bypassSecurityTrustStyle(t){return function n4(n){return new Q3(n)}(t)}bypassSecurityTrustScript(t){return function r4(n){return new Y3(n)}(t)}bypassSecurityTrustUrl(t){return function i4(n){return new J3(n)}(t)}bypassSecurityTrustResourceUrl(t){return function s4(n){return new X3(n)}(t)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Kn))};static#t=this.\u0275prov=le({token:n,factory:function(r){let i=null;return i=r?new r:function _7(n){return new Uk(n.get(Kn))}(W(Nr)),i},providedIn:"root"})}return n})();function Ad(n,e){return b(e)?Ht(n,e,1):Ht(n,1)}function ei(n,e){return B((t,r)=>{let i=0;t.subscribe(oe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Fp(n){return B((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Pv{}class Mv{}class ho{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ho?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ho;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ho?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class y7{encodeKey(e){return jk(e)}encodeValue(e){return jk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const E7=/%(\d[a-f0-9])/gi,w7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jk(n){return encodeURIComponent(n).replace(E7,(e,t)=>w7[t]??e)}function Rv(n){return`${n}`}class rc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new y7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function v7(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Rv):[Rv(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Rv(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Rv(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class b7{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function $k(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Hk(n){return typeof Blob<"u"&&n instanceof Blob}function zk(n){return typeof FormData<"u"&&n instanceof FormData}class Lp{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function C7(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ho),this.context||(this.context=new b7),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new rc,this.urlWithParams=t}serializeBody(){return null===this.body?null:$k(this.body)||Hk(this.body)||zk(this.body)||function I7(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zk(this.body)?null:Hk(this.body)?this.body.type||null:$k(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const f=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),l)),new Lp(t,r,s,{params:l,headers:c,context:f,reportProgress:a,responseType:i,withCredentials:o})}}var Sd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Sd||{});class X0{constructor(e,t=200,r="OK"){this.headers=e.headers||new ho,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class eT extends X0{constructor(e={}){super(e),this.type=Sd.ResponseHeader}clone(e={}){return new eT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pd extends X0{constructor(e={}){super(e),this.type=Sd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Pd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qk extends X0{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function tT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Gk=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Lp)s=t;else{let c,l;c=i.headers instanceof ho?i.headers:new ho(i.headers),i.params&&(l=i.params instanceof rc?i.params:new rc({fromObject:i.params})),s=new Lp(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=H(s).pipe(Ad(c=>this.handler.handle(c)));if(t instanceof Lp||"events"===i.observe)return o;const a=o.pipe(ei(c=>c instanceof Pd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ce(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Ce(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Ce(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Ce(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new rc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,tT(i,r))}post(t,r,i={}){return this.request("POST",t,tT(i,r))}put(t,r,i={}){return this.request("PUT",t,tT(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(W(Pv))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function Zk(n,e){return e(n)}function D7(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const S7=new ae(""),Vp=new ae(""),Qk=new ae("");function P7(){let n=null;return(e,t)=>{null===n&&(n=(fe(S7,{optional:!0})??[]).reduceRight(D7,Zk));const r=fe(av),i=r.add();return n(e,t).pipe(Fp(()=>r.remove(i)))}}let Yk=(()=>{class n extends Pv{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=fe(av)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Vp),...this.injector.get(Qk,[])]));this.chain=i.reduceRight((s,o)=>function A7(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,o,this.injector),Zk)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Fp(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(W(Mv),W(Gi))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const x7=/^\)\]\}',?\n/;let Xk=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new w(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?S(r.\u0275loadImpl()):H(null)).pipe(ze(()=>new ot(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((C,I)=>o.setRequestHeader(C,I.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const C=t.detectContentTypeHeader();null!==C&&o.setRequestHeader("Content-Type",C)}if(t.responseType){const C=t.responseType.toLowerCase();o.responseType="json"!==C?C:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const C=o.statusText||"OK",I=new ho(o.getAllResponseHeaders()),M=function N7(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return c=new eT({headers:I,status:o.status,statusText:C,url:M}),c},f=()=>{let{headers:C,status:I,statusText:M,url:P}=l(),x=null;204!==I&&(x=typeof o.response>"u"?o.responseText:o.response),0===I&&(I=x?200:0);let q=I>=200&&I<300;if("json"===t.responseType&&"string"==typeof x){const ue=x;x=x.replace(x7,"");try{x=""!==x?JSON.parse(x):null}catch(Me){x=ue,q&&(q=!1,x={error:Me,text:x})}}q?(s.next(new Pd({body:x,headers:C,status:I,statusText:M,url:P||void 0})),s.complete()):s.error(new qk({error:x,headers:C,status:I,statusText:M,url:P||void 0}))},g=C=>{const{url:I}=l(),M=new qk({error:C,status:o.status||0,statusText:o.statusText||"Unknown Error",url:I||void 0});s.error(M)};let m=!1;const y=C=>{m||(s.next(l()),m=!0);let I={type:Sd.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(I.total=C.total),"text"===t.responseType&&o.responseText&&(I.partialText=o.responseText),s.next(I)},E=C=>{let I={type:Sd.UploadProgress,loaded:C.loaded};C.lengthComputable&&(I.total=C.total),s.next(I)};return o.addEventListener("load",f),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),t.reportProgress&&(o.addEventListener("progress",y),null!==a&&o.upload&&o.upload.addEventListener("progress",E)),o.send(a),s.next({type:Sd.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",f),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",y),null!==a&&o.upload&&o.upload.removeEventListener("progress",E)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(W(_k))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const nT=new ae("XSRF_ENABLED"),eF=new ae("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),tF=new ae("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class nF{}let L7=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sk(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(W(Kn),W(hs),W(eF))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function V7(n,e){const t=n.url.toLowerCase();if(!fe(nT)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=fe(nF).getToken(),i=fe(tF);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ic=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ic||{});function U7(...n){const e=[Gk,Xk,Yk,{provide:Pv,useExisting:Yk},{provide:Mv,useExisting:Xk},{provide:Vp,useValue:V7,multi:!0},{provide:nT,useValue:!0},{provide:nF,useClass:L7}];for(const t of n)e.push(...t.\u0275providers);return function BC(n){return{\u0275providers:n}}(e)}const rF=new ae("LEGACY_INTERCEPTOR_FN");function B7(){return function Cu(n,e){return{\u0275kind:n,\u0275providers:e}}(ic.LegacyInterceptors,[{provide:rF,useFactory:P7},{provide:Vp,useExisting:rF,multi:!0}])}let j7=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({providers:[U7(B7())]})}return n})();const{isArray:K7}=Array,{getPrototypeOf:Z7,prototype:Q7,keys:Y7}=Object;function iF(n){if(1===n.length){const e=n[0];if(K7(e))return{args:e,keys:null};if(function J7(n){return n&&"object"==typeof n&&Z7(n)===Q7}(e)){const t=Y7(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:X7}=Array;function rT(n){return Ce(e=>function eK(n,e){return X7(e)?n(...e):n(e)}(n,e))}function sF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function iT(...n){const e=As(n),t=zn(n),{args:r,keys:i}=iF(n);if(0===r.length)return S([],e);const s=new ot(function tK(n,e,t=Qt){return r=>{oF(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)oF(e,()=>{const l=S(n[c],e);let f=!1;l.subscribe(oe(r,g=>{s[c]=g,f||(f=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>sF(i,o):Qt));return t?s.pipe(rT(t)):s}function oF(n,e,t){n?gr(t,n,e):e()}const xv=Ve(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sT(...n){return function nK(){return rs(1)}()(S(n,As(n)))}function aF(n){return new ot(e=>{Cn(n()).subscribe(e)})}function Up(n,e){const t=b(n)?n:()=>n,r=i=>i.error(t());return new ot(e?i=>e.schedule(r,0,i):r)}function oT(){return B((n,e)=>{let t=null;n._refCount++;const r=oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class cF extends ot{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ce(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _t;const t=this.getSubject();e.add(this.source.subscribe(oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_t.EMPTY)}return e}refCount(){return oT()(this)}}function Iu(n){return n<=0?()=>Hn:B((e,t)=>{let r=0;e.subscribe(oe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Nv(...n){const e=As(n);return B((t,r)=>{(e?sT(n,t,e):sT(n,t)).subscribe(r)})}function kv(n){return B((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function uF(n=rK){return B((e,t)=>{let r=!1;e.subscribe(oe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function rK(){return new xv}function sc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ei((i,s)=>n(i,s,r)):Qt,Iu(1),t?kv(e):uF(()=>new xv))}function kr(n,e,t){const r=b(n)||e||t?{next:n,error:e,complete:t}:n;return r?B((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(oe(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Qt}function oc(n){return B((e,t)=>{let s,r=null,i=!1;r=e.subscribe(oe(t,void 0,void 0,o=>{s=Cn(n(o,oc(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Fv(n,e){return B(function iK(n,e,t,r,i){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(oe(o,f=>{const g=l++;c=a?n(c,f,g):(a=!0,f),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}function aT(n){return n<=0?()=>Hn:B((e,t)=>{let r=[];e.subscribe(oe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const et="primary",Bp=Symbol("RouteTitle");class cK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Md(n){return new cK(n)}function uK(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!lF(n[i],e[i]))return!1;return!0}function lF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function dF(n){return n.length>0?n[n.length-1]:null}function ac(n){return function W7(n){return!!n&&(n instanceof ot||b(n.lift)&&b(n.subscribe))}(n)?n:mp(n)?S(Promise.resolve(n)):H(n)}const dK={exact:function pF(n,e,t){if(!Tu(n.segments,e.segments)||!Lv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pF(n.children[r],e.children[r],t))return!1;return!0},subset:gF},hF={exact:function hK(n,e){return fo(n,e)},subset:function fK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lF(n[t],e[t]))},ignored:()=>!0};function fF(n,e,t){return dK[t.paths](n.root,e.root,t.matrixParams)&&hF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gF(n,e,t){return mF(n,e,e.segments,t)}function mF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Tu(i,t)||e.hasChildren()||!Lv(i,t,r))}if(n.segments.length===t.length){if(!Tu(n.segments,t)||!Lv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!gF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Tu(n.segments,i)&&Lv(n.segments,i,r)&&n.children[et])&&mF(n.children[et],e,s,r)}}function Lv(n,e,t){return e.every((r,i)=>hF[t](n[i].parameters,r.parameters))}class Rd{constructor(e=new Vt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return mK.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vv(this)}}class jp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Md(this.parameters)),this._parameterMap}toString(){return vF(this)}}function Tu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let $p=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return new cT},providedIn:"root"})}return n})();class cT{parse(e){const t=new AK(e);return new Rd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Hp(e.root,!0)}`,r=function vK(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Uv(t)}=${Uv(i)}`).join("&"):`${Uv(t)}=${Uv(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function _K(n){return encodeURI(n)}(e.fragment)}`:""}`}}const mK=new cT;function Vv(n){return n.segments.map(e=>vF(e)).join("/")}function Hp(n,e){if(!n.hasChildren())return Vv(n);if(e){const t=n.children[et]?Hp(n.children[et],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==et&&r.push(`${i}:${Hp(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function gK(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===et&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==et&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===et?[Hp(n.children[et],!1)]:[`${i}:${Hp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[et]?`${Vv(n)}/${t[0]}`:`${Vv(n)}/(${t.join("//")})`}}function _F(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uv(n){return _F(n).replace(/%3B/gi,";")}function uT(n){return _F(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bv(n){return decodeURIComponent(n)}function yF(n){return Bv(n.replace(/\+/g,"%20"))}function vF(n){return`${uT(n.path)}${function yK(n){return Object.keys(n).map(e=>`;${uT(e)}=${uT(n[e])}`).join("")}(n.parameters)}`}const EK=/^[^\/()?;#]+/;function lT(n){const e=n.match(EK);return e?e[0]:""}const wK=/^[^\/()?;=#]+/,CK=/^[^=?&#]+/,TK=/^[^&#]+/;class AK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[et]=new Vt(e,t)),r}parseSegment(){const e=lT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(e),new jp(Bv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function bK(n){const e=n.match(wK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=lT(this.remaining);i&&(r=i,this.capture(r))}e[Bv(t)]=Bv(r)}parseQueryParam(e){const t=function IK(n){const e=n.match(CK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function DK(n){const e=n.match(TK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=yF(t),s=yF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new w(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=et);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[et]:new Vt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new w(4011,!1)}}function EF(n){return n.segments.length>0?new Vt([],{[et]:n}):n}function wF(n){const e={};for(const r of Object.keys(n.children)){const s=wF(n.children[r]);if(r===et&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function SK(n){if(1===n.numberOfChildren&&n.children[et]){const e=n.children[et];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}function Du(n){return n instanceof Rd}function bF(n){let e;const i=EF(function t(s){const o={};for(const c of s.children){const l=t(c);o[c.outlet]=l}const a=new Vt(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function CF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return dT(i,i,i,t,r);const s=function MK(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new TF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new TF(t,e,r)}(e);if(s.toRoot())return dT(i,i,new Vt([],{}),t,r);const o=function RK(n,e,t){if(n.isAbsolute)return new $v(e,!0,0);if(!t)return new $v(e,!1,NaN);if(null===t.parent)return new $v(t,!0,0);const r=jv(n.commands[0])?0:1;return function OK(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new $v(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?qp(o.segmentGroup,o.index,s.commands):DF(o.segmentGroup,o.index,s.commands);return dT(i,o.segmentGroup,a,t,r)}function jv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zp(n){return"object"==typeof n&&null!=n&&n.outlets}function dT(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),o=n===e?t:IF(n,e,t);const a=EF(wF(o));return new Rd(a,s,i)}function IF(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:IF(s,e,t)}),new Vt(n.segments,r)}class TF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jv(r[0]))throw new w(4003,!1);const i=r.find(zp);if(i&&i!==dF(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $v{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function DF(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return qp(n,e,t);const r=function NK(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(zp(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!SF(c,l,o))return s;r+=2}else{if(!SF(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Vt(n.segments.slice(0,r.pathIndex),{});return s.children[et]=new Vt(n.segments.slice(r.pathIndex),n.children),qp(s,0,i)}return r.match&&0===i.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?hT(n,e,t):r.match?qp(n,0,i):hT(n,e,t)}function qp(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function xK(n){return zp(n[0])?n[0].outlets:{[et]:n}}(t),i={};if(Object.keys(r).some(s=>s!==et)&&n.children[et]&&1===n.numberOfChildren&&0===n.children[et].segments.length){const s=qp(n.children[et],e,t);return new Vt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=DF(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Vt(n.segments,i)}}function hT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(zp(s)){const c=kK(s.outlets);return new Vt(r,c)}if(0===i&&jv(t[0])){r.push(new jp(n.segments[e].path,AF(t[0]))),i++;continue}const o=zp(s)?s.outlets[et]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&jv(a)?(r.push(new jp(o,AF(a))),i+=2):(r.push(new jp(o,{})),i++)}return new Vt(r,{})}function kK(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=hT(new Vt([],{}),0,r))}),e}function AF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function SF(n,e,t){return n==t.path&&fo(e,t.parameters)}const Gp="imperative";class po{constructor(e,t){this.id=e,this.url=t}}class Hv extends po{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cc extends po{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wp extends po{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Od extends po{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class zv extends po{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PF extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FK extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LK extends po{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class VK extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UK extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $K{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fT{}class pT{constructor(e){this.url=e}}class GK{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kp,this.attachRef=null}}let Kp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new GK,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class RF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=mT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mT(e,this._root).map(t=>t.value)}}function gT(n,e){if(n===e.value)return e;for(const t of e.children){const r=gT(n,t);if(r)return r}return null}function mT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=mT(n,t);if(r.length)return r.unshift(e),r}return[]}class ta{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class OF extends RF{constructor(e,t){super(e),this.snapshot=t,_T(this,e)}toString(){return this.snapshot.toString()}}function xF(n,e){const t=function WK(n,e){const o=new qv([],{},{},"",{},et,e,null,{});return new kF("",new ta(o,[]))}(0,e),r=new O([new jp("",{})]),i=new O({}),s=new O({}),o=new O({}),a=new O(""),c=new Nd(r,i,o,a,s,et,e,t.root);return c.snapshot=t.root,new OF(new ta(c,[]),t)}class Nd{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ce(l=>l[Bp]))??H(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(e=>Md(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(e=>Md(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function KK(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qv{get title(){return this.data?.[Bp]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Md(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kF extends RF{constructor(e,t){super(t),this.url=e,_T(this,t)}toString(){return FF(this._root)}}function _T(n,e){e.value._routerState=n,e.children.forEach(t=>_T(n,t))}function FF(n){const e=n.children.length>0?` { ${n.children.map(FF).join(", ")} } `:"";return`${n.value}${e}`}function yT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fo(e.params,t.params)||n.paramsSubject.next(t.params),function lK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),fo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vT(n,e){const t=fo(n.params,e.params)&&function pK(n,e){return Tu(n,e)&&n.every((t,r)=>fo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||vT(n.parent,e.parent))}let ET=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new Et,this.deactivateEvents=new Et,this.attachEvents=new Et,this.detachEvents=new Et,this.parentContexts=fe(Kp),this.location=fe(ms),this.changeDetector=fe(Sp),this.environmentInjector=fe(Gi),this.inputBinder=fe(Gv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ZK(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wr]})}return n})();class ZK{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Nd?this.route:e===Kp?this.childContexts:this.parent.get(e,t)}}const Gv=new ae("");let LF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=iT([r.queryParams,r.params,r.data]).pipe(ze(([s,o,a],c)=>(a={...s,...o,...a},0===c?H(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function Q6(n){const e=ct(n);if(!e)return null;const t=new dp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function Zp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function YK(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zp(n,r,i);return Zp(n,r)})}(n,e,t);return new ta(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Zp(n,a)),o}}const r=function JK(n){return new Nd(new O(n.url),new O(n.params),new O(n.queryParams),new O(n.fragment),new O(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Zp(n,s));return new ta(r,i)}}const wT="ngNavigationCancelingError";function VF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Du(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=UF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function UF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[wT]=!0,r.cancellationCode=e,t&&(r.url=t),r}function BF(n){return n&&n[wT]}let jF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=qr({type:n,selectors:[["ng-component"]],standalone:!0,features:[y1],decls:1,vars:0,template:function(r,i){1&r&&wt(0,"router-outlet")},dependencies:[ET],encapsulation:2})}return n})();function bT(n){const e=n.children&&n.children.map(bT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==et&&(t.component=jF),t}function zs(n){return n.outlet||et}function Qp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oZ{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=xd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=xd(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new qK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new HK(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(yT(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yT(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Qp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class $F{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wv{constructor(e,t){this.component=e,this.route=t}}function aZ(n,e,t){const r=n._root;return Yp(r,e?e._root:null,t,[r.value])}function kd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function bb(n){return null!==Ia(n)}(n)?e.get(n):n:r}function Yp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xd(e);return n.children.forEach(o=>{(function uZ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function lZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Tu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Tu(n.url,e.url)||!fo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vT(n,e)||!fo(n.queryParams,e.queryParams);default:return!vT(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new $F(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Yp(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wv(a.outlet.component,o))}else o&&Jp(e,a,i),i.canActivateChecks.push(new $F(r)),Yp(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Jp(a,t.getContext(o),i)),i}function Jp(n,e,t){const r=xd(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Jp(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Wv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xp(n){return"function"==typeof n}function HF(n){return n instanceof xv||"EmptyError"===n?.name}const Kv=Symbol("INITIAL_VALUE");function Fd(){return ze(n=>iT(n.map(e=>e.pipe(Iu(1),Nv(Kv)))).pipe(Ce(e=>{for(const t of e)if(!0!==t){if(t===Kv)return Kv;if(!1===t||t instanceof Rd)return t}return!0}),ei(e=>e!==Kv),Iu(1)))}function zF(n){return function ci(...n){return Ii(n)}(kr(e=>{if(Du(e))throw VF(0,e)}),Ce(e=>!0===e))}class Zv{constructor(e){this.segmentGroup=e||null}}class qF{constructor(e){this.urlTree=e}}function Ld(n){return Up(new Zv(n))}function GF(n){return Up(new qF(n))}class MZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new w(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return H(r);if(i.numberOfChildren>1||!i.children[et])return Up(new w(4e3,!1));i=i.children[et]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Rd(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Vt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const CT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RZ(n,e,t,r,i){const s=IT(n,e,t);return s.matched?(r=function eZ(n,e){return n.providers&&!n._injector&&(n._injector=qI(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function AZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?H(i.map(o=>{const a=kd(o,n);return ac(function mZ(n){return n&&Xp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Fd(),zF()):H(!0)}(r,e,t).pipe(Ce(o=>!0===o?s:{...CT}))):H(s)}function IT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...CT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uK)(t,n,e);if(!i)return{...CT};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function WF(n,e,t,r){return t.length>0&&function NZ(n,e,t){return t.some(r=>Qv(n,e,r)&&zs(r)!==et)}(n,t,r)?{segmentGroup:new Vt(e,xZ(r,new Vt(t,n.children))),slicedSegments:[]}:0===t.length&&function kZ(n,e,t){return t.some(r=>Qv(n,e,r))}(n,t,r)?{segmentGroup:new Vt(n.segments,OZ(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Vt(n.segments,n.children),slicedSegments:t}}function OZ(n,e,t,r,i){const s={};for(const o of r)if(Qv(n,t,o)&&!i[zs(o)]){const a=new Vt([],{});s[zs(o)]=a}return{...i,...s}}function xZ(n,e){const t={};t[et]=e;for(const r of n)if(""===r.path&&zs(r)!==et){const i=new Vt([],{});t[zs(r)]=i}return t}function Qv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class UZ{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new MZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new w(4002,!1)}recognize(){const e=WF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,et).pipe(oc(t=>{if(t instanceof qF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Zv?this.noMatchError(t):t}),Ce(t=>{const r=new qv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},et,this.rootComponentType,null,{}),i=new ta(r,t),s=new kF("",i),o=function PK(n,e,t=null,r=null){return CF(bF(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,et).pipe(oc(r=>{throw r instanceof Zv?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=NF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return S(i).pipe(Ad(s=>{const o=r.children[s],a=function iZ(n,e){const t=n.filter(r=>zs(r)===e);return t.push(...n.filter(r=>zs(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),Fv((s,o)=>(s.push(...o),s)),kv(null),function sK(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ei((i,s)=>n(i,s,r)):Qt,aT(1),t?kv(e):uF(()=>new xv))}(),Ht(s=>{if(null===s)return Ld(r);const o=KF(s);return function BZ(n){n.sort((e,t)=>e.value.outlet===et?-1:t.value.outlet===et?1:e.value.outlet.localeCompare(t.value.outlet))}(o),H(o)}))}processSegment(e,t,r,i,s,o){return S(t).pipe(Ad(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(oc(c=>{if(c instanceof Zv)return H(null);throw c}))),sc(a=>!!a),oc(a=>{if(HF(a))return function LZ(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?H([]):Ld(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function FZ(n,e,t,r){return!!(zs(n)===r||r!==et&&Qv(e,t,n))&&("**"===n.path||IT(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Ld(i):Ld(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?GF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ht(o=>{const a=new Vt(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:f}=IT(t,i,s);if(!a)return Ld(t);const g=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,f);return i.redirectTo.startsWith("/")?GF(g):this.applyRedirects.lineralizeSegments(i,g).pipe(Ht(m=>this.processSegment(e,r,t,m.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?dF(i).parameters:{};a=H({snapshot:new qv(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZF(r),zs(r),r.component??r._loadedComponent??null,r,QF(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=RZ(t,r,i,e).pipe(Ce(({matched:c,consumedSegments:l,remainingSegments:f,parameters:g})=>c?{snapshot:new qv(l,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZF(r),zs(r),r.component??r._loadedComponent??null,r,QF(r)),consumedSegments:l,remainingSegments:f}:null));return a.pipe(ze(c=>null===c?Ld(t):this.getChildConfig(e=r._injector??e,r,i).pipe(ze(({routes:l})=>{const f=r._loadedInjector??e,{snapshot:g,consumedSegments:m,remainingSegments:y}=c,{segmentGroup:E,slicedSegments:C}=WF(t,m,y,l);if(0===C.length&&E.hasChildren())return this.processChildren(f,l,E).pipe(Ce(M=>null===M?null:[new ta(g,M)]));if(0===l.length&&0===C.length)return H([new ta(g,[])]);const I=zs(r)===s;return this.processSegment(f,l,E,C,I?et:s,!0).pipe(Ce(M=>[new ta(g,M)]))}))))}getChildConfig(e,t,r){return t.children?H({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?H({routes:t._loadedRoutes,injector:t._loadedInjector}):function DZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?H(!0):H(i.map(o=>{const a=kd(o,n);return ac(function hZ(n){return n&&Xp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Fd(),zF())}(e,t,r).pipe(Ht(i=>i?this.configLoader.loadChildren(e,t).pipe(kr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function PZ(n){return Up(UF(!1,3))}())):H({routes:[],injector:e})}}function jZ(n){const e=n.value.routeConfig;return e&&""===e.path}function KF(n){const e=[],t=new Set;for(const r of n){if(!jZ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=KF(r.children);e.push(new ta(r.value,i))}return e.filter(r=>!t.has(r))}function ZF(n){return n.data||{}}function QF(n){return n.resolve||{}}function YF(n){return"string"==typeof n.title||null===n.title}function TT(n){return ze(e=>{const t=n(e);return t?S(t).pipe(Ce(()=>e)):H(e)})}const Vd=new ae("ROUTES");let DT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(dN)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return H(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ac(t.loadComponent()).pipe(Ce(JF),kr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Fp(()=>{this.componentLoaders.delete(t)})),i=new cF(r,()=>new j).pipe(oT());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function KZ(n,e,t,r){return ac(n.loadChildren()).pipe(Ce(JF),Ht(i=>i instanceof m1||Array.isArray(i)?H(i):S(e.compileModuleAsync(i))),Ce(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Vd,[],{optional:!0,self:!0}).flat()),{routes:o.map(bT),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Fp(()=>{this.childrenLoaders.delete(r)})),o=new cF(s,()=>new j).pipe(oT());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JF(n){return function ZZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Yv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new j,this.transitionAbortSubject=new j,this.configLoader=fe(DT),this.environmentInjector=fe(Gi),this.urlSerializer=fe($p),this.rootContexts=fe(Kp),this.inputBindingEnabled=null!==fe(Gv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>H(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new jK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new BK(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new O({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ei(s=>0!==s.id),Ce(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),ze(s=>{this.currentTransition=s;let o=!1,a=!1;return H(s).pipe(kr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ze(c=>{const l=c.currentBrowserUrl.toString(),f=!t.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new Od(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),Hn}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return H(c).pipe(ze(m=>{const y=this.transitions?.getValue();return this.events.next(new Hv(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Hn:Promise.resolve(m)}),function $Z(n,e,t,r,i,s){return Ht(o=>function VZ(n,e,t,r,i,s,o="emptyOnly"){return new UZ(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Ce(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),kr(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new PF(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:y,source:E,restoredState:C,extras:I}=c,M=new Hv(m,this.urlSerializer.serialize(y),E,C);this.events.next(M);const P=xF(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:P,urlAfterRedirects:y,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},H(s)}{const m="";return this.events.next(new Od(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),Hn}}),kr(c=>{const l=new FK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ce(c=>(this.currentTransition=s={...c,guards:aZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function yZ(n,e){return Ht(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?H({...t,guardsResult:!0}):function vZ(n,e,t,r){return S(n).pipe(Ht(i=>function TZ(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?H(s.map(a=>{const c=Qp(e)??i,l=kd(a,c);return ac(function gZ(n){return n&&Xp(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(sc())})).pipe(Fd()):H(!0)}(i.component,i.route,t,e,r)),sc(i=>!0!==i,!0))}(o,r,i,n).pipe(Ht(a=>a&&function dZ(n){return"boolean"==typeof n}(a)?function EZ(n,e,t,r){return S(e).pipe(Ad(i=>sT(function bZ(n,e){return null!==n&&e&&e(new $K(n)),H(!0)}(i.route.parent,r),function wZ(n,e){return null!==n&&e&&e(new zK(n)),H(!0)}(i.route,r),function IZ(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function cZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>aF(()=>H(o.guards.map(c=>{const l=Qp(o.node)??t,f=kd(c,l);return ac(function pZ(n){return n&&Xp(n.canActivateChild)}(f)?f.canActivateChild(r,n):l.runInContext(()=>f(r,n))).pipe(sc())})).pipe(Fd())));return H(s).pipe(Fd())}(n,i.path,t),function CZ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return H(!0);const i=r.map(s=>aF(()=>{const o=Qp(e)??t,a=kd(s,o);return ac(function fZ(n){return n&&Xp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(sc())}));return H(i).pipe(Fd())}(n,i.route,t))),sc(i=>!0!==i,!0))}(r,s,n,e):H(a)),Ce(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),kr(c=>{if(s.guardsResult=c.guardsResult,Du(c.guardsResult))throw VF(0,c.guardsResult);const l=new LK(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ei(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),TT(c=>{if(c.guards.canActivateChecks.length)return H(c).pipe(kr(l=>{const f=new VK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ze(l=>{let f=!1;return H(l).pipe(function HZ(n,e){return Ht(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let s=0;return S(i).pipe(Ad(o=>function zZ(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!YF(i)&&(s[Bp]=i.title),function qZ(n,e,t,r){const i=function GZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return H({});const s={};return S(i).pipe(Ht(o=>function WZ(n,e,t,r){const i=Qp(e)??r,s=kd(n,i);return ac(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(sc(),kr(a=>{s[o]=a}))),aT(1),function oK(n){return Ce(()=>n)}(s),oc(o=>HF(o)?Hn:Up(o)))}(s,n,e,r).pipe(Ce(o=>(n._resolvedData=o,n.data=NF(n,t).resolve,i&&YF(i)&&(n.data[Bp]=i.title),null)))}(o.route,r,n,e)),kr(()=>s++),aT(1),Ht(o=>s===i.length?H(t):Hn))})}(t.paramsInheritanceStrategy,this.environmentInjector),kr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",2)}}))}),kr(l=>{const f=new UK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),TT(c=>{const l=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(kr(m=>{f.component=m}),Ce(()=>{})));for(const m of f.children)g.push(...l(m));return g};return iT(l(c.targetSnapshot.root)).pipe(kv(),Iu(1))}),TT(()=>this.afterPreactivation()),Ce(c=>{const l=function QK(n,e,t){const r=Zp(n,e._root,t?t._root:void 0);return new OF(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},s}),kr(()=>{this.events.next(new fT)}),((n,e,t,r)=>Ce(i=>(new oZ(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Iu(1),kr({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),function aK(n){return B((e,t)=>{Cn(n).subscribe(oe(t,()=>t.complete(),Ie)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(kr(c=>{throw c}))),Fp(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),oc(c=>{if(a=!0,BF(c))this.events.next(new Wp(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function XK(n){return BF(n)&&Du(n.url)}(c)?this.events.next(new pT(c.url)):s.resolve(!1);else{this.events.next(new zv(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(c))}catch(l){s.reject(l)}}return Hn}))}))}cancelNavigationTransition(t,r,i){const s=new Wp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XF(n){return n!==Gp}let eL=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===et);return r}getResolvedTitleForRoute(t){return t.data[Bp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(QZ)},providedIn:"root"})}return n})(),QZ=(()=>{class n extends eL{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(W(kk))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YZ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(XZ)},providedIn:"root"})}return n})();class JZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let XZ=(()=>{class n extends JZ{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Jv=new ae("",{providedIn:"root",factory:()=>({})});let eQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:function(){return fe(tQ)},providedIn:"root"})}return n})(),tQ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(eg||{});function tL(n,e){n.events.pipe(ei(t=>t instanceof cc||t instanceof Wp||t instanceof zv||t instanceof Od),Ce(t=>t instanceof cc||t instanceof Od?eg.COMPLETE:t instanceof Wp&&(0===t.code||1===t.code)?eg.REDIRECTING:eg.FAILED),ei(t=>t!==eg.REDIRECTING),Iu(1)).subscribe(()=>{e()})}function nQ(n){throw n}function rQ(n,e,t){return e.parse("/")}const iQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=fe(lN),this.isNgZoneEnabled=!1,this._events=new j,this.options=fe(Jv,{optional:!0})||{},this.pendingTasks=fe(av),this.errorHandler=this.options.errorHandler||nQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rQ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=fe(eQ),this.routeReuseStrategy=fe(YZ),this.titleStrategy=fe(eL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fe(Vd,{optional:!0})?.flat()??[],this.navigationTransitions=fe(Yv),this.urlSerializer=fe($p),this.location=fe(A0),this.componentInputBindingEnabled=!!fe(Gv,{optional:!0}),this.eventsSubscription=new _t,this.isNgZoneEnabled=fe(yt)instanceof yt&&yt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(nL(r)&&this._events.next(r));if(r instanceof Hv)XF(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Od)this.rawUrlTree=i.rawUrl;else if(r instanceof PF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof fT)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Wp)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof pT){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XF(i.source)};this.scheduleNavigation(s,Gp,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof zv&&this.restoreHistory(i,!0),r instanceof cc&&(this.navigated=!0),nL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(bT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let g,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{g=bF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),g=this.currentUrlTree.root}return CF(g,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Du(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Gp,null,r)}navigate(t,r={skipLocationChange:!1}){return function oQ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new w(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...iQ}:!1===r?{...sQ}:r,Du(t))return fF(this.currentUrlTree,t,i);const s=this.parseUrl(t);return fF(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((g,m)=>{a=g,c=m});const f=this.pendingTasks.add();return tL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nL(n){return!(n instanceof fT||n instanceof pT)}let Ud=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new j,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof cc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function _R(n,e,t){return function v4(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?mR:VC}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)($(wr),$(Nd),function ql(n){return function Lf(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Gh(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Vn(),n)}("tabindex"),$(fs),$(cr),$(bu))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&pt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&gs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Td],skipLocationChange:["skipLocationChange","skipLocationChange",Td],replaceUrl:["replaceUrl","replaceUrl",Td],routerLink:"routerLink"},standalone:!0,features:[RO,Wr]})}return n})();class rL{}let uQ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ei(t=>t instanceof cc),Ad(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=qI(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return S(i).pipe(rs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):H(null);const s=i.pipe(Ht(o=>null===o?H(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?S([s,this.loader.loadComponent(r)]).pipe(rs()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(W(wr),W(dN),W(Gi),W(rL),W(DT))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const AT=new ae("");let iL=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof cc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Od&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof MF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function iO(){throw new Error("invalid")}()};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function na(n,e){return{\u0275kind:n,\u0275providers:e}}function oL(){const n=fe(Nr);return e=>{const t=n.get(Xa);if(e!==t.components[0])return;const r=n.get(wr),i=n.get(aL);1===n.get(ST)&&r.initialNavigation(),n.get(cL,null,at.Optional)?.setUpPreloading(),n.get(AT,null,at.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const aL=new ae("",{factory:()=>new j}),ST=new ae("",{providedIn:"root",factory:()=>1}),cL=new ae("");function fQ(n){return na(0,[{provide:cL,useExisting:uQ},{provide:rL,useExisting:n}])}const uL=new ae("ROUTER_FORROOT_GUARD"),gQ=[A0,{provide:$p,useClass:cT},wr,Kp,{provide:Nd,useFactory:function sL(n){return n.routerState.root},deps:[wr]},DT,[]];function mQ(){return new yN("Router",wr)}let lL=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gQ,[],{provide:Vd,multi:!0,useValue:t},{provide:uL,useFactory:EQ,deps:[[wr,new Ka,new Kl]]},{provide:Jv,useValue:r||{}},r?.useHash?{provide:bu,useClass:t8}:{provide:bu,useClass:ZN},{provide:AT,useFactory:()=>{const n=fe(vW),e=fe(yt),t=fe(Jv),r=fe(Yv),i=fe($p);return t.scrollOffset&&n.setOffset(t.scrollOffset),new iL(i,r,n,e,t)}},r?.preloadingStrategy?fQ(r.preloadingStrategy).\u0275providers:[],{provide:yN,multi:!0,useFactory:mQ},r?.initialNavigation?wQ(r):[],r?.bindToComponentInputs?na(8,[LF,{provide:Gv,useExisting:LF}]).\u0275providers:[],[{provide:dL,useFactory:oL},{provide:_0,multi:!0,useExisting:dL}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Vd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(W(uL,8))};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({})}return n})();function EQ(n){return"guarded"}function wQ(n){return["disabled"===n.initialNavigation?na(3,[{provide:u0,multi:!0,useFactory:()=>{const e=fe(wr);return()=>{e.setUpLocationChangeListener()}}},{provide:ST,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?na(2,[{provide:ST,useValue:0},{provide:u0,multi:!0,deps:[Nr],useFactory:e=>{const t=e.get(X6,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(wr),s=e.get(aL);tL(i,()=>{r(!0)}),e.get(Yv).afterPreactivation=()=>(r(!0),s.closed?H(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const dL=new ae("");var Au=Ze(534);(0,Au.registerVersion)("firebase","10.11.0","app");class TQ extends _t{constructor(e,t){super()}schedule(e,t=0){return this}}const Xv={setInterval(n,e,...t){const{delegate:r}=Xv;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Xv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class PT extends TQ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Xv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Xv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const MT={now:()=>(MT.delegate||Date).now(),delegate:void 0};class tg{constructor(e,t=tg.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}tg.now=MT.now;class RT extends tg{constructor(e,t=tg.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const SQ=new class AQ extends RT{}(class DQ extends PT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),OT=new RT(PT),PQ=OT,xT=new ad("ANGULARFIRE2_VERSION");class hL{constructor(){return((n,e)=>{const t=(0,Au.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(RQ)}}const RQ="app-check";function Bd(){}class fL{zone;delegate;constructor(e,t=SQ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class OQ{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bd,{},Bd,Bd)),t.pipe(kr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pL=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new fL(Zone.current)),this.insideAngular=t.run(()=>new fL(Zone.current,OT)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(W(yt))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qi(n){return function NQ(n){return function(t){return(t=t.lift(new OQ(n.ngZone))).pipe(Pr(n.outsideAngular),li(n.insideAngular))}}(function jd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var uc=Ze(106);uc.Z.registerVersion("firebase","10.11.0","app-compat");const VQ=["ngOnDestroy"];class gL{constructor(e){return e}}const eE=new ae("angularfire2.app.options"),tE=new ae("angularfire2.app.name");function NT(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=uc.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>uc.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;jQ("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new gL(o)}const jQ=(n,...e)=>{},$Q={provide:gL,useFactory:NT,deps:[eE,yt,[new Ka,tE]]};let HQ=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:eE,useValue:t},{provide:tE,useValue:r}]}}constructor(t){uc.Z.registerVersion("angularfire",xT.full,"core"),uc.Z.registerVersion("angularfire",xT.full,"app-compat"),uc.Z.registerVersion("angular",xR.full,t.toString())}static \u0275fac=function(r){return new(r||n)(W(hs))};static \u0275mod=In({type:n});static \u0275inj=Sn({providers:[$Q]})}return n})();function mL(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function zQ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(_L("error",`${e} was already initialized on the ${t} Firebase App with different settings.${qQ?" You may need to reload as Firebase is not HMR aware.":""}`),_L("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const qQ=typeof module<"u"&&!!module.hot,_L=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],Ze(622);class GQ extends j{constructor(e=1/0,t=1/0,r=MT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function yL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,xe({connector:()=>new GQ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function vL(n,e){return b(e)?ze(()=>n,e):ze(()=>n)}const EL=new ae("angularfire2.auth.use-emulator"),wL=new ae("angularfire2.auth.settings"),bL=new ae("angularfire2.auth.tenant-id"),CL=new ae("angularfire2.auth.langugage-code"),IL=new ae("angularfire2.auth.use-device-language"),TL=new ae("angularfire.auth.persistence"),DL=(n,e,t,r,i,s,o,a)=>mL(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[l,f]of Object.entries(o))c.settings[l]=f;return a&&c.setPersistence(a),c},[t,r,i,s,o,a]);let AL=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,c,l,f,g,m,y){const E=new j,C=H(void 0).pipe(li(o.outsideAngular),ze(()=>s.runOutsideAngular(()=>Promise.resolve().then(Ze.bind(Ze,622)))),Ce(()=>NT(t,s,r)),Ce(I=>DL(I,s,a,l,f,g,c,m)),yL({bufferSize:1,refCount:!1}));if(Tv(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=H(null);else{C.pipe(sc()).subscribe();const I=C.pipe(ze(x=>x.getRedirectResult().then(q=>q,()=>null)),Qi,yL({bufferSize:1,refCount:!1})),M=C.pipe(ze(x=>new ot(q=>({unsubscribe:s.runOutsideAngular(()=>x.onAuthStateChanged(ue=>q.next(ue),ue=>q.error(ue),()=>q.complete()))})))),P=C.pipe(ze(x=>new ot(q=>({unsubscribe:s.runOutsideAngular(()=>x.onIdTokenChanged(ue=>q.next(ue),ue=>q.error(ue),()=>q.complete()))}))));this.authState=I.pipe(vL(M),Pr(o.outsideAngular),li(o.insideAngular)),this.user=I.pipe(vL(P),Pr(o.outsideAngular),li(o.insideAngular)),this.idToken=this.user.pipe(ze(x=>x?S(x.getIdToken()):H(null))),this.idTokenResult=this.user.pipe(ze(x=>x?S(x.getIdTokenResult()):H(null))),this.credential=Q(I,E,this.authState.pipe(ei(x=>!x))).pipe(Ce(x=>x?.user?x:null),Pr(o.outsideAngular),li(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(VQ.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const c=a?.[s];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,l)=>o.then(f=>{const g=f?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,g),g})})})}))(this,C,s,{spy:{apply:(I,M,P)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&P.then(x=>E.next(x))}}})}static \u0275fac=function(r){return new(r||n)(W(eE),W(tE,8),W(hs),W(yt),W(pL),W(EL,8),W(wL,8),W(bL,8),W(CL,8),W(IL,8),W(TL,8),W(hL,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function kT(){return B((n,e)=>{let t,r=!1;n.subscribe(oe(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var _e,Z=Ze(861),SL=Ze(537),go=Ze(879),Rt=Ze(58),KQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qs={},FT=FT||{},Qe=KQ||self;function nE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ng(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var LT="closure_uid_"+(1e9*Math.random()>>>0),QQ=0;function YQ(n,e,t){return n.call.apply(n.bind,arguments)}function JQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ti(n,e,t){return(ti=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?YQ:JQ).apply(null,arguments)}function rE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function br(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function lc(){this.s=this.s,this.o=this.o}lc.prototype.s=!1,lc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ZQ(n){Object.prototype.hasOwnProperty.call(n,LT)&&n[LT]||(n[LT]=++QQ)}(this)},lc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function VT(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ML(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(nE(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ni.prototype.h=function(){this.defaultPrevented=!0};var eY=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};Qe.addEventListener("test",t,e),Qe.removeEventListener("test",t,e)}catch{}return n}();function rg(n){return/^[\s\xa0]*$/.test(n)}function iE(){var n=Qe.navigator;return n&&(n=n.userAgent)?n:""}function mo(n){return-1!=iE().indexOf(n)}function UT(n){return UT[" "](n),n}UT[" "]=function(){};var jT,n,nY=mo("Opera"),$d=mo("Trident")||mo("MSIE"),RL=mo("Edge"),BT=RL||$d,OL=mo("Gecko")&&!(-1!=iE().toLowerCase().indexOf("webkit")&&!mo("Edge"))&&!(mo("Trident")||mo("MSIE"))&&!mo("Edge"),rY=-1!=iE().toLowerCase().indexOf("webkit")&&!mo("Edge");function xL(){var n=Qe.document;return n?n.documentMode:void 0}e:{var $T="",HT=(n=iE(),OL?/rv:([^\);]+)(\)|;)/.exec(n):RL?/Edge\/([\d\.]+)/.exec(n):$d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rY?/WebKit\/(\S+)/.exec(n):nY?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(HT&&($T=HT?HT[1]:""),$d){var zT=xL();if(null!=zT&&zT>parseFloat($T)){jT=String(zT);break e}}jT=$T}var iY=Qe.document&&$d&&(xL()||parseInt(jT,10))||void 0;function ig(n,e){if(ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(OL){e:{try{UT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:sY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ig.$.h.call(this)}}br(ig,ni);var sY={2:"touch",3:"pen",4:"mouse"};ig.prototype.h=function(){ig.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sg="closure_listenable_"+(1e6*Math.random()|0),oY=0;function aY(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++oY,this.fa=this.ia=!1}function sE(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function GT(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kL(n){const e={};for(const t in n)e[t]=n[t];return e}const FL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<FL.length;s++)t=FL[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function oE(n){this.src=n,this.g={},this.h=0}function WT(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=PL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function KT(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}oE.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=KT(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new aY(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var ZT="closure_lm_"+(1e6*Math.random()|0),QT={};function VL(n,e,t,r,i){if(r&&r.once)return BL(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VL(n,e[s],t,r,i);return null}return t=eD(t),n&&n[sg]?n.O(e,t,ng(r)?!!r.capture:!!r,i):UL(n,e,t,!1,r,i)}function UL(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=ng(i)?!!i.capture:!!i,a=JT(n);if(a||(n[ZT]=a=new oE(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function uY(){const e=lY;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)eY||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent($L(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function BL(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BL(n,e[s],t,r,i);return null}return t=eD(t),n&&n[sg]?n.P(e,t,ng(r)?!!r.capture:!!r,i):UL(n,e,t,!0,r,i)}function jL(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jL(n,e[s],t,r,i);else r=ng(r)?!!r.capture:!!r,t=eD(t),n&&n[sg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=KT(s=n.g[e],t,r,i))&&(sE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=JT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=KT(e,t,r,i)),(t=-1<n?e[n]:null)&&YT(t))}function YT(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[sg])WT(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent($L(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=JT(e))?(WT(t,n),0==t.h&&(t.src=null,e[ZT]=null)):sE(n)}}}function $L(n){return n in QT?QT[n]:QT[n]="on"+n}function lY(n,e){if(n.fa)n=!0;else{e=new ig(e,this);var t=n.listener,r=n.la||n.src;n.ia&&YT(n),n=t.call(r,e)}return n}function JT(n){return(n=n[ZT])instanceof oE?n:null}var XT="__closure_events_fn_"+(1e9*Math.random()>>>0);function eD(n){return"function"==typeof n?n:(n[XT]||(n[XT]=function(e){return n.handleEvent(e)}),n[XT])}function Cr(){lc.call(this),this.i=new oE(this),this.S=this,this.J=null}function Fr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ni(e,n);else if(e instanceof ni)e.target=e.target||n;else{var i=e;LL(e=new ni(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=aE(o,r,!0,e)&&i}if(i=aE(o=e.g=n,r,!0,e)&&i,i=aE(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=aE(o=e.g=t[s],r,!1,e)&&i}function aE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&WT(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}br(Cr,lc),Cr.prototype[sg]=!0,Cr.prototype.removeEventListener=function(n,e,t,r){jL(this,n,e,t,r)},Cr.prototype.N=function(){if(Cr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sE(t[r]);delete n.g[e],n.h--}}this.J=null},Cr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Cr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var tD=Qe.JSON.stringify;function hY(){var n=nD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var HL=new class dY{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pY,n=>n.reset());class pY{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gY(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function mY(n){Qe.setTimeout(()=>{throw n},0)}let og,ag=!1,nD=new class fY{constructor(){this.h=this.g=null}add(e,t){const r=HL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},zL=()=>{const n=Qe.Promise.resolve(void 0);og=()=>{n.then(_Y)}};var _Y=()=>{for(var n;n=hY();){try{n.h.call(n.g)}catch(t){mY(t)}var e=HL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ag=!1};function cE(n,e){Cr.call(this),this.h=n||1,this.g=e||Qe,this.j=ti(this.qb,this),this.l=Date.now()}function rD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function iD(n,e,t){if("function"==typeof n)t&&(n=ti(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ti(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qe.setTimeout(n,e||0)}function qL(n){n.g=iD(()=>{n.g=null,n.i&&(n.i=!1,qL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}br(cE,Cr),(_e=cE.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fr(this,"tick"),this.ga&&(rD(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){cE.$.N.call(this),rD(this),delete this.g};class yY extends lc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qL(this)}N(){super.N(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cg(n){lc.call(this),this.h=n,this.g={}}br(cg,lc);var GL=[];function WL(n,e,t,r){Array.isArray(t)||(t&&(GL[0]=t.toString()),t=GL);for(var i=0;i<t.length;i++){var s=VL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function KL(n){GT(n.g,function(e,t){this.g.hasOwnProperty(t)&&YT(e)},n),n.g={}}function uE(){this.g=!0}function Hd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bY(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return tD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}cg.prototype.N=function(){cg.$.N.call(this),KL(this)},cg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uE.prototype.Ea=function(){this.g=!1},uE.prototype.info=function(){};var Pu={},ZL=null;function lE(){return ZL=ZL||new Cr}function QL(n){ni.call(this,Pu.Ta,n)}function ug(n){const e=lE();Fr(e,new QL(e))}function YL(n,e){ni.call(this,Pu.STAT_EVENT,n),this.stat=e}function yi(n){const e=lE();Fr(e,new YL(e,n))}function JL(n,e){ni.call(this,Pu.Ua,n),this.size=e}function lg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){n()},e)}Pu.Ta="serverreachability",br(QL,ni),Pu.STAT_EVENT="statevent",br(YL,ni),Pu.Ua="timingevent",br(JL,ni);var dE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sD(){}function tV(){}sD.prototype.h=null;var cD,dg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function oD(){ni.call(this,"d")}function aD(){ni.call(this,"c")}function hE(){}function hg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new cg(this),this.P=CY,this.V=new cE(n=BT?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new nV}function nV(){this.i=null,this.g="",this.h=!1}br(oD,ni),br(aD,ni),br(hE,sD),hE.prototype.g=function(){return new XMLHttpRequest},hE.prototype.i=function(){return{}},cD=new hE;var CY=45e3,rV={},uD={};function lD(n,e,t){n.L=1,n.A=mE(ra(e)),n.u=t,n.S=!0,iV(n,null)}function iV(n,e){n.G=Date.now(),fg(n),n.B=ra(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),pV(t.i,"t",r),n.o=0,t=n.l.J,n.h=new nV,n.g=VV(n.l,t?e:null,!n.u),0<n.O&&(n.M=new yY(ti(n.Pa,n,n.g),n.O)),WL(n.U,n.g,"readystatechange",n.nb),e=n.I?kL(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),ug(),function vY(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var f=l[0];l=l[1];var g=f.split("_");o=2<=g.length&&"type"==g[1]?o+(f+"=")+l+"&":o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function sV(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function oV(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=IY(n,t),i==uD){4==e&&(n.s=4,yi(14),r=!1),Hd(n.j,n.m,null,"[Incomplete Response]");break}if(i==rV){n.s=4,yi(15),Hd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Hd(n.j,n.m,i,null),dD(n,i)}sV(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,yi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),yD(e),e.M=!0,yi(11))):(Hd(n.j,n.m,t,"[Invalid Chunked Response]"),Mu(n),pg(n))}function IY(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?uD:(t=Number(e.substring(t,r)),isNaN(t)?rV:(r+=1)+t>e.length?uD:(e=e.slice(r,r+t),n.o=r+t,e))}function fg(n){n.Y=Date.now()+n.P,aV(n,n.P)}function aV(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=lg(ti(n.lb,n),e)}function fE(n){n.C&&(Qe.clearTimeout(n.C),n.C=null)}function pg(n){0==n.l.H||n.J||NV(n.l,n)}function Mu(n){fE(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,rD(n.V),KL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function dD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||hD(t.i,n)))if(!n.K&&hD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;bE(t),EE(t)}_D(t),yi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=lg(ti(t.ib,t),6e3));if(1>=_V(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ou(t,11)}else if((n.K||t.g==n)&&bE(t),!rg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const f=l[3];null!=f&&(t.ra=f,t.l.info("VER="+t.ra));const g=l[4];null!=g&&(t.Ga=g,t.l.info("SVER="+t.Ga));const m=l[5];null!=m&&"number"==typeof m&&0<m&&(t.L=r=1.5*m,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const E=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var s=r.i;s.g||-1==E.indexOf("spdy")&&-1==E.indexOf("quic")&&-1==E.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(fD(s,s.h),s.h=null))}if(r.F){const C=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,ln(r.I,r.F,C))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=LV(r,r.J?r.pa:null,r.Y),o.K){yV(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(fE(a),fg(a)),r.g=o}else OV(r);0<t.j.length&&wE(t)}else"stop"!=l[0]&&"close"!=l[0]||Ou(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ou(t,7):mD(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}ug()}catch{}}function cV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function DY(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(nE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TY(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(nE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(_e=hg.prototype).setTimeout=function(n){this.P=n},_e.nb=function(n){n=n.target;const e=this.M;e&&3==_o(n)?e.l():this.Pa(n)},_e.Pa=function(n){try{if(n==this.g)e:{const f=_o(this.g);var e=this.g.Ia();if(this.g.da(),!(3>f)&&(3!=f||BT||this.g&&(this.h.h||this.g.ja()||DV(this.g)))){this.J||4!=f||7==e||ug(),fE(this);var t=this.g.da();this.ca=t;t:if(sV(this)){var r=DV(this.g);n="";var i=r.length,s=4==_o(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mu(this),pg(this);var o="";break t}this.h.i=new Qe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function EY(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,f,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.s=3,yi(12),Mu(this),pg(this);break e}Hd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dD(this,t)}this.S?(oV(this,f,o),BT&&this.i&&3==f&&(WL(this.U,this.V,"tick",this.mb),this.V.start())):(Hd(this.j,this.m,o,null),dD(this,o)),4==f&&Mu(this),this.i&&!this.J&&(4==f?NV(this.l,this):(this.i=!1,fg(this)))}else(function zY(n){const e={};n=(n.g&&2<=_o(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(rg(n[r]))continue;var t=gY(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function cY(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,yi(12)):(this.s=0,yi(13)),Mu(this),pg(this)}}}catch{}},_e.mb=function(){if(this.g){var n=_o(this.g),e=this.g.ja();this.o<e.length&&(fE(this),oV(this,n,e),this.i&&4!=n&&fg(this))}},_e.cancel=function(){this.J=!0,Mu(this)},_e.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function wY(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ug(),yi(17)),Mu(this),this.s=2,pg(this)):aV(this,this.Y-n)};var uV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ru(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ru){this.h=n.h,pE(this,n.j),this.s=n.s,this.g=n.g,gE(this,n.m),this.l=n.l;var e=n.i,t=new _g;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),lV(this,t),this.o=n.o}else n&&(e=String(n).match(uV))?(this.h=!1,pE(this,e[1]||"",!0),this.s=gg(e[2]||""),this.g=gg(e[3]||"",!0),gE(this,e[4]),this.l=gg(e[5]||"",!0),lV(this,e[6]||"",!0),this.o=gg(e[7]||"")):(this.h=!1,this.i=new _g(null,this.h))}function ra(n){return new Ru(n)}function pE(n,e,t){n.j=t?gg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lV(n,e,t){e instanceof _g?(n.i=e,function xY(n,e){e&&!n.j&&(dc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(hV(this,r),pV(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=mg(e,RY)),n.i=new _g(e,n.h))}function ln(n,e,t){n.i.set(e,t)}function mE(n){return ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,SY),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ru.prototype.toString=function(){var n=[],e=this.j;e&&n.push(mg(e,dV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(mg(e,dV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(mg(t,"/"==t.charAt(0)?MY:PY,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",mg(t,OY)),n.join("")};var dV=/[#\/\?@]/g,PY=/[#\?:]/g,MY=/[#\?]/g,RY=/[#\?@]/g,OY=/#/g;function _g(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function dc(n){n.g||(n.g=new Map,n.h=0,n.i&&function AY(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hV(n,e){dc(n),e=zd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function fV(n,e){return dc(n),e=zd(n,e),n.g.has(e)}function pV(n,e,t){hV(n,e),0<t.length&&(n.i=null,n.g.set(zd(n,e),VT(t)),n.h+=t.length)}function zd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function gV(n){this.l=n||kY,n=Qe.PerformanceNavigationTiming?0<(n=Qe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qe.g&&Qe.g.Ka&&Qe.g.Ka()&&Qe.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=_g.prototype).add=function(n,e){dc(this),this.i=null,n=zd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(n,e){dc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},_e.ta=function(){dc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},_e.Z=function(n){dc(this);let e=[];if("string"==typeof n)fV(this,n)&&(e=e.concat(this.g.get(zd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_e.set=function(n,e){return dc(this),this.i=null,fV(this,n=zd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var kY=10;function mV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function _V(n){return n.h?1:n.g?n.g.size:0}function hD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function fD(n,e){n.g?n.g.add(e):n.h=e}function yV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return VT(n.i)}gV.prototype.cancel=function(){if(this.i=vV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var FY=class{stringify(n){return Qe.JSON.stringify(n,void 0)}parse(n){return Qe.JSON.parse(n,void 0)}};function LY(){this.g=new FY}function VY(n,e,t){const r=t||"";try{cV(n,function(i,s){let o=i;ng(i)&&(o=tD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _E(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yg(n){this.l=n.ec||null,this.j=n.ob||!1}function yE(n,e){Cr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=pD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}br(yg,sD),yg.prototype.g=function(){return new yE(this.l,this.j)},yg.prototype.i=function(n){return function(){return n}}({}),br(yE,Cr);var pD=0;function EV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function vg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Eg(n)}function Eg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_e=yE.prototype).open=function(n,e){if(this.readyState!=pD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Eg(this)},_e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vg(this)),this.readyState=pD},_e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Eg(this)),this.g&&(this.readyState=3,Eg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;EV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?vg(this):Eg(this),3==this.readyState&&EV(this)}},_e.Za=function(n){this.g&&(this.response=this.responseText=n,vg(this))},_e.Ya=function(n){this.g&&(this.response=n,vg(this))},_e.ka=function(){this.g&&vg(this)},_e.setRequestHeader=function(n,e){this.v.append(n,e)},_e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var BY=Qe.JSON.parse;function Rn(n){Cr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wV,this.L=this.M=!1}br(Rn,Cr);var wV="",jY=/^https?$/i,$Y=["POST","PUT"];function bV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,CV(n),vE(n)}function CV(n){n.F||(n.F=!0,Fr(n,"complete"),Fr(n,"error"))}function IV(n){if(n.h&&typeof FT<"u"&&(!n.C[1]||4!=_o(n)||2!=n.da()))if(n.v&&4==_o(n))iD(n.La,0,n);else if(Fr(n,"readystatechange"),4==_o(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(uV)[1]||null;!i&&Qe.self&&Qe.self.location&&(i=Qe.self.location.protocol.slice(0,-1)),r=!jY.test(i?i.toLowerCase():"")}t=r}if(t)Fr(n,"complete"),Fr(n,"success");else{n.m=6;try{var s=2<_o(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",CV(n)}}finally{vE(n)}}}function vE(n,e){if(n.g){TV(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Fr(n,"ready");try{t.onreadystatechange=r}catch{}}}function TV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qe.clearTimeout(n.A),n.A=null)}function _o(n){return n.g?n.g.readyState:0}function DV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case wV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function AV(n){let e="";return GT(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function gD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=AV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ln(n,e,t))}function wg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function SV(n){this.Ga=0,this.j=[],this.l=new uE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wg("baseRetryDelayMs",5e3,n),this.hb=wg("retryDelaySeedMs",1e4,n),this.eb=wg("forwardChannelMaxRetries",2,n),this.xa=wg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new gV(n&&n.concurrentRequestLimit),this.Ja=new LY,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mD(n){if(PV(n),3==n.H){var e=n.W++,t=ra(n.I);if(ln(t,"SID",n.K),ln(t,"RID",e),ln(t,"TYPE","terminate"),bg(n,t),(e=new hg(n,n.l,e)).L=2,e.A=mE(ra(t)),t=!1,Qe.navigator&&Qe.navigator.sendBeacon)try{t=Qe.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&Qe.Image&&((new Image).src=e.A,t=!0),t||(e.g=VV(e.l,null),e.g.ha(e.A)),e.G=Date.now(),fg(e)}FV(n)}function EE(n){n.g&&(yD(n),n.g.cancel(),n.g=null)}function PV(n){EE(n),n.u&&(Qe.clearTimeout(n.u),n.u=null),bE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qe.clearTimeout(n.m),n.m=null)}function wE(n){if(!mV(n.i)&&!n.m){n.m=!0;var e=n.Na;og||zL(),ag||(og(),ag=!0),nD.add(e,n),n.C=0}}function MV(n,e){var t;t=e?e.m:n.W++;const r=ra(n.I);ln(r,"SID",n.K),ln(r,"RID",t),ln(r,"AID",n.V),bg(n,r),n.o&&n.s&&gD(r,n.o,n.s),t=new hg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=RV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),fD(n.i,t),lD(t,r,e)}function bg(n,e){n.na&&GT(n.na,function(t,r){ln(e,r,t)}),n.h&&cV({},function(t,r){ln(e,r,t)})}function RV(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ti(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let l=i[c].g;const f=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{VY(f,o,"req"+l+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function OV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;og||zL(),ag||(og(),ag=!0),nD.add(e,n),n.A=0}}function _D(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=lg(ti(n.Ma,n),kV(n,n.A)),n.A++,0))}function yD(n){null!=n.B&&(Qe.clearTimeout(n.B),n.B=null)}function xV(n){n.g=new hg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ra(n.wa);ln(e,"RID","rpc"),ln(e,"SID",n.K),ln(e,"AID",n.V),ln(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ln(e,"TO",n.qa),ln(e,"TYPE","xmlhttp"),bg(n,e),n.o&&n.s&&gD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=mE(ra(e)),t.u=null,t.S=!0,iV(t,n)}function bE(n){null!=n.v&&(Qe.clearTimeout(n.v),n.v=null)}function NV(n,e){var t=null;if(n.g==e){bE(n),yD(n),n.g=null;var r=2}else{if(!hD(n.i,e))return;t=e.F,yV(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Fr(r=lE(),new JL(r,t)),wE(n)}else OV(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function qY(n,e){return!(_V(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=lg(ti(n.Na,n,e),kV(n,n.C)),n.C++,0)))}(n,e)||2==r&&_D(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ou(n,5);break;case 4:Ou(n,10);break;case 3:Ou(n,6);break;default:Ou(n,2)}}function kV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ou(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ti(n.pb,n);t||(t=new Ru("//www.google.com/images/cleardot.gif"),Qe.location&&"http"==Qe.location.protocol||pE(t,"https"),mE(t)),function UY(n,e){const t=new uE;if(Qe.Image){const r=new Image;r.onload=rE(_E,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rE(_E,t,r,"TestLoadImage: error",!1,e),r.onabort=rE(_E,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rE(_E,t,r,"TestLoadImage: timeout",!1,e),Qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yi(2);n.H=0,n.h&&n.h.za(e),FV(n),PV(n)}function FV(n){if(n.H=0,n.ma=[],n.h){const e=vV(n.i);(0!=e.length||0!=n.j.length)&&(ML(n.ma,e),ML(n.ma,n.j),n.i.i.length=0,VT(n.j),n.j.length=0),n.h.ya()}}function LV(n,e,t){var r=t instanceof Ru?ra(t):new Ru(t);if(""!=r.g)e&&(r.g=e+"."+r.g),gE(r,r.m);else{var i=Qe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ru(null);r&&pE(s,r),e&&(s.g=e),i&&gE(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ln(r,t,e),ln(r,"VER",n.ra),bg(n,r),r}function VV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(n.Ha&&!n.va?new yg({ob:t}):n.va)).Oa(n.J),e}function UV(){}function CE(){if($d&&!(10<=Number(iY)))throw Error("Environmental error: no available transport.")}function Yi(n,e){Cr.call(this),this.g=new SV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!rg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qd(this)}function BV(n){oD.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function jV(){aD.call(this),this.status=1}function qd(n){this.g=n}function Gs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vD(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ut(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(_e=Rn.prototype).Oa=function(n){this.M=n},_e.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cD.g(),this.C=function eV(n){return n.h||(n.h=n.i())}(this.u?this.u:cD),this.g.onreadystatechange=ti(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void bV(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Qe.FormData&&n instanceof Qe.FormData,!(0<=PL($Y,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TV(this),0<this.B&&((this.L=function HY(n){return $d&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ti(this.ua,this)):this.A=iD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){bV(this,s)}},_e.ua=function(){typeof FT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))},_e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fr(this,"complete"),Fr(this,"abort"),vE(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vE(this,!0)),Rn.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?IV(this):this.kb())},_e.kb=function(){IV(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<_o(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),BY(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=SV.prototype).ra=8,_e.H=1,_e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new hg(this,this.l,n);let s=this.s;if(this.U&&(s?(s=kL(s),LL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=RV(this,i,e),ln(t=ra(this.I),"RID",n),ln(t,"CVER",22),this.F&&ln(t,"X-HTTP-Session-Id",this.F),bg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(AV(s)))+"&"+e:this.o&&gD(t,this.o,s)),fD(this.i,i),this.bb&&ln(t,"TYPE","init"),this.P?(ln(t,"$req",e),ln(t,"SID","null"),i.aa=!0,lD(i,t,null)):lD(i,t,e),this.H=2}}else 3==this.H&&(n?MV(this,n):0==this.j.length||mV(this.i)||MV(this))},_e.Ma=function(){if(this.u=null,xV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=lg(ti(this.jb,this),n)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yi(10),EE(this),xV(this))},_e.ib=function(){null!=this.v&&(this.v=null,EE(this),_D(this),yi(19))},_e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yi(2)):(this.l.info("Failed to ping google.com"),yi(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=UV.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},CE.prototype.g=function(n,e){return new Yi(n,e)},br(Yi,Cr),Yi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=LV(n,null,n.Y),wE(n)},Yi.prototype.close=function(){mD(this.g)},Yi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=tD(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&wE(e)},Yi.prototype.N=function(){this.g.h=null,delete this.j,mD(this.g),delete this.g,Yi.$.N.call(this)},br(BV,oD),br(jV,aD),br(qd,UV),qd.prototype.Ba=function(){Fr(this.g,"a")},qd.prototype.Aa=function(n){Fr(this.g,new BV(n))},qd.prototype.za=function(n){Fr(this.g,new jV)},qd.prototype.ya=function(){Fr(this.g,"b")},br(Gs,function GY(){this.blockSize=-1}),Gs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)vD(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){vD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){vD(this,r),i=0;break}}this.h=i,this.i+=e},Gs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var WY={};function ED(n){return-128<=n&&128>n?function tY(n,e){var t=WY;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ut([0|e],0>e?-1:0)}):new Ut([0|n],0>n?-1:0)}function yo(n){if(isNaN(n)||!isFinite(n))return Gd;if(0>n)return Lr(yo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=wD;return new Ut(e,0)}var wD=4294967296,Gd=ED(0),bD=ED(1),HV=ED(16777216);function ia(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function vs(n){return-1==n.h}function Lr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ut(t,~n.h).add(bD)}function IE(n,e){return n.add(Lr(e))}function TE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Cg(n,e){this.g=n,this.h=e}function DE(n,e){if(ia(e))throw Error("division by zero");if(ia(n))return new Cg(Gd,Gd);if(vs(n))return e=DE(Lr(n),e),new Cg(Lr(e.g),Lr(e.h));if(vs(e))return e=DE(n,Lr(e)),new Cg(Lr(e.g),e.h);if(30<n.g.length){if(vs(n)||vs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=bD,r=e;0>=r.X(n);)t=zV(t),r=zV(r);var i=Wd(t,1),s=Wd(r,1);for(r=Wd(r,2),t=Wd(t,2);!ia(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Wd(r,1),t=Wd(t,1)}return e=IE(n,i.R(e)),new Cg(i,e)}for(i=Gd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=yo(t)).R(e);vs(o)||0<o.X(n);)o=(s=yo(t-=r)).R(e);ia(s)&&(s=bD),i=i.add(s),n=IE(n,o)}return new Cg(i,n)}function zV(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ut(t,n.h)}function Wd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ut(i,n.h)}(_e=Ut.prototype).ea=function(){if(vs(this))return-Lr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:wD+r)*e,e*=wD}return n},_e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ia(this))return"0";if(vs(this))return"-"+Lr(this).toString(n);for(var e=yo(Math.pow(n,6)),t=this,r="";;){var i=DE(t,e).g,s=((0<(t=IE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ia(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},_e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_e.X=function(n){return vs(n=IE(this,n))?-1:ia(n)?0:1},_e.abs=function(){return vs(this)?Lr(this):this},_e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Ut(t,-2147483648&t[t.length-1]?-1:0)},_e.R=function(n){if(ia(this)||ia(n))return Gd;if(vs(this))return vs(n)?Lr(this).R(Lr(n)):Lr(Lr(this).R(n));if(vs(n))return Lr(this.R(Lr(n)));if(0>this.X(HV)&&0>n.X(HV))return yo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,TE(t,2*r+2*i),t[2*r+2*i+1]+=s*c,TE(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,TE(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,TE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ut(t,0)},_e.gb=function(n){return DE(this,n).h},_e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ut(t,this.h&n.h)},_e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ut(t,this.h|n.h)},_e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ut(t,this.h^n.h)},CE.prototype.createWebChannel=CE.prototype.g,Yi.prototype.send=Yi.prototype.u,Yi.prototype.open=Yi.prototype.m,Yi.prototype.close=Yi.prototype.close,dE.NO_ERROR=0,dE.TIMEOUT=8,dE.HTTP_ERROR=6,XL.COMPLETE="complete",tV.EventType=dg,dg.OPEN="a",dg.CLOSE="b",dg.ERROR="c",dg.MESSAGE="d",Cr.prototype.listen=Cr.prototype.O,Rn.prototype.listenOnce=Rn.prototype.P,Rn.prototype.getLastError=Rn.prototype.Sa,Rn.prototype.getLastErrorCode=Rn.prototype.Ia,Rn.prototype.getStatus=Rn.prototype.da,Rn.prototype.getResponseJson=Rn.prototype.Wa,Rn.prototype.getResponseText=Rn.prototype.ja,Rn.prototype.send=Rn.prototype.ha,Rn.prototype.setWithCredentials=Rn.prototype.Oa,Gs.prototype.digest=Gs.prototype.l,Gs.prototype.reset=Gs.prototype.reset,Gs.prototype.update=Gs.prototype.j,Ut.prototype.add=Ut.prototype.add,Ut.prototype.multiply=Ut.prototype.R,Ut.prototype.modulo=Ut.prototype.gb,Ut.prototype.compare=Ut.prototype.X,Ut.prototype.toNumber=Ut.prototype.ea,Ut.prototype.toString=Ut.prototype.toString,Ut.prototype.getBits=Ut.prototype.D,Ut.fromNumber=yo,Ut.fromString=function $V(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Lr($V(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=yo(Math.pow(e,8)),r=Gd,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=yo(Math.pow(e,s)),r=r.R(s).add(yo(o))):r=(r=r.R(t)).add(yo(o))}return r};var KY=qs.createWebChannelTransport=function(){return new CE},ZY=qs.getStatEventTarget=function(){return lE()},CD=qs.ErrorCode=dE,QY=qs.EventType=XL,YY=qs.Event=Pu,qV=qs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},AE=(qs.FetchXmlHttpFactory=yg,qs.WebChannel=tV),JY=qs.XhrIo=Rn,XY=qs.Md5=Gs,Kd=qs.Integer=Ut;const GV="@firebase/firestore";class Ir{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");let Zd="10.11.0";const hc=new go.Yd("@firebase/firestore");function Qd(){return hc.logLevel}function re(n,...e){if(hc.logLevel<=go.in.DEBUG){const t=e.map(ID);hc.debug(`Firestore (${Zd}): ${n}`,...t)}}function Bn(n,...e){if(hc.logLevel<=go.in.ERROR){const t=e.map(ID);hc.error(`Firestore (${Zd}): ${n}`,...t)}}function Fi(n,...e){if(hc.logLevel<=go.in.WARN){const t=e.map(ID);hc.warn(`Firestore (${Zd}): ${n}`,...t)}}function ID(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function be(n="Unexpected state"){const e=`FIRESTORE (${Zd}) INTERNAL ASSERTION FAILED: `+n;throw Bn(e),new Error(e)}function Pe(n,e){n||be()}function he(n,e){return n}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Rt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class WV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ir.UNAUTHENTICATED))}shutdown(){}}class rJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iJ{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,Z.Z)(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe("string"==typeof r.accessToken),new WV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(null===e||"string"==typeof e),new Ir(e)}}class sJ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oJ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new sJ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pe("string"==typeof t.token),this.R=t.token,new KV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ZV{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=cJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function Yd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function QV(n){return n+"\0"}class vn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ee(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vn.fromMillis(Date.now())}static fromDate(e){return vn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Re(e)}static min(){return new Re(new vn(0,0))}static max(){return new Re(new vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ig{constructor(e,t,r){void 0===t?t=0:t>e.length&&be(),void 0===r?r=e.length-t:r>e.length-t&&be(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ig.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ig?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gt extends Ig{construct(e,t,r){return new gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const uJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Ig{construct(e,t,r){return new dn(e,t,r)}static isValidIdentifier(e){return uJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ee(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ee(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ee(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(gt.fromString(e))}static fromName(e){return new pe(gt.fromString(e).popFirst(5))}static empty(){return new pe(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new gt(e.slice()))}}class Jd{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function TD(n){return n.fields.find(e=>2===e.kind)}function xu(n){return n.fields.filter(e=>2!==e.kind)}Jd.UNKNOWN_ID=-1;class Nu{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xd(0,Ji.min())}}function YV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(1e9===r?new vn(t+1,0):new vn(t,r));return new Ji(i,pe.empty(),e)}function JV(n){return new Ji(n.readTime,n.key,-1)}class Ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ji(Re.min(),pe.empty(),-1)}static max(){return new Ji(Re.max(),pe.empty(),-1)}}function DD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=pe.comparator(n.documentKey,e.documentKey),0!==t?t:Ke(n.largestBatchId,e.largestBatchId))}const XV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fc(n){return AD.apply(this,arguments)}function AD(){return AD=(0,Z.Z)(function*(n){if(n.code!==L.FAILED_PRECONDITION||n.message!==XV)throw n;re("LocalStore","Unexpectedly lost primary lease")}),AD.apply(this,arguments)}class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof N?t:N.resolve(t)}catch(t){return N.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):N.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):N.reject(t)}static resolve(e){return new N((t,r)=>{t(e)})}static reject(e){return new N((t,r)=>{r(e)})}static waitFor(e){return new N((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=N.resolve(!1);for(const r of e)t=t.next(i=>i?N.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;t(e[l]).next(f=>{o[l]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new N((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class SE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new lr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Tg(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=SD(r.target.error);this.V.reject(new Tg(e,i))}}static open(e,t,r,i){try{return new SE(t,e.transaction(i,r))}catch(s){throw new Tg(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fJ(t)}}class Es{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Es.S((0,Rt.z$)())&&Bn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return re("SimpleDb","Removing database:",e),ku(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Rt.hl)())return!1;if(Es.C())return!0;const e=(0,Rt.z$)(),t=Es.S(e),r=0<t&&t<10,i=Es.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,Z.Z)(function*(){return t.db||(re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new Tg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new ee(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ee(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Tg(e,a))},s.onupgradeneeded=o=>{re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.L&&(t.db.onversionchange=r=>t.L(r)),t.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,Z.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const c=SE.open(s.db,e,o?"readonly":"readwrite",r),l=i(c).next(f=>(c.g(),f)).catch(f=>(c.abort(f),N.reject(f))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,f="FirebaseError"!==l.name&&a<3;if(re("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),s.close(),!f)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hJ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ku(this.k.delete())}}class Tg extends ee{constructor(e,t){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pc(n){return"IndexedDbTransactionError"===n.name}class fJ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ku(r)}add(e){return re("SimpleDb","ADD",this.store.name,e,e),ku(this.store.add(e))}get(e){return ku(this.store.get(e)).next(t=>(void 0===t&&(t=null),re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return re("SimpleDb","DELETE",this.store.name,e),ku(this.store.delete(e))}count(){return re("SimpleDb","COUNT",this.store.name),ku(this.store.count())}W(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const s=i.getAll(r.range);return new N((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new N((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new N((r,i)=>{t.onerror=s=>{const o=SD(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new N((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const c=new hJ(a),l=t(a.primaryKey,a.value,c);if(l instanceof N){const f=l.catch(g=>(c.done(),N.reject(g)));r.push(f)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>N.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ku(n){return new N((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=SD(r.target.error);t(i)}})}let t2=!1;function SD(n){const e=Es.S((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return t2||(t2=!0,setTimeout(()=>{throw r},0)),r}}return n}class pJ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;re("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Z.Z)(function*(){t.task=null;try{re("IndexBackfiller",`Documents written: ${yield t.X.te()}`)}catch(r){pc(r)?re("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield fc(r)}yield t.ee(6e4)}))}}class gJ{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,Z.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return N.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return re("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(re("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=JV(s);DD(o,r)>0&&(r=o)}),new Ji(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Xi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Dg(n){return null==n}function Ag(n){return 0===n&&1/n==-1/0}function n2(n){return"number"==typeof n&&Number.isInteger(n)&&!Ag(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ri(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=r2(e)),e=mJ(n.get(t),e);return r2(e)}function mJ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function r2(n){return n+"\x01\x01"}function vo(n){const e=n.length;if(Pe(e>=2),2===e)return Pe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gt.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&be(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:be()}s=o+2}return new gt(r)}const i2=["userId","batchId"];function PE(n,e){return[n,ri(e)]}function s2(n,e,t){return[n,ri(e),t]}const _J={},yJ=["prefixPath","collectionGroup","readTime","documentId"],vJ=["prefixPath","collectionGroup","documentId"],EJ=["collectionGroup","readTime","prefixPath","documentId"],wJ=["canonicalId","targetId"],bJ=["targetId","path"],CJ=["path","targetId"],IJ=["collectionId","parent"],TJ=["indexId","uid"],DJ=["uid","sequenceNumber"],AJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],SJ=["indexId","uid","orderedDocumentKey"],PJ=["userId","collectionPath","documentId"],MJ=["userId","collectionPath","largestBatchId"],RJ=["userId","collectionGroup","largestBatchId"],o2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OJ=[...o2,"documentOverlays"],a2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],c2=a2,u2=[...c2,"indexConfiguration","indexState","indexEntries"],xJ=u2;class PD extends e2{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Tr(n,e){const t=he(n);return Es.M(t.ae,e)}function l2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rn{constructor(e,t){this.comparator=e,this.root=t||Vr.EMPTY}insert(e,t){return new rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ME(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ME(this.root,e,this.comparator,!1)}getReverseIterator(){return new ME(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ME(this.root,e,this.comparator,!0)}}class ME{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Vr.RED,this.left=i??Vr.EMPTY,this.right=s??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Vr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Vr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Vr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h2(this.data.getIterator())}getIteratorFrom(e){return new h2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class h2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eh(n){return n.hasNext()?n.getNext():void 0}class Li{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Li([])}unionWith(e){let t=new Zt(dn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Li(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class f2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new f2("Invalid base64 string: "+s):s}}(e);return new dr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const kJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(n){if(Pe(!!n),"string"==typeof n){let e=0;const t=kJ.exec(n);if(Pe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:On(n.seconds),nanos:On(n.nanos)}}function On(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function oa(n){return"string"==typeof n?dr.fromBase64String(n):dr.fromUint8Array(n)}function RE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function OE(n){const e=n.mapValue.fields.__previous_value__;return RE(e)?OE(e):e}function Sg(n){const e=sa(n.mapValue.fields.__local_write_time__.timestampValue);return new vn(e.seconds,e.nanos)}class FJ{constructor(e,t,r,i,s,o,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class mc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xE={nullValue:"NULL_VALUE"};function yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RE(n)?4:_2(n)?9007199254740991:10:be()}function Eo(n,e){if(n===e)return!0;const t=yc(n);if(t!==yc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sg(n).isEqual(Sg(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=sa(i.timestampValue),a=sa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,oa(n.bytesValue).isEqual(oa(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return On(i.geoPointValue.latitude)===On(s.geoPointValue.latitude)&&On(i.geoPointValue.longitude)===On(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return On(i.integerValue)===On(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=On(i.doubleValue),a=On(s.doubleValue);return o===a?Ag(o)===Ag(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Yd(n.arrayValue.values||[],e.arrayValue.values||[],Eo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(l2(o)!==l2(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Eo(o[c],a[c])))return!1;return!0}(n,e);default:return be()}var s}function Pg(n,e){return void 0!==(n.values||[]).find(t=>Eo(t,e))}function vc(n,e){if(n===e)return 0;const t=yc(n),r=yc(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=On(s.integerValue||s.doubleValue),c=On(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return p2(n.timestampValue,e.timestampValue);case 4:return p2(Sg(n),Sg(e));case 5:return Ke(n.stringValue,e.stringValue);case 6:return function(s,o){const a=oa(s),c=oa(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const f=Ke(a[l],c[l]);if(0!==f)return f}return Ke(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ke(On(s.latitude),On(o.latitude));return 0!==a?a:Ke(On(s.longitude),On(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const f=vc(a[l],c[l]);if(f)return f}return Ke(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===_c.mapValue&&o===_c.mapValue)return 0;if(s===_c.mapValue)return 1;if(o===_c.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},f=Object.keys(l);c.sort(),f.sort();for(let g=0;g<c.length&&g<f.length;++g){const m=Ke(c[g],f[g]);if(0!==m)return m;const y=vc(a[c[g]],l[f[g]]);if(0!==y)return y}return Ke(c.length,f.length)}(n.mapValue,e.mapValue);default:throw be()}}function p2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ke(n,e);const t=sa(n),r=sa(e),i=Ke(t.seconds,r.seconds);return 0!==i?i:Ke(t.nanos,r.nanos)}function th(n){return MD(n)}function MD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=sa(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?oa(n.bytesValue).toBase64():"referenceValue"in n?pe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=MD(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${MD(t.fields[o])}`;return i+"}"}(n.mapValue):be()}function Fu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function RD(n){return!!n&&"integerValue"in n}function Mg(n){return!!n&&"arrayValue"in n}function g2(n){return!!n&&"nullValue"in n}function m2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kE(n){return!!n&&"mapValue"in n}function Rg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function LJ(n){return"nullValue"in n?xE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fu(mc.empty(),pe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:be()}function VJ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fu(mc.empty(),pe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?_c:be()}function y2(n,e){const t=vc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function v2(n,e){const t=vc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rg(t)}setAll(e){let t=dn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Rg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());kE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ur(Rg(this.value))}}function E2(n){const e=[];return gc(n.fields,(t,r)=>{const i=new dn([t]);if(kE(r)){const s=E2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Li(e)}class hn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),Ur.empty(),0)}static newFoundDocument(e,t,r,i){return new hn(e,1,t,Re.min(),r,i,0)}static newNoDocument(e,t){return new hn(e,2,t,Re.min(),Re.min(),Ur.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Re.min(),Re.min(),Ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ec{constructor(e,t){this.position=e,this.inclusive=t}}function w2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?pe.comparator(pe.fromName(o.referenceValue),t.key):vc(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function b2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Eo(n.position[t],e.position[t]))return!1;return!0}class Og{constructor(e,t="asc"){this.field=e,this.dir=t}}function UJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class C2{}class mt extends C2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new BJ(e,t,r):"array-contains"===t?new HJ(e,r):"in"===t?new P2(e,r):"not-in"===t?new zJ(e,r):"array-contains-any"===t?new qJ(e,r):new mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new jJ(e,r):new $J(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(vc(t,this.value)):null!==t&&yc(this.value)===yc(t)&&this.matchesComparison(vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bt extends C2{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Bt(e,t)}matches(e){return nh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function nh(n){return"and"===n.op}function OD(n){return"or"===n.op}function xD(n){return I2(n)&&nh(n)}function I2(n){for(const e of n.filters)if(e instanceof Bt)return!1;return!0}function ND(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+th(n.value);if(xD(n))return n.filters.map(e=>ND(e)).join(",");{const e=n.filters.map(t=>ND(t)).join(",");return`${n.op}(${e})`}}function T2(n,e){return n instanceof mt?(r=n,(i=e)instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&Eo(r.value,i.value)):n instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&T2(o,i.filters[a]),!0)}(n,e):void be();var r,i}function D2(n,e){const t=n.filters.concat(e);return Bt.create(t,n.op)}function A2(n){return n instanceof mt?`${(t=n).field.canonicalString()} ${t.op} ${th(t.value)}`:n instanceof Bt?function(t){return t.op.toString()+" {"+t.getFilters().map(A2).join(" ,")+"}"}(n):"Filter";var t}class BJ extends mt{constructor(e,t,r){super(e,t,r),this.key=pe.fromName(r.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class jJ extends mt{constructor(e,t){super(e,"in",t),this.keys=S2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $J extends mt{constructor(e,t){super(e,"not-in",t),this.keys=S2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function S2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>pe.fromName(r.referenceValue))}class HJ extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mg(t)&&Pg(t.arrayValue,this.value)}}class P2 extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Pg(this.value.arrayValue,t)}}class zJ extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Pg(this.value.arrayValue,t)}}class qJ extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Pg(this.value.arrayValue,r))}}class GJ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function kD(n,e=null,t=[],r=[],i=null,s=null,o=null){return new GJ(n,e,t,r,i,s,o)}function Lu(n){const e=he(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ND(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Dg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>th(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>th(r)).join(",")),e.ce=t}return e.ce}function xg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!UJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!T2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!b2(n.startAt,e.startAt)&&b2(n.endAt,e.endAt)}function FE(n){return pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function LE(n,e){return n.filters.filter(t=>t instanceof mt&&t.field.isEqual(e))}function M2(n,e,t){let r=xE,i=!0;for(const s of LE(n,e)){let o=xE,a=!0;switch(s.op){case"<":case"<=":o=LJ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=xE}y2({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];y2({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function R2(n,e,t){let r=_c,i=!0;for(const s of LE(n,e)){let o=_c,a=!0;switch(s.op){case">=":case">":o=VJ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=_c}v2({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];v2({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class aa{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function O2(n,e,t,r,i,s,o,a){return new aa(n,e,t,r,i,s,o,a)}function rh(n){return new aa(n)}function x2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function FD(n){return null!==n.collectionGroup}function ih(n){const e=he(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Zt(dn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Og(s,r))}),t.has(dn.keyField().canonicalString())||e.le.push(new Og(dn.keyField(),r))}return e.le}function vi(n){const e=he(n);return e.he||(e.he=function N2(n,e){if("F"===n.limitType)return kD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Og(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Ec(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ec(n.startAt.position,n.startAt.inclusive):null;return kD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,ih(n))),e.he}function LD(n,e){const t=n.filters.concat([e]);return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function VE(n,e,t){return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ng(n,e){return xg(vi(n),vi(e))&&n.limitType===e.limitType}function k2(n){return`${Lu(vi(n))}|lt:${n.limitType}`}function sh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>A2(i)).join(", ")}]`),Dg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>th(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>th(i)).join(",")),`Target(${r})`}(vi(n))}; limitType=${n.limitType})`}function kg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ih(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,c){const l=w2(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,ih(r),i)||r.endAt&&!function(o,a,c){const l=w2(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,ih(r),i)));var r,i}function F2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function L2(n){return(e,t)=>{let r=!1;for(const i of ih(n)){const s=WJ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function WJ(n,e,t){const r=n.field.isKeyField()?pe.comparator(e.key,t.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?vc(c,l):be()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}class ca{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return d2(this.inner)}size(){return this.innerSize}}const KJ=new rn(pe.comparator);function Vi(){return KJ}const V2=new rn(pe.comparator);function Fg(...n){let e=V2;for(const t of n)e=e.insert(t.key,t);return e}function U2(n){let e=V2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wo(){return Lg()}function B2(){return Lg()}function Lg(){return new ca(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZJ=new rn(pe.comparator),QJ=new Zt(pe.comparator);function tt(...n){let e=QJ;for(const t of n)e=e.add(t);return e}const YJ=new Zt(Ke);function VD(){return YJ}function j2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ag(e)?"-0":e}}function $2(n){return{integerValue:""+n}}function H2(n,e){return n2(e)?$2(e):j2(n,e)}class UE{constructor(){this._=void 0}}function JJ(n,e,t){return n instanceof oh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&RE(s)&&(s=OE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Vu?q2(n,e):n instanceof Uu?G2(n,e):function(i,s){const o=z2(i,s),a=W2(o)+W2(i.Ie);return RD(o)&&RD(i.Ie)?$2(a):j2(i.serializer,a)}(n,e)}function XJ(n,e,t){return n instanceof Vu?q2(n,e):n instanceof Uu?G2(n,e):t}function z2(n,e){return n instanceof ah?RD(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class oh extends UE{}class Vu extends UE{constructor(e){super(),this.elements=e}}function q2(n,e){const t=K2(e);for(const r of n.elements)t.some(i=>Eo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Uu extends UE{constructor(e){super(),this.elements=e}}function G2(n,e){let t=K2(e);for(const r of n.elements)t=t.filter(i=>!Eo(i,r));return{arrayValue:{values:t}}}class ah extends UE{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function W2(n){return On(n.integerValue||n.doubleValue)}function K2(n){return Mg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Vg{constructor(e,t){this.field=e,this.transform=t}}class tX{constructor(e,t){this.version=e,this.transformResults=t}}class En{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function BE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jE{}function Z2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new uh(n.key,En.none()):new ch(n.key,n.data,En.none());{const t=n.data,r=Ur.empty();let i=new Zt(dn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ua(n.key,r,new Li(i.toArray()),En.none())}}function nX(n,e,t){n instanceof ch?function(i,s,o){const a=i.value.clone(),c=J2(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ua?function(i,s,o){if(!BE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=J2(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Y2(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ug(n,e,t,r){return n instanceof ch?function(s,o,a,c){if(!BE(s.precondition,o))return a;const l=s.value.clone(),f=X2(s.fieldTransforms,c,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ua?function(s,o,a,c){if(!BE(s.precondition,o))return a;const l=X2(s.fieldTransforms,c,o),f=o.data;return f.setAll(Y2(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):(a=t,BE(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function rX(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=z2(r.transform,i||null);null!=s&&(null===t&&(t=Ur.empty()),t.set(r.field,s))}return t||null}function Q2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Yd(r,i,(s,o)=>function eX(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Vu&&i instanceof Vu||r instanceof Uu&&i instanceof Uu?Yd(r.elements,i.elements,Eo):r instanceof ah&&i instanceof ah?Eo(r.Ie,i.Ie):r instanceof oh&&i instanceof oh);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class ch extends jE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ua extends jE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Y2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function J2(n,e,t){const r=new Map;Pe(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,XJ(o,a,t[i]))}return r}function X2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,JJ(s,o,e))}return r}class uh extends jE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UD extends jE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nX(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ug(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ug(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=B2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=Z2(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Yd(this.mutations,e.mutations,(t,r)=>Q2(t,r))&&Yd(this.baseMutations,e.baseMutations,(t,r)=>Q2(t,r))}}class jD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Pe(e.mutations.length===r.length);let i=ZJ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jD(e,t,r,i)}}class $D{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sX{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qn,bt;function eU(n){switch(n){default:return be();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function tU(n){if(void 0===n)return Bn("GRPC error has no .code"),L.UNKNOWN;switch(n){case Qn.OK:return L.OK;case Qn.CANCELLED:return L.CANCELLED;case Qn.UNKNOWN:return L.UNKNOWN;case Qn.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Qn.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Qn.INTERNAL:return L.INTERNAL;case Qn.UNAVAILABLE:return L.UNAVAILABLE;case Qn.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Qn.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Qn.NOT_FOUND:return L.NOT_FOUND;case Qn.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Qn.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Qn.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Qn.ABORTED:return L.ABORTED;case Qn.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Qn.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Qn.DATA_LOSS:return L.DATA_LOSS;default:return be()}}(bt=Qn||(Qn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";function nU(){return new TextEncoder}const oX=new Kd([4294967295,4294967295],0);function rU(n){const e=nU().encode(n),t=new XY;return t.update(e),new Uint8Array(t.digest())}function iU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Kd([t,r],0),new Kd([i,s],0)]}class HD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bg(`Invalid padding: ${t}`);if(r<0)throw new Bg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Bg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Bg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Kd.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Kd.fromNumber(r)));return 1===i.compare(oX)&&(i=new Kd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=rU(e),[r,i]=iU(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new HD(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=rU(e),[r,i]=iU(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Bg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jg{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,$g.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new jg(Re.min(),i,new rn(Ke),Vi(),tt())}}class $g{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $g(r,t,tt(),tt(),tt())}}class HE{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class sU{constructor(e,t){this.targetId=e,this.fe=t}}class oU{constructor(e,t,r=dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class aU{constructor(){this.ge=0,this.pe=uU(),this.ye=dr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=tt(),t=tt(),r=tt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:be()}}),new $g(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=uU()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Pe(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class aX{constructor(e){this.Be=e,this.ke=new Map,this.qe=Vi(),this.Qe=cU(),this.Ke=new rn(Ke)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(FE(s))if(0===r){const o=new pe(s.path);this.We(t,o,hn.newNoDocument(o,Re.min()))}else Pe(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=oa(r).toUint8Array()}catch(c){if(c instanceof f2)return Fi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new HD(o,i,s)}catch(c){return Fi(c instanceof Bg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&FE(a.target)){const c=new pe(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,hn.newNoDocument(c,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=tt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new jg(e,t,this.Ke,this.qe,r);return this.qe=Vi(),this.Qe=cU(),this.Ke=new rn(Ke),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new aU,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Zt(Ke),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||re("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new aU),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function cU(){return new rn(pe.comparator)}function uU(){return new rn(pe.comparator)}const cX={asc:"ASCENDING",desc:"DESCENDING"},uX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lX={and:"AND",or:"OR"};class dX{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zD(n,e){return n.useProto3Json||Dg(e)?e:{value:e}}function lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hX(n,e){return lh(n,e.toTimestamp())}function jn(n){return Pe(!!n),Re.fromTimestamp(function(t){const r=sa(t);return new vn(r.seconds,r.nanos)}(n))}function qD(n,e){return GD(n,e).canonicalString()}function GD(n,e){const t=(i=n,new gt(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function dU(n){const e=gt.fromString(n);return Pe(wU(e)),e}function Hg(n,e){return qD(n.databaseId,e.path)}function bo(n,e){const t=dU(e);if(t.get(1)!==n.databaseId.projectId)throw new ee(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ee(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(pU(t))}function hU(n,e){return qD(n.databaseId,e)}function fU(n){const e=dU(n);return 4===e.length?gt.emptyPath():pU(e)}function WD(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pU(n){return Pe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function gU(n,e,t){return{name:Hg(n,e),fields:t.value.mapValue.fields}}function mU(n,e,t){const r=bo(n,e.name),i=jn(e.updateTime),s=e.createTime?jn(e.createTime):Re.min(),o=new Ur({mapValue:{fields:e.fields}}),a=hn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function zg(n,e){let t;if(e instanceof ch)t={update:gU(n,e.key,e.value)};else if(e instanceof uh)t={delete:Hg(n,e.key)};else if(e instanceof ua)t={update:gU(n,e.key,e.data),updateMask:EX(e.fieldMask)};else{if(!(e instanceof UD))return be();t={verify:Hg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof oh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ah)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw be()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:hX(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:be()),t;var s}function KD(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?En.updateTime(jn(s.updateTime)):void 0!==s.exists?En.exists(s.exists):En.none():En.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;"setToServerValue"in a?(Pe("REQUEST_TIME"===a.setToServerValue),c=new oh):"appendMissingElements"in a?c=new Vu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new Uu(a.removeAllFromArray.values||[]):"increment"in a?c=new ah(o,a.increment):be();const l=dn.fromServerFormat(a.fieldPath);return new Vg(l,c)}(n,i)):[];var s;if(e.update){const i=bo(n,e.update.name),s=new Ur({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Li((e.updateMask.fieldPaths||[]).map(f=>dn.fromServerFormat(f)));return new ua(i,s,o,t,r)}return new ch(i,s,t,r)}if(e.delete){const i=bo(n,e.delete);return new uh(i,t)}if(e.verify){const i=bo(n,e.verify);return new UD(i,t)}return be()}function _U(n,e){return{documents:[hU(n,e.path)]}}function ZD(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hU(n,i);const s=function(l){if(0!==l.length)return EU(Bt.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(l){if(0!==l.length)return l.map(f=>{return{field:wc((m=f).field),direction:_X(m.dir)};var m})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=zD(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:t,parent:i};var l}function yU(n){let e=fU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Pe(1===r);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(g){const m=vU(g);return m instanceof Bt&&xD(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(m=>{return new Og(dh((E=m).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;t.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,Dg(m)?null:m}(t.limit));let c=null;var g;t.startAt&&(c=new Ec((g=t.startAt).values||[],!!g.before));let l=null;return t.endAt&&(l=function(g){return new Ec(g.values||[],!g.before)}(t.endAt)),O2(e,i,o,s,a,"F",c,l)}function vU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=dh(t.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dh(t.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=dh(t.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=dh(t.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):void 0!==n.fieldFilter?mt.create(dh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Bt.create(t.compositeFilter.filters.map(r=>vU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be();var t}function _X(n){return cX[n]}function yX(n){return uX[n]}function vX(n){return lX[n]}function wc(n){return{fieldPath:n.canonicalString()}}function dh(n){return dn.fromServerFormat(n.fieldPath)}function EU(n){return n instanceof mt?function(t){if("=="===t.op){if(m2(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NAN"}};if(g2(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(m2(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NOT_NAN"}};if(g2(t.value))return{unaryFilter:{field:wc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(t.field),op:yX(t.op),value:t.value}}}(n):n instanceof Bt?function(t){const r=t.getFilters().map(i=>EU(i));return 1===r.length?r[0]:{compositeFilter:{op:vX(t.op),filters:r}}}(n):be()}function EX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class la{constructor(e,t,r,i,s=Re.min(),o=Re.min(),a=dr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bU{constructor(e){this.ct=e}}function CU(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Hg(s=n.ct,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:lh(s,o.version.toTimestamp()),createTime:lh(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Bu(e.version)};else{if(!e.isUnknownDocument())return be();r.unknownDocument={path:t.path.toArray(),version:Bu(e.version)}}var s,o;return r}function zE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ju(n){const e=new vn(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function $u(n,e){const t=(e.baseMutations||[]).map(s=>KD(n.ct,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>KD(n.ct,s)),i=vn.fromMillis(e.localWriteTimeMs);return new BD(e.batchId,i,t,r)}function qg(n){const e=ju(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ju(n.lastLimboFreeSnapshotVersion):Re.min();let r;return r=void 0!==n.query.documents?(Pe(1===(s=n.query).documents.length),vi(rh(fU(s.documents[0])))):function(s){return vi(yU(s))}(n.query),new la(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,dr.fromBase64String(n.resumeToken));var s}function IU(n,e){const t=Bu(e.snapshotVersion),r=Bu(e.lastLimboFreeSnapshotVersion);let i;i=FE(e.target)?_U(n.ct,e.target):ZD(n.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lu(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function QD(n){const e=yU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?VE(e,e.limit,"L"):e}function YD(n,e){return new $D(e.largestBatchId,KD(n.ct,e.overlayMutation))}function TU(n,e){const t=e.path.lastSegment();return[n,ri(e.path.popLast()),t]}function DU(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Bu(r.readTime),documentKey:ri(r.documentKey.path),largestBatchId:r.largestBatchId}}class bX{getBundleMetadata(e,t){return AU(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:ju(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return AU(e).put({bundleId:(i=t).id,createTime:Bu(jn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return SU(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:QD(s.bundledQuery),readTime:ju(s.readTime)};var s})}saveNamedQuery(e,t){return SU(e).put({name:(i=t).name,readTime:Bu(jn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function AU(n){return Tr(n,"bundles")}function SU(n){return Tr(n,"namedQueries")}class qE{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new qE(e,t.uid||"")}getOverlay(e,t){return Gg(e).get(TU(this.userId,t)).next(r=>r?YD(this.serializer,r):null)}getOverlays(e,t){const r=wo();return N.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new $D(t,o);i.push(this.ht(e,a))}),N.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(ri(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Gg(e).H("collectionPathOverlayIndex",a))}),N.waitFor(s)}getOverlaysForCollection(e,t,r){const i=wo(),s=ri(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Gg(e).W("collectionPathOverlayIndex",o).next(a=>{for(const c of a){const l=YD(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=wo();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gg(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,f)=>{const g=YD(this.serializer,l);s.size()<i||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):f.done()}).next(()=>s)}ht(e,t){return Gg(e).put(function(i,s,o){const[a,c,l]=TU(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:zg(i.ct,o.mutation)}}(this.serializer,this.userId,t))}}function Gg(n){return Tr(n,"documentOverlays")}class Hu{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(On(e.integerValue));else if("doubleValue"in e){const r=On(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),Ag(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),"string"==typeof r&&(r=sa(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(oa(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?_2(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):be()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),pe.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function CX(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function PU(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=CX(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Hu.bt=new Hu;class IX{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ct(r.value),r=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Mt(r.value),r=t.next();this.xt()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=t.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=t.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const t=this.Bt(e),r=PU(t);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}qt(e){const t=this.Bt(e),r=PU(t);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class TX{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class DX{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Wg{constructor(){this.Gt=new IX,this.zt=new TX(this.Gt),this.jt=new DX(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class zu{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zu(this.indexId,this.documentKey,this.arrayValue,r)}}function bc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=MU(n.arrayValue,e.arrayValue),0!==t?t:(t=MU(n.directionalValue,e.directionalValue),0!==t?t:pe.comparator(n.documentKey,e.documentKey)))}function MU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class RU{constructor(e){this.Yt=new Zt((t,r)=>dn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Pe(e.collectionGroup===this.collectionId),this.en)return!1;const t=TD(e);if(void 0!==t&&!this.nn(t))return!1;const r=xu(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[s];if(!this.rn(a,c)||!this.sn(this.Zt[o++],c))return!1}++s}for(;s<r.length;++s)if(o>=this.Zt.length||!this.sn(this.Zt[o++],r[s]))return!1;return!0}on(){if(this.en)return null;let e=new Zt(dn.comparator);const t=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Nu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Nu(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Nu(r.field,"asc"===r.dir?0:1)));return new Jd(Jd.UNKNOWN_ID,this.collectionId,t,Xd.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function OU(n){var e,t;if(Pe(n instanceof mt||n instanceof Bt),n instanceof mt){if(n instanceof P2){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>mt.create(n.field,"==",s)))||[];return Bt.create(i,"or")}return n}const r=n.filters.map(i=>OU(i));return Bt.create(r,n.op)}function AX(n){if(0===n.getFilters().length)return[];const e=eA(OU(n));return Pe(xU(e)),JD(e)||XD(e)?[e]:e.getFilters()}function JD(n){return n instanceof mt}function XD(n){return n instanceof Bt&&xD(n)}function xU(n){return JD(n)||XD(n)||function(t){if(t instanceof Bt&&OD(t)){for(const r of t.getFilters())if(!JD(r)&&!XD(r))return!1;return!0}return!1}(n)}function eA(n){if(Pe(n instanceof mt||n instanceof Bt),n instanceof mt)return n;if(1===n.filters.length)return eA(n.filters[0]);const e=n.filters.map(r=>eA(r));let t=Bt.create(e,n.op);return t=GE(t),xU(t)?t:(Pe(t instanceof Bt),Pe(nh(t)),Pe(t.filters.length>1),t.filters.reduce((r,i)=>tA(r,i)))}function tA(n,e){let t;return Pe(n instanceof mt||n instanceof Bt),Pe(e instanceof mt||e instanceof Bt),t=n instanceof mt?e instanceof mt?Bt.create([n,e],"and"):NU(n,e):e instanceof mt?NU(e,n):function(i,s){if(Pe(i.filters.length>0&&s.filters.length>0),nh(i)&&nh(s))return D2(i,s.getFilters());const o=OD(i)?i:s,a=OD(i)?s:i,c=o.filters.map(l=>tA(l,a));return Bt.create(c,"or")}(n,e),GE(t)}function NU(n,e){if(nh(e))return D2(e,n.getFilters());{const t=e.filters.map(r=>tA(n,r));return Bt.create(t,"or")}}function GE(n){if(Pe(n instanceof mt||n instanceof Bt),n instanceof mt)return n;const e=n.getFilters();if(1===e.length)return GE(e[0]);if(I2(n))return n;const t=e.map(i=>GE(i)),r=[];return t.forEach(i=>{i instanceof mt?r.push(i):i instanceof Bt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Bt.create(r,n.op)}class SX{constructor(){this._n=new nA}addToCollectionParentIndex(e,t){return this._n.add(t),N.resolve()}getCollectionParents(e,t){return N.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return N.resolve()}deleteFieldIndex(e,t){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,t){return N.resolve()}getDocumentsMatchingTarget(e,t){return N.resolve(null)}getIndexType(e,t){return N.resolve(0)}getFieldIndexes(e,t){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,t){return N.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return N.resolve(Ji.min())}updateCollectionGroup(e,t,r){return N.resolve()}updateIndexEntries(e,t){return N.resolve()}}class nA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Zt(gt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(gt.comparator)).toArray()}}const WE=new Uint8Array(0);class PX{constructor(e,t){this.databaseId=t,this.an=new nA,this.un=new ca(r=>Lu(r),(r,i)=>xg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.an.add(t)});const s={collectionId:r,parent:ri(i)};return kU(e).put(s)}return N.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[QV(t),""],!1,!0);return kU(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(vo(o.parent))}return r})}addFieldIndex(e,t){const r=Kg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=fh(e);return s.next(a=>{o.put(DU(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Kg(e),i=fh(e),s=hh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Kg(e),r=hh(e),i=fh(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return N.forEach(this.cn(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new RU(r).on();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=hh(e);let i=!0;const s=new Map;return N.forEach(this.cn(t),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=tt();const a=[];return N.forEach(s,(c,l)=>{var x;re("IndexedDbIndexManager",`Using index ${x=c,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(q=>`${q.fieldPath}:${q.kind}`).join(",")}`} to execute ${Lu(t)}`);const f=function(x,q){const ue=TD(q);if(void 0===ue)return null;for(const Me of LE(x,ue.fieldPath))switch(Me.op){case"array-contains-any":return Me.value.arrayValue.values||[];case"array-contains":return[Me.value]}return null}(l,c),g=function(x,q){const ue=new Map;for(const Me of xu(q))for(const He of LE(x,Me.fieldPath))switch(He.op){case"==":case"in":ue.set(Me.fieldPath.canonicalString(),He.value);break;case"not-in":case"!=":return ue.set(Me.fieldPath.canonicalString(),He.value),Array.from(ue.values())}return null}(l,c),m=function(x,q){const ue=[];let Me=!0;for(const He of xu(q)){const xt=0===He.kind?M2(x,He.fieldPath,x.startAt):R2(x,He.fieldPath,x.startAt);ue.push(xt.value),Me&&(Me=xt.inclusive)}return new Ec(ue,Me)}(l,c),y=function(x,q){const ue=[];let Me=!0;for(const He of xu(q)){const xt=0===He.kind?R2(x,He.fieldPath,x.endAt):M2(x,He.fieldPath,x.endAt);ue.push(xt.value),Me&&(Me=xt.inclusive)}return new Ec(ue,Me)}(l,c),E=this.hn(c,l,m),C=this.hn(c,l,y),I=this.Pn(c,l,g),M=this.In(c.indexId,f,E,m.inclusive,C,y.inclusive,I);return N.forEach(M,P=>r.j(P,t.limit).next(x=>{x.forEach(q=>{const ue=pe.fromSegments(q.documentKey);o.has(ue)||(o=o.add(ue),a.push(ue))})}))}).next(()=>a)}return N.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:AX(Bt.create(e.filters,"and")).map(r=>kD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}In(e,t,r,i,s,o,a){const c=(null!=t?t.length:1)*Math.max(r.length,s.length),l=c/(null!=t?t.length:1),f=[];for(let g=0;g<c;++g){const m=t?this.Tn(t[g/l]):WE,y=this.En(e,m,r[g%l],i),E=this.dn(e,m,s[g%l],o),C=a.map(I=>this.En(e,m,I,!0));f.push(...this.createRange(y,E,C))}return f}En(e,t,r,i){const s=new zu(e,pe.empty(),t,r);return i?s:s.Jt()}dn(e,t,r,i){const s=new zu(e,pe.empty(),t,r);return i?s.Jt():s}ln(e,t){const r=new RU(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.cn(t);return N.forEach(i,s=>this.ln(e,s).next(o=>{o?0!==r&&o.fields.length<function(c){let l=new Zt(dn.comparator),f=!1;for(const g of c.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?f=!0:l=l.add(m.field));for(const g of c.orderBy)g.field.isKeyField()||(l=l.add(g.field));return l.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}An(e,t){const r=new Wg;for(const i of xu(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.Ht(i.kind);Hu.bt.Pt(s,o)}return r.Wt()}Tn(e){const t=new Wg;return Hu.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const r=new Wg;return Hu.bt.Pt(Fu(this.databaseId,t),r.Ht(function(s){const o=xu(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,t,r){if(null===r)return[];let i=[];i.push(new Wg);let s=0;for(const o of xu(e)){const a=r[s++];for(const c of i)if(this.Vn(t,o.fieldPath)&&Mg(a))i=this.mn(i,o,a);else{const l=c.Ht(o.kind);Hu.bt.Pt(a,l)}}return this.fn(i)}hn(e,t,r){return this.Pn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Wt();return t}mn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const c=new Wg;c.seed(a.Wt()),Hu.bt.Pt(o,c.Ht(t.kind)),s.push(c)}return s}Vn(e,t){return!!e.filters.find(r=>r instanceof mt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Kg(e),i=fh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return N.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(f,g){const m=g?new Xd(g.sequenceNumber,new Ji(ju(g.readTime),new pe(vo(g.documentKey)),g.largestBatchId)):Xd.empty(),y=f.fields.map(([E,C])=>new Nu(dn.fromServerFormat(E),C));return new Jd(f.indexId,f.collectionGroup,y,m)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ke(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Kg(e),s=fh(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>N.forEach(a,c=>s.put(DU(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){const r=new Map;return N.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?N.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),N.forEach(a,c=>this.pn(e,i,c).next(l=>{const f=this.yn(s,c);return l.isEqual(f)?N.resolve():this.wn(e,s,c,l,f)}))))})}Sn(e,t,r,i){return hh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,t.key),documentKey:t.key.path.toArray()})}bn(e,t,r,i){return hh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,t.key),t.key.path.toArray()])}pn(e,t,r){const i=hh(e);let s=new Zt(bc);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,t)])},(o,a)=>{s=s.add(new zu(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,t){let r=new Zt(bc);const i=this.An(t,e);if(null==i)return r;const s=TD(t);if(null!=s){const o=e.data.field(s.fieldPath);if(Mg(o))for(const a of o.arrayValue.values||[])r=r.add(new zu(t.indexId,e.key,this.Tn(a),i))}else r=r.add(new zu(t.indexId,e.key,WE,i));return r}wn(e,t,r,i,s){re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(c,l,f,g,m){const y=c.getIterator(),E=l.getIterator();let C=eh(y),I=eh(E);for(;C||I;){let M=!1,P=!1;if(C&&I){const x=f(C,I);x<0?P=!0:x>0&&(M=!0)}else null!=C?P=!0:M=!0;M?(g(I),I=eh(E)):P?(m(C),C=eh(y)):(C=eh(y),I=eh(E))}}(i,s,bc,a=>{o.push(this.Sn(e,t,r,a))},a=>{o.push(this.bn(e,t,r,a))}),N.waitFor(o)}gn(e){let t=1;return fh(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>bc(o,a)).filter((o,a,c)=>!a||0!==bc(o,c[a-1]));const i=[];i.push(e);for(const o of r){const a=bc(o,e),c=bc(o,t);if(0===a)i[0]=e.Jt();else if(a>0&&c<0)i.push(o),i.push(o.Jt());else if(c>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,WE,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,WE,[]]))}return s}Dn(e,t){return bc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(FU)}getMinOffset(e,t){return N.mapArray(this.cn(t),r=>this.ln(e,r).next(i=>i||be())).next(FU)}}function kU(n){return Tr(n,"collectionParents")}function hh(n){return Tr(n,"indexEntries")}function Kg(n){return Tr(n,"indexConfiguration")}function fh(n){return Tr(n,"indexState")}function FU(n){Pe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;DD(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ji(e.readTime,e.documentKey,t)}const LU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ii(e,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VU(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const c=r.Y({range:o},(f,g,m)=>(a++,m.delete()));s.push(c.next(()=>{Pe(1===a)}));const l=[];for(const f of t.mutations){const g=s2(e,f.key.path,t.batchId);s.push(i.delete(g)),l.push(f.key)}return N.waitFor(s).next(()=>l)}function KE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw be();e=n.noDocument}return JSON.stringify(e).length}ii.DEFAULT_COLLECTION_PERCENTILE=10,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ii.DEFAULT=new ii(41943040,ii.DEFAULT_COLLECTION_PERCENTILE,ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ii.DISABLED=new ii(-1,0,0);class ZE{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,t,r,i){Pe(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new ZE(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=ph(e),o=Cc(e);return o.add({}).next(a=>{Pe("number"==typeof a);const c=new BD(a,t,r,i),l=function(y,E,C){const I=C.baseMutations.map(P=>zg(y.ct,P)),M=C.mutations.map(P=>zg(y.ct,P));return{userId:E,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:I,mutations:M}}(this.serializer,this.userId,c),f=[];let g=new Zt((m,y)=>Ke(m.canonicalString(),y.canonicalString()));for(const m of i){const y=s2(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),f.push(o.put(l)),f.push(s.put(y,_J))}return g.forEach(m=>{f.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),N.waitFor(f).next(()=>c)})}lookupMutationBatch(e,t){return Cc(e).get(t).next(r=>r?(Pe(r.userId===this.userId),$u(this.serializer,r)):null)}vn(e,t){return this.Cn[t]?N.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Cn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Cc(e).Y({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(Pe(a.batchId>=r),s=$u(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Cc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).W("userMutationsIndex",t).next(r=>r.map(i=>$u(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=PE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return ph(e).Y({range:i},(o,a,c)=>{const[l,f,g]=o,m=vo(f);if(l===this.userId&&t.path.isEqual(m))return Cc(e).get(g).next(y=>{if(!y)throw be();Pe(y.userId===this.userId),s.push($u(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(Ke);const i=[];return t.forEach(s=>{const o=PE(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=ph(e).Y({range:a},(l,f,g)=>{const[m,y,E]=l,C=vo(y);m===this.userId&&s.path.isEqual(C)?r=r.add(E):g.done()});i.push(c)}),N.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=PE(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Zt(Ke);return ph(e).Y({range:o},(c,l,f)=>{const[g,m,y]=c,E=vo(m);g===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(y)):f.done()}).next(()=>this.Fn(e,a))}Fn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Cc(e).get(s).next(o=>{if(null===o)throw be();Pe(o.userId===this.userId),r.push($u(this.serializer,o))}))}),N.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return VU(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Mn(t.batchId)}),N.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return N.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return ph(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const c=vo(s[1]);i.push(c)}else a.done()}).next(()=>{Pe(0===i.length)})})}containsKey(e,t){return UU(e,this.userId,t)}xn(e){return BU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function UU(n,e,t){const r=PE(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ph(n).Y({range:s,J:!0},(a,c,l)=>{const[f,g,m]=a;f===e&&g===i&&(o=!0),l.done()}).next(()=>o)}function Cc(n){return Tr(n,"mutations")}function ph(n){return Tr(n,"documentMutations")}function BU(n){return Tr(n,"mutationQueues")}class qu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qu(0)}static Ln(){return new qu(-1)}}class MX{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new qu(t.highestTargetId);return t.highestTargetId=r.next(),this.kn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Re.fromTimestamp(new vn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.kn(e,i)))}addTargetData(e,t){return this.qn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(t,r),this.kn(e,r))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(Pe(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return gh(e).Y((o,a)=>{const c=qg(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>N.waitFor(s)).next(()=>i)}forEachTarget(e,t){return gh(e).Y((r,i)=>{const s=qg(i);t(s)})}Bn(e){return jU(e).get("targetGlobalKey").next(t=>(Pe(null!==t),t))}kn(e,t){return jU(e).put("targetGlobalKey",t)}qn(e,t){return gh(e).put(IU(this.serializer,t))}Qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Lu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return gh(e).Y({range:i,index:"queryTargetsIndex"},(o,a,c)=>{const l=qg(a);xg(t,l.target)&&(s=l,c.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Ic(e);return t.forEach(o=>{const a=ri(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),N.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ic(e);return N.forEach(t,s=>{const o=ri(s.path);return N.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Ic(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ic(e);let s=tt();return i.Y({range:r,J:!0},(o,a,c)=>{const l=vo(o[1]),f=new pe(l);s=s.add(f)}).next(()=>s)}containsKey(e,t){const r=ri(t.path),i=IDBKeyRange.bound([r],[QV(r)],!1,!0);let s=0;return Ic(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],c,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}_t(e,t){return gh(e).get(t).next(r=>r?qg(r):null)}}function gh(n){return Tr(n,"targets")}function jU(n){return Tr(n,"targetGlobal")}function Ic(n){return Tr(n,"targetDocuments")}function $U([n,e],[t,r]){const i=Ke(n,t);return 0===i?Ke(e,r):i}class RX{constructor(e){this.Kn=e,this.buffer=new Zt($U),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$U(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var t=this;re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Z.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){pc(r)?re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield fc(r)}yield t.zn(3e5)}))}}class OX{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return N.resolve(Xi._e);const r=new RX(t);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(LU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LU):this.Yn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let r,i,s,o,a,c,l;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(l=Date.now(),Qd()<=go.in.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-f}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(c-a)+`ms\n\tRemoved ${g} documents in `+(l-c)+`ms\nTotal Duration: ${l-f}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}class xX{constructor(e,t){this.db=e,this.garbageCollector=function zU(n,e){return new OX(n,e)}(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Zn(e){let t=0;return this.Jn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,(r,i)=>t(i))}addReference(e,t,r){return QE(e,r)}removeReference(e,t,r){return QE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return QE(e,t)}er(e,t){return function(i,s){let o=!1;return BU(i).Z(a=>UU(i,a,s).next(c=>(c&&(o=!0),N.resolve(!c)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=t){const c=this.er(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Re.min()),Ic(e).delete([0,ri(o.path)])))});i.push(c)}}).next(()=>N.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return QE(e,t)}Xn(e,t){const r=Ic(e);let i,s=Xi._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:l})=>{0===o?(s!==Xi._e&&t(new pe(vo(i)),s),s=l,i=c):s=Xi._e}).next(()=>{s!==Xi._e&&t(new pe(vo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function QE(n,e){return Ic(n).put((i=n.currentSequenceNumber,{targetId:0,path:ri(e.path),sequenceNumber:i}));var i}class qU{constructor(){this.changes=new ca(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?N.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NX{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Gu(e).put(r)}removeEntry(e,t,r){return Gu(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],zE(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.tr(e,r)))}getEntry(e,t){let r=hn.newInvalidDocument(t);return Gu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Zg(t))},(i,s)=>{r=this.nr(t,s)}).next(()=>r)}rr(e,t){let r={size:0,document:hn.newInvalidDocument(t)};return Gu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Zg(t))},(i,s)=>{r={document:this.nr(t,s),size:KE(s)}}).next(()=>r)}getEntries(e,t){let r=Vi();return this.ir(e,t,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,t){let r=Vi(),i=new rn(pe.comparator);return this.ir(e,t,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,KE(o))}).next(()=>({documents:r,_r:i}))}ir(e,t,r){if(t.isEmpty())return N.resolve();let i=new Zt(ZU);t.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(Zg(i.first()),Zg(i.last())),o=i.getIterator();let a=o.getNext();return Gu(e).Y({index:"documentKeyIndex",range:s},(c,l,f)=>{const g=pe.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&ZU(a,g)<0;)r(a,null),a=o.getNext();a&&a.isEqual(g)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?f.U(Zg(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),zE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gu(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let f=Vi();for(const g of l){const m=this.nr(pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(kg(t,m)||i.has(m.key))&&(f=f.insert(m.key,m))}return f})}getAllFromCollectionGroup(e,t,r,i){let s=Vi();const o=KU(t,r),a=KU(t,Ji.max());return Gu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,l,f)=>{const g=this.nr(pe.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(g.key,g),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new kX(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return WU(e).get("remoteDocumentGlobalKey").next(t=>(Pe(!!t),t))}tr(e,t){return WU(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const r=function wX(n,e){let t;if(e.document)t=mU(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pe.fromSegments(e.noDocument.path),i=ju(e.noDocument.readTime);t=hn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return be();{const r=pe.fromSegments(e.unknownDocument.path),i=ju(e.unknownDocument.version);t=hn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new vn(i[0],i[1]);return Re.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Re.min()))return r}return hn.newInvalidDocument(e)}}function GU(n){return new NX(n)}class kX extends qU{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new ca(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Zt((s,o)=>Ke(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(t.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const c=CU(this.ar.serializer,o);i=i.add(s.path.popLast());const l=KE(c);r+=l-a.size,t.push(this.ar.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){const c=CU(this.ar.serializer,o.convertToNoDocument(Re.min()));t.push(this.ar.addEntry(e,s,c))}}),i.forEach(s=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.ar.updateMetadata(e,r)),N.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next(r=>(this.ur.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.ar.sr(e,t).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function WU(n){return Tr(n,"remoteDocumentGlobal")}function Gu(n){return Tr(n,"remoteDocumentsV14")}function Zg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function KU(n,e){const t=e.documentKey.path.toArray();return[n,zE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ZU(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ke(t[s],r[s]),i)return i;return i=Ke(t.length,r.length),i||(i=Ke(t[t.length-2],r[r.length-2]),i||Ke(t[t.length-1],r[r.length-1]))}class FX{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class QU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Ug(r.mutation,i,Li.empty(),vn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const i=wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Fg();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Vi();const o=Lg(),a=Lg();return t.forEach((c,l)=>{const f=r.get(l.key);i.has(l.key)&&(void 0===f||f.mutation instanceof ua)?s=s.insert(l.key,l):void 0!==f?(o.set(l.key,f.mutation.getFieldMask()),Ug(f.mutation,l,f.mutation.getFieldMask(),vn.now())):o.set(l.key,Li.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,f)=>o.set(l,f)),t.forEach((l,f)=>{var g;return a.set(l,new FX(f,null!==(g=o.get(l))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Lg();let i=new rn((o,a)=>o-a),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let f=r.get(c)||Li.empty();f=a.applyToLocalView(l,f),r.set(c,f);const g=(i.get(a.batchId)||tt()).add(c);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,f=c.value,g=B2();f.forEach(m=>{if(!s.has(m)){const y=Z2(t.get(m),r.get(m));null!==y&&g.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return pe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):FD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):N.resolve(wo());let a=-1,c=s;return o.next(l=>N.forEach(l,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,tt())).next(f=>({batchId:a,changes:U2(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(r=>{let i=Fg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Fg();return this.indexManager.getCollectionParents(e,s).next(a=>N.forEach(a,c=>{const l=(g=t,m=c.child(s),new aa(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,m)=>{o=o.insert(g,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,l)=>{const f=l.getKey();null===o.get(f)&&(o=o.insert(f,hn.newInvalidDocument(f)))});let a=Fg();return o.forEach((c,l)=>{const f=s.get(c);void 0!==f&&Ug(f.mutation,l,Li.empty(),vn.now()),kg(t,l)&&(a=a.insert(c,l))}),a})}}class LX{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return N.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(i=t).id,version:i.version,createTime:jn(i.createTime)}),N.resolve();var i}getNamedQuery(e,t){return N.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(i=t).name,query:QD(i.bundledQuery),readTime:jn(i.readTime)}),N.resolve();var i}}class VX{constructor(){this.overlays=new rn(pe.comparator),this.hr=new Map}getOverlay(e,t){return N.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wo();return N.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),N.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),N.resolve()}getOverlaysForCollection(e,t,r){const i=wo(),s=t.length+1,o=new pe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return N.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new rn((l,f)=>l-f);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=s.get(l.largestBatchId);null===f&&(f=wo(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}const a=wo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return N.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $D(t,r));let s=this.hr.get(t);void 0===s&&(s=tt(),this.hr.set(t,s)),this.hr.set(t,s.add(r.key))}}class rA{constructor(){this.Pr=new Zt(Dr.Ir),this.Tr=new Zt(Dr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new Dr(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Dr(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new pe(new gt([])),r=new Dr(t,e),i=new Dr(t,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new pe(new gt([])),r=new Dr(t,e),i=new Dr(t,e+1);let s=tt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Dr(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Dr{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return pe.comparator(e.key,t.key)||Ke(e.pr,t.pr)}static Er(e,t){return Ke(e.pr,t.pr)||pe.comparator(e.key,t.key)}}class UX{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Zt(Dr.Ir)}checkEmpty(e){return N.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.yr;this.yr++;const o=new BD(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Dr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,t){return N.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.br(t+1),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dr(t,0),i=new Dr(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(Ke);return t.forEach(i=>{const s=new Dr(i,0),o=new Dr(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),N.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Dr(new pe(s),0);let a=new Zt(Ke);return this.wr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},o),N.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Pe(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return N.forEach(t.mutations,i=>{const s=new Dr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new Dr(t,0),i=this.wr.firstAfterOrEqual(r);return N.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return N.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class BX{constructor(e){this.vr=e,this.docs=new rn(pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return N.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=Vi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():hn.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Vi();const o=t.path,a=new pe(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:f}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||DD(JV(f),r)<=0||(i.has(f.key)||kg(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,t,r,i){be()}Fr(e,t){return N.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jX(this)}getSize(e){return N.resolve(this.size)}}class jX extends qU{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),N.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class $X{constructor(e){this.persistence=e,this.Mr=new ca(t=>Lu(t),xg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Or=0,this.Nr=new rA,this.targetCount=0,this.Lr=qu.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),N.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new qu(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,N.resolve()}updateTargetData(e,t){return this.qn(t),N.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return N.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),N.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),N.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return N.resolve(r)}containsKey(e,t){return N.resolve(this.Nr.containsKey(t))}}class iA{constructor(e,t){this.Br={},this.overlays={},this.kr=new Xi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new $X(this),this.indexManager=new SX,this.remoteDocumentCache=new BX(r=>this.referenceDelegate.Kr(r)),this.serializer=new bU(t),this.$r=new LX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VX,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new UX(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){re("MemoryPersistence","Starting transaction:",e);const i=new HX(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,t){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class HX extends e2{constructor(e){super(),this.currentSequenceNumber=e}}class YE{constructor(e){this.persistence=e,this.zr=new rA,this.jr=null}static Hr(e){return new YE(e)}get Jr(){if(this.jr)return this.jr;throw be()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),N.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),N.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Jr,r=>{const i=pe.fromPath(r);return this.Yr(e,i).next(s=>{s||t.removeEntry(i,Re.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return N.or([()=>N.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class zX{constructor(e){this.serializer=e}N(e,t,r,i){const s=new SE("createOrUpgrade",t);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i2,{unique:!0}),c.createObjectStore("documentMutations"),YU(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=N.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),YU(e)),o=o.next(()=>function(c){const l=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",f)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(c,l){return l.store("mutations").W().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i2,{unique:!0});const g=l.store("mutations"),m=f.map(y=>g.put(y));return N.waitFor(m)})}(e,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:PJ});l.createIndex("collectionPathOverlayIndex",MJ,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",RJ,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:yJ});l.createIndex("documentKeyIndex",vJ),l.createIndex("collectionGroupIndex",EJ)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:TJ}).createIndex("sequenceNumberIndex",DJ,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:AJ}).createIndex("documentKeyIndex",SJ,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),o}ei(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=KE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>N.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>N.forEach(a,c=>{Pe(c.userId===s.userId);const l=$u(this.serializer,c);return VU(e,s.userId,l).next(()=>{})}))}))}ti(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const c=new gt(o),l=[0,ri(c)];s.push(t.get(l).next(f=>f?N.resolve():t.put({targetId:0,path:ri(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>N.waitFor(s))})}ni(e,t){e.createObjectStore("collectionParents",{keyPath:IJ});const r=t.store("collectionParents"),i=new nA,s=o=>{if(i.add(o)){const a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:ri(c)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const c=new gt(o);return s(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,c],l)=>{const f=vo(a);return s(f.popLast())}))}ri(e){const t=e.store("targets");return t.Y((r,i)=>{const s=qg(i),o=IU(this.serializer,s);return t.put(o)})}ii(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),c=(g=o,g.document?new pe(gt.fromString(g.document.name).popFirst(5)):g.noDocument?pe.fromSegments(g.noDocument.path):g.unknownDocument?pe.fromSegments(g.unknownDocument.path):be()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var g;i.push(a.put(l))}).next(()=>N.waitFor(i))}si(e,t){const r=t.store("mutations"),i=GU(this.serializer),s=new iA(YE.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(c=>{var l;let f=null!==(l=a.get(c.userId))&&void 0!==l?l:tt();$u(this.serializer,c).keys().forEach(g=>f=f.add(g)),a.set(c.userId,f)}),N.forEach(a,(c,l)=>{const f=new Ir(l),g=qE.lt(this.serializer,f),m=s.getIndexManager(f),y=ZE.lt(f,this.serializer,m,s.referenceDelegate);return new QU(i,y,g,m).recalculateAndSaveOverlaysForDocumentKeys(new PD(t,Xi._e),c).next()})})}}function YU(n){n.createObjectStore("targetDocuments",{keyPath:bJ}).createIndex("documentTargetsIndex",CJ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wJ,{unique:!0}),n.createObjectStore("targetGlobal")}const sA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oA{constructor(e,t,r,i,s,o,a,c,l,f,g=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=l,this.ai=f,this.ui=g,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!oA.D())throw new ee(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xX(this,i),this.Ti=t+"main",this.serializer=new bU(c),this.Ei=new Es(this.Ti,this.ui,new zX(this.serializer)),this.Qr=new MX(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GU(this.serializer),this.$r=new bX,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===f&&Bn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(L.FAILED_PRECONDITION,sA);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Xi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var t=this;return this.Ii=function(){var r=(0,Z.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var t=(0,Z.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,Z.Z)(function*(){t.started&&(yield t.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>XE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(t=>{t||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(t=>this.isPrimary&&!t?this.yi(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(pc(e))return re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Qg(e).get("owner").next(t=>N.resolve(this.Si(t)))}bi(e){return XE(e).delete(this.clientId)}Di(){var e=this;return(0,Z.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Tr(r,"clientMetadata");return i.W().next(s=>{const o=e.vi(s,18e5),a=s.filter(c=>-1===o.indexOf(c));return N.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of t)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?N.resolve(!0):Qg(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new ee(L.FAILED_PRECONDITION,sA);return!1}}return!(!this.networkEnabled||!this.inForeground)||XE(e).W().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Z.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new PD(t,Xi._e);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Li()})()}vi(e,t){return e.filter(r=>this.Ci(r.updateTimeMs,t)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>XE(e).W().next(t=>this.vi(t,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,t){return ZE.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PX(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return qE.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,r){re("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=16===(c=this.ui)?xJ:15===c?u2:14===c?c2:13===c?a2:12===c?OJ:11===c?o2:void be();var c;let o;return this.Ei.runTransaction(e,i,s,a=>(o=new PD(a,this.kr?this.kr.next():Xi._e),"readwrite-primary"===t?this.gi(o).next(c=>!!c||this.pi(o)).next(c=>{if(!c)throw Bn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ee(L.FAILED_PRECONDITION,XV);return r(o)}).next(c=>this.wi(o).next(()=>c)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Qg(e).get("owner").next(t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)&&!this.Si(t)&&!(this.ai||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ee(L.FAILED_PRECONDITION,sA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qg(e).put("owner",t)}static D(){return Es.D()}yi(e){const t=Qg(e);return t.get("owner").next(r=>this.Si(r)?(re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):N.resolve())}Ci(e,t){const r=Date.now();return!(e<r-t||e>r&&(Bn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Rt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const r=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Bn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Bn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qg(n){return Tr(n,"owner")}function XE(n){return Tr(n,"clientMetadata")}function aA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class cA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=tt(),i=tt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cA(e,t.fromCache,r,i)}}class qX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class JU{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,Rt.G6)()?8:Es.v((0,Rt.z$)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qX;return this.Ji(e,t,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,t,o,a.size)})}).next(()=>s.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Qd()<=go.in.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",sh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),N.resolve()):(Qd()<=go.in.DEBUG&&re("QueryEngine","Query:",sh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Qd()<=go.in.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",sh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(t))):N.resolve())}ji(e,t){if(x2(t))return N.resolve(null);let r=vi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=VE(t,null,"F"),r=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=tt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Zi(t,a);return this.Xi(t,l,o,c.readTime)?this.ji(e,VE(t,null,"F")):this.es(e,l,t,c)}))})))}Hi(e,t,r,i){return x2(t)||i.isEqual(Re.min())?N.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(t,s);return this.Xi(t,o,r,i)?N.resolve(null):(Qd()<=go.in.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sh(t)),this.es(e,o,t,YV(i,-1)).next(a=>a))})}Zi(e,t){let r=new Zt(L2(e));return t.forEach((i,s)=>{kg(e,s)&&(r=r.add(s))}),r}Xi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,t,r){return Qd()<=go.in.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",sh(t)),this.zi.getDocumentsMatchingQuery(e,t,Ji.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class GX{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new rn(Ke),this.rs=new ca(s=>Lu(s),xg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QU(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function XU(n,e,t,r){return new GX(n,e,t,r)}function eB(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,Z.Z)(function*(n,e){const t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=tt();for(const l of i){o.push(l.batchId);for(const f of l.mutations)c=c.add(f.key)}for(const l of s){a.push(l.batchId);for(const f of l.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}),uA.apply(this,arguments)}function tB(n){const e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function nB(n,e,t){let r=tt(),i=tt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Vi();return t.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:i}})}function ZX(n,e){const t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mh(n,e){const t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):t.Qr.allocateTargetId(r).next(o=>(i=new la(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function _h(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,Z.Z)(function*(n,e,t){const r=he(n),i=r.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!pc(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),lA.apply(this,arguments)}function ew(n,e,t){const r=he(n);let i=Re.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,f){const g=he(c),m=g.rs.get(f);return void 0!==m?N.resolve(g.ns.get(m)):g.Qr.getTargetData(l,f)}(r,o,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,t?i:Re.min(),t?s:tt())).next(a=>(sB(r,F2(e),a),{documents:a,hs:s})))}function rB(n,e){const t=he(n),r=he(t.Qr),i=t.ns.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function iB(n,e){const t=he(n),r=t.ss.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.os.getAllFromCollectionGroup(i,e,YV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(sB(t,e,i),i))}function sB(n,e,t){let r=n.ss.get(e)||Re.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ss.set(e,r)}function dA(){return dA=(0,Z.Z)(function*(n,e,t,r){const i=he(n);let s=tt(),o=Vi();for(const l of t){const f=e.Ps(l.metadata.name);l.document&&(s=s.add(f));const g=e.Is(l);g.setReadTime(e.Ts(l.metadata.readTime)),o=o.insert(f,g)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=yield mh(i,(f=r,vi(rh(gt.fromString(`__bundle__/docs/${f}`)))));var f;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>nB(l,a,o).next(f=>(a.apply(l),f)).next(f=>i.Qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>i.Qr.addMatchingKeys(l,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,f.cs,f.ls)).next(()=>f.cs)))}),dA.apply(this,arguments)}function YX(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,Z.Z)(function*(n,e,t=tt()){const r=yield mh(n,vi(QD(e.bundledQuery))),i=he(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=jn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(dr.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}),hA.apply(this,arguments)}function oB(n,e){return`firestore_clients_${n}_${e}`}function aB(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function fA(n,e){return`firestore_targets_${n}_${e}`}class tw{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Es(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new ee(i.error.code,i.error.message))),o?new tw(e,t,i.state,s):(Bn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Es(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ee(r.error.code,r.error.message))),s?new Yg(e,r.state,i):(Bn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=VD();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=n2(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new nw(e,s):(Bn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class pA{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new pA(t.clientId,t.onlineState):(Bn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class gA{constructor(){this.activeTargetIds=VD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mA{constructor(e,t,r,i,s){this.window=e,this.oi=t,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new rn(Ke),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=oB(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new gA),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Z.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Vs)continue;const s=e.getItem(oB(e.persistenceKey,i));if(s){const o=nw.Es(i,s);o&&(e.ps=e.ps.insert(o.clientId,o))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,r){this.Ls(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(fA(this.persistenceKey,e));if(r){const i=Yg.Es(e,r);i&&(t=i.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fA(this.persistenceKey,e))}updateQueryState(e,t,r){this.qs(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return re("SharedClientState","READ",e,t),t}setItem(e,t){re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void Bn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,Z.Z)(function*(){if(t.started){if(null!==r.key)if(t.bs.test(r.key)){if(null==r.newValue){const i=t.$s(r.key);return t.Us(i,null)}{const i=t.Ws(r.key,r.newValue);if(i)return t.Us(i.clientId,i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.Gs(r.key,r.newValue);if(i)return t.zs(i)}}else if(t.Cs.test(r.key)){if(null!==r.newValue){const i=t.js(r.key,r.newValue);if(i)return t.Hs(i)}}else if(r.key===t.vs){if(null!==r.newValue){const i=t.xs(r.newValue);if(i)return t.Os(i)}}else if(r.key===t.Ss){const i=function(o){let a=Xi._e;if(null!=o)try{const c=JSON.parse(o);Pe("number"==typeof c),a=c}catch(c){Bn("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==Xi._e&&t.sequenceNumberHandler(i)}else if(r.key===t.Fs){const i=t.Js(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Ys(s)))}}else t.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,r){const i=new tw(this.currentUser,e,t,r),s=aB(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const t=aB(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,t,r){const i=fA(this.persistenceKey,e),s=new Yg(e,t,r);this.setItem(i,s.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const r=this.$s(e);return nw.Es(r,t)}Gs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return tw.Es(new Ir(void 0!==r[2]?r[2]:null),i,t)}js(e,t){const r=this.Cs.exec(e),i=Number(r[1]);return Yg.Es(i,t)}xs(e){return pA.Es(e)}Js(e){return JSON.parse(e)}zs(e){var t=this;return(0,Z.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Zs(e.batchId,e.state,e.error);re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=VD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class cB{constructor(){this.no=new gA,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new gA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JX{io(e){}shutdown(){}}class uB{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rw=null;function _A(){return null===rw?rw=268435456+Math.round(2147483648*Math.random()):rw++,"0x"+rw.toString(16)}const XX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eee{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const si="WebChannelConnection";class tee extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+t.host,this.po=`projects/${i}/databases/${s}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(t,r,i,s,o){const a=_A(),c=this.bo(t,r.toUriEncodedString());re("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(t,c,l,i).then(f=>(re("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw Fi("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}vo(t,r,i,s,o,a){return this.So(t,r,i,s,o)}Do(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Zd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}bo(t,r){return`${this.fo}/v1/${r}:${XX[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,r,i){const s=_A();return new Promise((o,a)=>{const c=new JY;c.setWithCredentials(!0),c.listenOnce(QY.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case CD.NO_ERROR:const f=c.getResponseJson();re(si,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case CD.TIMEOUT:re(si,`RPC '${e}' ${s} timed out`),a(new ee(L.DEADLINE_EXCEEDED,"Request time out"));break;case CD.HTTP_ERROR:const g=c.getStatus();if(re(si,`RPC '${e}' ${s} failed with status:`,g,"response text:",c.getResponseText()),g>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const E=function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(M)>=0?M:L.UNKNOWN}(y.status);a(new ee(E,y.message))}else a(new ee(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ee(L.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{re(si,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);re(si,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",l,r,15)})}Fo(e,t,r){const i=_A(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KY(),a=ZY(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const f=s.join("");re(si,`Creating RPC '${e}' stream ${i}: ${f}`,c);const g=o.createWebChannel(f,c);let m=!1,y=!1;const E=new eee({lo:I=>{y?re(si,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(m||(re(si,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),re(si,`RPC '${e}' stream ${i} sending:`,I),g.send(I))},ho:()=>g.close()}),C=(I,M,P)=>{I.listen(M,x=>{try{P(x)}catch(q){setTimeout(()=>{throw q},0)}})};return C(g,AE.EventType.OPEN,()=>{y||re(si,`RPC '${e}' stream ${i} transport opened.`)}),C(g,AE.EventType.CLOSE,()=>{y||(y=!0,re(si,`RPC '${e}' stream ${i} transport closed`),E.Vo())}),C(g,AE.EventType.ERROR,I=>{y||(y=!0,Fi(si,`RPC '${e}' stream ${i} transport errored:`,I),E.Vo(new ee(L.UNAVAILABLE,"The operation could not be completed")))}),C(g,AE.EventType.MESSAGE,I=>{var M;if(!y){const P=I.data[0];Pe(!!P);const q=P.error||(null===(M=P[0])||void 0===M?void 0:M.error);if(q){re(si,`RPC '${e}' stream ${i} received error:`,q);const ue=q.status;let Me=function(Ci){const Ui=Qn[Ci];if(void 0!==Ui)return tU(Ui)}(ue),He=q.message;void 0===Me&&(Me=L.INTERNAL,He="Unknown error status: "+ue+" with message "+q.message),y=!0,E.Vo(new ee(Me,He)),g.close()}else re(si,`RPC '${e}' stream ${i} received:`,P),E.mo(P)}}),C(a,YY.STAT_EVENT,I=>{I.stat===qV.PROXY?re(si,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===qV.NOPROXY&&re(si,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.Ro()},0),E}}function lB(){return typeof window<"u"?window:null}function iw(){return typeof document<"u"?document:null}function Jg(n){return new dX(n,!0)}class yA{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class dB{constructor(e,t,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new yA(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,Z.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,Z.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,t){var r=this;return(0,Z.Z)(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Bn(t.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):t&&t.code===L.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(t)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===t&&this.o_(r,i)},r=>{e(()=>{const i=new ee(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,t){const r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo((0,Z.Z)(function*(){e.state=0,e.start()}))}__(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget(()=>this.Wo===e?t():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nee extends dB{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function pX(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:be(),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(Pe(void 0===f||"string"==typeof f),dr.fromBase64String(f||"")):(Pe(void 0===f||f instanceof Buffer||f instanceof Uint8Array),dr.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const f=void 0===l.code?L.UNKNOWN:tU(l.code);return new ee(f,l.message||"")}(o);t=new oU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=bo(n,r.document.name),s=jn(r.document.updateTime),o=r.document.createTime?jn(r.document.createTime):Re.min(),a=new Ur({mapValue:{fields:r.document.fields}}),c=hn.newFoundDocument(i,s,o,a);t=new HE(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=bo(n,r.document),s=r.readTime?jn(r.readTime):Re.min(),o=hn.newNoDocument(i,s);t=new HE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=bo(n,r.document);t=new HE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return be();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new sX(i,s);t=new sU(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Re.min():o.readTime?jn(o.readTime):Re.min()}(e);return this.listener.u_(t,r)}c_(e){const t={};t.database=WD(this.serializer),t.addTarget=function(s,o){let a;const c=o.target;if(a=FE(c)?{documents:_U(s,c)}:{query:ZD(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lU(s,o.resumeToken);const l=zD(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Re.min())>0){a.readTime=lh(s,o.snapshotVersion.toTimestamp());const l=zD(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function mX(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.t_(t)}l_(e){const t={};t.database=WD(this.serializer),t.removeTarget=e,this.t_(t)}}class ree extends dB{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function gX(n,e){return n&&n.length>0?(Pe(void 0!==e),n.map(t=>function(i,s){let o=jn(i.updateTime?i.updateTime:s);return o.isEqual(Re.min())&&(o=jn(s)),new tX(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.T_(r,t)}return Pe(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=WD(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zg(this.serializer,r))};this.t_(t)}}class iee extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ee(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,GD(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(L.UNKNOWN,s.toString())})}vo(e,t,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,GD(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(L.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class oee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Bn(t),this.g_=!1):re("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class aee{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(a=>{r.enqueueAndForget((0,Z.Z)(function*(){var c;Tc(o)&&(re("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,Z.Z)(function*(f){const g=he(f);g.v_.add(4),yield yh(g),g.x_.set("Unknown"),g.v_.delete(4),yield Xg(g)}),function l(f){return c.apply(this,arguments)})(o))}))}),this.x_=new oee(r,i)}}function Xg(n){return EA.apply(this,arguments)}function EA(){return EA=(0,Z.Z)(function*(n){if(Tc(n))for(const e of n.F_)yield e(!0)}),EA.apply(this,arguments)}function yh(n){return wA.apply(this,arguments)}function wA(){return wA=(0,Z.Z)(function*(n){for(const e of n.F_)yield e(!1)}),wA.apply(this,arguments)}function sw(n,e){const t=he(n);t.C_.has(e.targetId)||(t.C_.set(e.targetId,e),IA(t)?CA(t):wh(t).Jo()&&bA(t,e))}function vh(n,e){const t=he(n),r=wh(t);t.C_.delete(e),r.Jo()&&hB(t,e),0===t.C_.size&&(r.Jo()?r.Xo():Tc(t)&&t.x_.set("Unknown"))}function bA(n,e){if(n.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wh(n).c_(e)}function hB(n,e){n.O_.Oe(e),wh(n).l_(e)}function CA(n){n.O_=new aX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.C_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),wh(n).start(),n.x_.p_()}function IA(n){return Tc(n)&&!wh(n).Ho()&&n.C_.size>0}function Tc(n){return 0===he(n).v_.size}function fB(n){n.O_=void 0}function cee(n){return TA.apply(this,arguments)}function TA(){return TA=(0,Z.Z)(function*(n){n.C_.forEach((e,t)=>{bA(n,e)})}),TA.apply(this,arguments)}function uee(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,Z.Z)(function*(n,e){fB(n),IA(n)?(n.x_.S_(e),CA(n)):n.x_.set("Unknown")}),DA.apply(this,arguments)}function lee(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,Z.Z)(function*(n,e,t){if(n.x_.set("Online"),e instanceof oU&&2===e.state&&e.cause)try{yield(r=(0,Z.Z)(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.C_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.C_.delete(c),s.O_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ow(n,r)}else if(e instanceof HE?n.O_.$e(e):e instanceof sU?n.O_.Je(e):n.O_.Ge(e),!t.isEqual(Re.min()))try{const r=yield tB(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.C_.get(l);f&&s.C_.set(l,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const f=s.C_.get(c);if(!f)return;s.C_.set(c,f.withResumeToken(dr.EMPTY_BYTE_STRING,f.snapshotVersion)),hB(s,c);const g=new la(f.target,c,l,f.sequenceNumber);bA(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){re("RemoteStore","Failed to raise snapshot:",r),yield ow(n,r)}var r}),AA.apply(this,arguments)}function ow(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,Z.Z)(function*(n,e,t){if(!pc(e))throw e;n.v_.add(1),yield yh(n),n.x_.set("Offline"),t||(t=()=>tB(n.localStore)),n.asyncQueue.enqueueRetryable((0,Z.Z)(function*(){re("RemoteStore","Retrying IndexedDB access"),yield t(),n.v_.delete(1),yield Xg(n)}))}),SA.apply(this,arguments)}function pB(n,e){return e().catch(t=>ow(n,t,e))}function Eh(n){return PA.apply(this,arguments)}function PA(){return PA=(0,Z.Z)(function*(n){const e=he(n),t=Dc(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;dee(e);)try{const i=yield ZX(e.localStore,r);if(null===i){0===e.D_.length&&t.Xo();break}r=i.batchId,hee(e,i)}catch(i){yield ow(e,i)}gB(e)&&mB(e)}),PA.apply(this,arguments)}function dee(n){return Tc(n)&&n.D_.length<10}function hee(n,e){n.D_.push(e);const t=Dc(n);t.Jo()&&t.P_&&t.I_(e.mutations)}function gB(n){return Tc(n)&&!Dc(n).Ho()&&n.D_.length>0}function mB(n){Dc(n).start()}function fee(n){return MA.apply(this,arguments)}function MA(){return MA=(0,Z.Z)(function*(n){Dc(n).d_()}),MA.apply(this,arguments)}function pee(n){return RA.apply(this,arguments)}function RA(){return RA=(0,Z.Z)(function*(n){const e=Dc(n);for(const t of n.D_)e.I_(t.mutations)}),RA.apply(this,arguments)}function gee(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,Z.Z)(function*(n,e,t){const r=n.D_.shift(),i=jD.from(r,e,t);yield pB(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Eh(n)}),OA.apply(this,arguments)}function mee(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,Z.Z)(function*(n,e){var t;e&&Dc(n).P_&&(yield(t=(0,Z.Z)(function*(i,s){if(eU(a=s.code)&&a!==L.ABORTED){const o=i.D_.shift();Dc(i).Zo(),yield pB(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Eh(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),gB(n)&&mB(n)}),xA.apply(this,arguments)}function _B(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Z.Z)(function*(n,e){const t=he(n);t.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Tc(t);t.v_.add(3),yield yh(t),r&&t.x_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.v_.delete(3),yield Xg(t)}),NA.apply(this,arguments)}function kA(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,Z.Z)(function*(n,e){const t=he(n);e?(t.v_.delete(2),yield Xg(t)):e||(t.v_.add(2),yield yh(t),t.x_.set("Unknown"))}),FA.apply(this,arguments)}function wh(n){return n.N_||(n.N_=function(t,r,i){const s=he(t);return s.R_(),new nee(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:cee.bind(null,n),To:uee.bind(null,n),u_:lee.bind(null,n)}),n.F_.push(function(){var e=(0,Z.Z)(function*(t){t?(n.N_.Zo(),IA(n)?CA(n):n.x_.set("Unknown")):(yield n.N_.stop(),fB(n))});return function(t){return e.apply(this,arguments)}}())),n.N_}function Dc(n){return n.L_||(n.L_=function(t,r,i){const s=he(t);return s.R_(),new ree(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:fee.bind(null,n),To:mee.bind(null,n),E_:pee.bind(null,n),T_:gee.bind(null,n)}),n.F_.push(function(){var e=(0,Z.Z)(function*(t){t?(n.L_.Zo(),yield Eh(n)):(yield n.L_.stop(),n.D_.length>0&&(re("RemoteStore",`Stopping write stream with ${n.D_.length} pending writes`),n.D_=[]))});return function(t){return e.apply(this,arguments)}}())),n.L_}class LA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new LA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ee(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bh(n,e){if(Bn("AsyncQueue",`${e}: ${n}`),pc(n))return new ee(L.UNAVAILABLE,`${e}: ${n}`);throw n}class Ch{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pe.comparator(t.key,r.key):(t,r)=>pe.comparator(t.key,r.key),this.keyedMap=Fg(),this.sortedSet=new rn(this.comparator)}static emptySet(e){return new Ch(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ch)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ch;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yB{constructor(){this.B_=new rn(pe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):be():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ih{constructor(e,t,r,i,s,o,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Ih(e,t,Ch.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class _ee{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class yee{constructor(){this.queries=new ca(e=>k2(e),Ng),this.onlineState="Unknown",this.W_=new Set}}function VA(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,Z.Z)(function*(n,e){const t=he(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new _ee,r=e.U_()?0:1);try{switch(r){case 0:s.q_=yield t.onListen(i,!0);break;case 1:s.q_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=bh(o,`Initialization of query '${sh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Q_.push(e),e.G_(t.onlineState),s.q_&&e.z_(s.q_)&&$A(t)}),UA.apply(this,arguments)}function BA(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Z.Z)(function*(n,e){const t=he(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),0===s.Q_.length?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),jA.apply(this,arguments)}function vee(n,e){const t=he(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&$A(t)}function Eee(n,e,t){const r=he(n),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(t);r.queries.delete(e)}function $A(n){n.W_.forEach(e=>{e.next()})}var HA,vB;(vB=HA||(HA={})).j_="default",vB.Cache="cache";class zA{constructor(e,t,r){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ih(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=Ih.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==HA.Cache}}class wee{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class EB{constructor(e){this.serializer=e}Ps(e){return bo(this.serializer,e)}Is(e){return e.metadata.exists?mU(this.serializer,e.document,!1):hn.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return jn(e)}}class bee{constructor(e,t,r){this.ia=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wB(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const r=gt.fromString(e.na.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,r=new EB(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||tt()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,Z.Z)(function*(){const t=yield function QX(n,e,t,r){return dA.apply(this,arguments)}(e.localStore,new EB(e.serializer),e.documents,e.ia.id),r=e.oa(e.documents);for(const i of e.queries)yield YX(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:t}})()}}function wB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class bB{constructor(e){this.key=e}}class CB{constructor(e){this.key=e}}class IB{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=tt(),this.mutatedKeys=tt(),this.ha=L2(e),this.Pa=new Ch(this.ha)}get Ia(){return this.ua}Ta(e,t){const r=t?t.Ea:new yB,i=t?t.Pa:this.Pa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const m=i.get(f),y=kg(this.query,g)?g:null,E=!!m&&this.mutatedKeys.has(m.key),C=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;m&&y?m.data.isEqual(y.data)?E!==C&&(r.track({type:3,doc:y}),I=!0):this.da(m,y)||(r.track({type:2,doc:y}),I=!0,(c&&this.ha(y,c)>0||l&&this.ha(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),I=!0):m&&!y&&(r.track({type:1,doc:m}),I=!0,(c||l)&&(a=!0)),I&&(y?(o=o.add(y),s=C?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const f="F"===this.query.limitType?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((f,g)=>function(y,E){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return C(y)-C(E)}(f.type,g.type)||this.ha(f.doc,g.doc)),this.Aa(r),i=null!=i&&i;const a=t&&!i?this.Ra():[],c=0===this.la.size&&this.current&&!i?1:0,l=c!==this.ca;return this.ca=c,0!==o.length||l?{snapshot:new Ih(this.query,e.Pa,s,o,e.mutatedKeys,0===c,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new yB,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(t=>this.ua=this.ua.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ua=this.ua.delete(t)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=tt(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const t=[];return e.forEach(r=>{this.la.has(r)||t.push(new CB(r))}),this.la.forEach(r=>{e.has(r)||t.push(new bB(r))}),t}fa(e){this.ua=e.hs,this.la=tt();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return Ih.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Cee{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Iee{constructor(e){this.key=e,this.pa=!1}}class Tee{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new ca(a=>k2(a),Ng),this.Sa=new Map,this.ba=new Set,this.Da=new rn(pe.comparator),this.Ca=new Map,this.va=new rA,this.Fa={},this.Ma=new Map,this.xa=qu.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function Dee(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,Z.Z)(function*(n,e,t=!0){const r=aw(n);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=yield TB(r,e,t,!0),i}),qA.apply(this,arguments)}function Aee(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Z.Z)(function*(n,e){const t=aw(n);yield TB(t,e,!0,!1)}),GA.apply(this,arguments)}function TB(n,e,t,r){return WA.apply(this,arguments)}function WA(){return WA=(0,Z.Z)(function*(n,e,t,r){const i=yield mh(n.localStore,vi(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=yield KA(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&sw(n.remoteStore,i),a}),WA.apply(this,arguments)}function KA(n,e,t,r,i){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Z.Z)(function*(n,e,t,r,i){n.Na=(g,m,y)=>{return(E=(0,Z.Z)(function*(I,M,P,x){let q=M.view.Ta(P);q.Xi&&(q=yield ew(I.localStore,M.query,!1).then(({documents:xt})=>M.view.Ta(xt,q)));const ue=x&&x.targetChanges.get(M.targetId),Me=x&&null!=x.targetMismatches.get(M.targetId),He=M.view.applyChanges(q,I.isPrimaryClient,ue,Me);return oS(I,M.targetId,He.Va),He.snapshot}),function C(I,M,P,x){return E.apply(this,arguments)})(n,g,m,y);var E};const s=yield ew(n.localStore,e,!0),o=new IB(e,s.hs),a=o.Ta(s.documents),c=$g.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=o.applyChanges(a,n.isPrimaryClient,c);oS(n,t,l.Va);const f=new Cee(e,t,o);return n.wa.set(e,f),n.Sa.has(t)?n.Sa.get(t).push(e):n.Sa.set(t,[e]),l.snapshot}),ZA.apply(this,arguments)}function See(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,Z.Z)(function*(n,e,t){const r=he(n),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Ng(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _h(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vh(r.remoteStore,i.targetId),Th(r,i.targetId)}).catch(fc))):(Th(r,i.targetId),yield _h(r.localStore,i.targetId,!0))}),QA.apply(this,arguments)}function Pee(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,Z.Z)(function*(n,e){const t=he(n),r=t.wa.get(e),i=t.Sa.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vh(t.remoteStore,r.targetId))}),YA.apply(this,arguments)}function JA(){return JA=(0,Z.Z)(function*(n,e,t){const r=_S(n);try{const i=yield function(o,a){const c=he(o),l=vn.now(),f=a.reduce((y,E)=>y.add(E.key),tt());let g,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Vi(),C=tt();return c.os.getEntries(y,f).next(I=>{E=I,E.forEach((M,P)=>{P.isValidDocument()||(C=C.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,E)).next(I=>{g=I;const M=[];for(const P of a){const x=rX(P,g.get(P.key).overlayedDocument);null!=x&&M.push(new ua(P.key,x,E2(x.value.mapValue),En.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,M,a)}).next(I=>{m=I;const M=I.applyToLocalDocumentSet(g,C);return c.documentOverlayCache.saveOverlays(y,I.batchId,M)})}).then(()=>({batchId:m.batchId,changes:U2(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Fa[o.currentUser.toKey()];l||(l=new rn(Ke)),l=l.insert(a,c),o.Fa[o.currentUser.toKey()]=l}(r,i.batchId,t),yield da(r,i.changes),yield Eh(r.remoteStore)}catch(i){const s=bh(i,"Failed to persist write");t.reject(s)}}),JA.apply(this,arguments)}function DB(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,Z.Z)(function*(n,e){const t=he(n);try{const r=yield function KX(n,e){const t=he(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((f,g)=>{const m=i.get(g);if(!m)return;a.push(t.Qr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>t.Qr.addMatchingKeys(s,f.addedDocuments,g)));let y=m.withSequenceNumber(s.currentSequenceNumber);var C,I,M;null!==e.targetMismatches.get(g)?y=y.withResumeToken(dr.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(g,y),I=y,M=f,(0===(C=m).resumeToken.approximateByteSize()||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(t.Qr.updateTargetData(s,y))});let c=Vi(),l=tt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(nB(s,o,e.documentUpdates).next(f=>{c=f.cs,l=f.ls})),!r.isEqual(Re.min())){const f=t.Qr.getLastRemoteSnapshotVersion(s).next(g=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(t.ns=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Ca.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?Pe(o.pa):i.removedDocuments.size>0&&(Pe(o.pa),o.pa=!1))}),yield da(t,r,e)}catch(r){yield fc(r)}}),XA.apply(this,arguments)}function AB(n,e,t){const r=he(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=he(o);c.onlineState=a;let l=!1;c.queries.forEach((f,g)=>{for(const m of g.Q_)m.G_(a)&&(l=!0)}),l&&$A(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ree(n,e,t){return eS.apply(this,arguments)}function eS(){return eS=(0,Z.Z)(function*(n,e,t){const r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new rn(pe.comparator);o=o.insert(s,hn.newNoDocument(s,Re.min()));const a=tt().add(s),c=new jg(Re.min(),new Map,new rn(Ke),o,a);yield DB(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),aS(r)}else yield _h(r.localStore,e,!1).then(()=>Th(r,e,t)).catch(fc)}),eS.apply(this,arguments)}function Oee(n,e){return tS.apply(this,arguments)}function tS(){return tS=(0,Z.Z)(function*(n,e){const t=he(n),r=e.batch.batchId;try{const i=yield function WX(n,e){const t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,f){const g=l.batch,m=g.keys();let y=N.resolve();return m.forEach(E=>{y=y.next(()=>f.getEntry(c,E)).next(C=>{const I=l.docVersions.get(E);Pe(null!==I),C.version.compareTo(I)<0&&(g.applyToRemoteDocument(C,l),C.isValidDocument()&&(C.setReadTime(l.commitVersion),f.addEntry(C)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=tt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);sS(t,r,null),iS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield da(t,i)}catch(i){yield fc(i)}}),tS.apply(this,arguments)}function xee(n,e,t){return nS.apply(this,arguments)}function nS(){return nS=(0,Z.Z)(function*(n,e,t){const r=he(n);try{const i=yield function(o,a){const c=he(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return c.mutationQueue.lookupMutationBatch(l,a).next(g=>(Pe(null!==g),f=g.keys(),c.mutationQueue.removeMutationBatch(l,g))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>c.localDocuments.getDocuments(l,f))})}(r.localStore,e);sS(r,e,t),iS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield da(r,i)}catch(i){yield fc(i)}}),nS.apply(this,arguments)}function rS(){return rS=(0,Z.Z)(function*(n,e){const t=he(n);Tc(t.remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=he(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ma.get(r)||[];i.push(e),t.Ma.set(r,i)}catch(r){const i=bh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),rS.apply(this,arguments)}function iS(n,e){(n.Ma.get(e)||[]).forEach(t=>{t.resolve()}),n.Ma.delete(e)}function sS(n,e,t){const r=he(n);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Th(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Sa.get(e))n.wa.delete(r),t&&n.ya.La(r,t);n.Sa.delete(e),n.isPrimaryClient&&n.va.Vr(e).forEach(r=>{n.va.containsKey(r)||SB(n,r)})}function SB(n,e){n.ba.delete(e.path.canonicalString());const t=n.Da.get(e);null!==t&&(vh(n.remoteStore,t),n.Da=n.Da.remove(e),n.Ca.delete(t),aS(n))}function oS(n,e,t){for(const r of t)r instanceof bB?(n.va.addReference(r.key,e),kee(n,r)):r instanceof CB?(re("SyncEngine","Document no longer in limbo: "+r.key),n.va.removeReference(r.key,e),n.va.containsKey(r.key)||SB(n,r.key)):be()}function kee(n,e){const t=e.key,r=t.path.canonicalString();n.Da.get(t)||n.ba.has(r)||(re("SyncEngine","New document in limbo: "+t),n.ba.add(r),aS(n))}function aS(n){for(;n.ba.size>0&&n.Da.size<n.maxConcurrentLimboResolutions;){const e=n.ba.values().next().value;n.ba.delete(e);const t=new pe(gt.fromString(e)),r=n.xa.next();n.Ca.set(r,new Iee(t)),n.Da=n.Da.insert(t,r),sw(n.remoteStore,new la(vi(rh(t.path)),r,"TargetPurposeLimboResolution",Xi._e))}}function da(n,e,t){return cS.apply(this,arguments)}function cS(){return cS=(0,Z.Z)(function*(n,e,t){const r=he(n),i=[],s=[],o=[];var a;r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const f=cA.Ki(c.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.ya.u_(i),yield(a=(0,Z.Z)(function*(l,f){const g=he(l);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>N.forEach(f,y=>N.forEach(y.qi,E=>g.persistence.referenceDelegate.addReference(m,y.targetId,E)).next(()=>N.forEach(y.Qi,E=>g.persistence.referenceDelegate.removeReference(m,y.targetId,E)))))}catch(m){if(!pc(m))throw m;re("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const y=m.targetId;if(!m.fromCache){const E=g.ns.get(y),I=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);g.ns=g.ns.insert(y,I)}}}),function c(l,f){return a.apply(this,arguments)})(r.localStore,s))}),cS.apply(this,arguments)}function Fee(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,Z.Z)(function*(n,e){const t=he(n);if(!t.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=yield eB(t.localStore,e);t.currentUser=e,(s=t).Ma.forEach(a=>{a.forEach(c=>{c.reject(new ee(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ma.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield da(t,r.us)}var s}),uS.apply(this,arguments)}function Lee(n,e){const t=he(n),r=t.Ca.get(e);if(r&&r.pa)return tt().add(r.key);{let i=tt();const s=t.Sa.get(e);if(!s)return i;for(const o of s){const a=t.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function Vee(n,e){return lS.apply(this,arguments)}function lS(){return lS=(0,Z.Z)(function*(n,e){const t=he(n),r=yield ew(t.localStore,e.query,!0),i=e.view.fa(r);return t.isPrimaryClient&&oS(t,e.targetId,i.Va),i}),lS.apply(this,arguments)}function Uee(n,e){return dS.apply(this,arguments)}function dS(){return dS=(0,Z.Z)(function*(n,e){const t=he(n);return iB(t.localStore,e).then(r=>da(t,r))}),dS.apply(this,arguments)}function Bee(n,e,t,r){return hS.apply(this,arguments)}function hS(){return hS=(0,Z.Z)(function*(n,e,t,r){const i=he(n),s=yield function(a,c){const l=he(a),f=he(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",g=>f.vn(g,c).next(m=>m?l.localDocuments.getDocuments(g,m):N.resolve(null)))}(i.localStore,e);var c;null!==s?("pending"===t?yield Eh(i.remoteStore):"acknowledged"===t||"rejected"===t?(sS(i,e,r||null),iS(i,e),c=e,he(he(i.localStore).mutationQueue).Mn(c)):be(),yield da(i,s)):re("SyncEngine","Cannot apply mutation batch with id: "+e)}),hS.apply(this,arguments)}function fS(){return fS=(0,Z.Z)(function*(n,e){const t=he(n);if(aw(t),_S(t),!0===e&&!0!==t.Oa){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield PB(t,r.toArray());t.Oa=!0,yield kA(t.remoteStore,!0);for(const s of i)sw(t.remoteStore,s)}else if(!1===e&&!1!==t.Oa){const r=[];let i=Promise.resolve();t.Sa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Th(t,o),_h(t.localStore,o,!0))),vh(t.remoteStore,o)}),yield i,yield PB(t,r),function(o){const a=he(o);a.Ca.forEach((c,l)=>{vh(a.remoteStore,l)}),a.va.mr(),a.Ca=new Map,a.Da=new rn(pe.comparator)}(t),t.Oa=!1,yield kA(t.remoteStore,!1)}}),fS.apply(this,arguments)}function PB(n,e,t){return pS.apply(this,arguments)}function pS(){return pS=(0,Z.Z)(function*(n,e,t){const r=he(n),i=[],s=[];for(const o of e){let a;const c=r.Sa.get(o);if(c&&0!==c.length){a=yield mh(r.localStore,vi(c[0]));for(const l of c){const f=r.wa.get(l),g=yield Vee(r,f);g.snapshot&&s.push(g.snapshot)}}else{const l=yield rB(r.localStore,o);a=yield mh(r.localStore,l),yield KA(r,MB(l),o,!1,a.resumeToken)}i.push(a)}return r.ya.u_(s),i}),pS.apply(this,arguments)}function MB(n){return O2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $ee(n){return t=he(n).localStore,he(he(t).persistence).Bi();var t}function Hee(n,e,t,r){return gS.apply(this,arguments)}function gS(){return gS=(0,Z.Z)(function*(n,e,t,r){const i=he(n);if(i.Oa)return void re("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield iB(i.localStore,F2(s[0])),a=jg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,dr.EMPTY_BYTE_STRING);yield da(i,o,a);break}case"rejected":yield _h(i.localStore,e,!0),Th(i,e,r);break;default:be()}}),gS.apply(this,arguments)}function zee(n,e,t){return mS.apply(this,arguments)}function mS(){return mS=(0,Z.Z)(function*(n,e,t){const r=aw(n);if(r.Oa){for(const i of e){if(r.Sa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){re("SyncEngine","Adding an already active target "+i);continue}const s=yield rB(r.localStore,i),o=yield mh(r.localStore,s);yield KA(r,MB(s),o.targetId,!1,o.resumeToken),sw(r.remoteStore,o)}for(const i of t)r.Sa.has(i)&&(yield _h(r.localStore,i,!1).then(()=>{vh(r.remoteStore,i),Th(r,i)}).catch(fc))}}),mS.apply(this,arguments)}function aw(n){const e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ree.bind(null,e),e.ya.u_=vee.bind(null,e.eventManager),e.ya.La=Eee.bind(null,e.eventManager),e}function _S(n){const e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xee.bind(null,e),e}class em{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Z.Z)(function*(){t.serializer=Jg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return XU(this.persistence,new JU,e.initialUser,this.serializer)}createPersistence(e){return new iA(YE.Hr,this.serializer)}createSharedClientState(e){return new cB}terminate(){var e=this;return(0,Z.Z)(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yS extends em{constructor(e,t,r){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Z.Z)(function*(){yield t().call(r,e),yield r.ka.initialize(r,e),yield _S(r.ka.syncEngine),yield Eh(r.ka.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return XU(this.persistence,new JU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new HU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new gJ(t,this.persistence);return new pJ(e.asyncQueue,r)}createPersistence(e){const t=aA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ii.withCacheSize(this.cacheSizeBytes):ii.DEFAULT;return new oA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,lB(),iw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new cB}}class RB extends yS{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Z.Z)(function*(){yield t().call(r,e);const i=r.ka.syncEngine;r.sharedClientState instanceof mA&&(r.sharedClientState.syncEngine={Zs:Bee.bind(null,i),Xs:Hee.bind(null,i),eo:zee.bind(null,i),Bi:$ee.bind(null,i),Ys:Uee.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var s=(0,Z.Z)(function*(o){yield function jee(n,e){return fS.apply(this,arguments)}(r.ka.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=lB();if(!mA.D(t))throw new ee(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=aA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Dh{initialize(e,t){var r=this;return(0,Z.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>AB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Fee.bind(null,r.syncEngine),yield kA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yee}createDatastore(e){const t=Jg(e.databaseInfo.databaseId),r=new tee(e.databaseInfo);return new iee(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>AB(this.syncEngine,t,0),a=uB.D()?new uB:new JX,new aee(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,c,l,f){const g=new Tee(i,s,o,a,c,l);return f&&(g.Oa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,Z.Z)(function*(){var t,r;yield(r=(0,Z.Z)(function*(s){const o=he(s);re("RemoteStore","RemoteStore shutting down."),o.v_.add(5),yield yh(o),o.M_.shutdown(),o.x_.set("Unknown")}),function i(s){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}function OB(n,e=10240){let t=0;return{read:()=>(0,Z.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Z.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Wee{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new lr,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(r=>{r&&r.ra()?this.metadata.resolve(r.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.na)}`))},r=>this.metadata.reject(r))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,Z.Z)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,Z.Z)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,Z.Z)(function*(){const t=yield e.Wa();if(null===t)return null;const r=e.$a.decode(t),i=Number(r);isNaN(i)&&e.Ga(`length string (${r}) is not valid number`);const s=yield e.za(i);return new wee(JSON.parse(s),t.length+i)})()}ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Wa(){var e=this;return(0,Z.Z)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const t=e.ja();t<0&&e.Ga("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}za(e){var t=this;return(0,Z.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ha())&&t.Ga("Reached the end of bundle when more is expected.");const r=t.$a.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,Z.Z)(function*(){const t=yield e.Ka.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Kee{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Z.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new ee(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(i=(0,Z.Z)(function*(o,a){const c=he(o),l={documents:a.map(y=>Hg(c.serializer,y))},f=yield c.vo("BatchGetDocuments",c.serializer.databaseId,gt.emptyPath(),l,a.length),g=new Map;f.forEach(y=>{const E=function fX(n,e){return"found"in e?function(r,i){Pe(!!i.found);const s=bo(r,i.found.name),o=jn(i.found.updateTime),a=i.found.createTime?jn(i.found.createTime):Re.min(),c=new Ur({mapValue:{fields:i.found.fields}});return hn.newFoundDocument(s,o,a,c)}(n,e):"missing"in e?function(r,i){Pe(!!i.missing),Pe(!!i.readTime);const s=bo(r,i.missing),o=jn(i.readTime);return hn.newNoDocument(s,o)}(n,e):be()}(c.serializer,y);g.set(E.key.toString(),E)});const m=[];return a.forEach(y=>{const E=g.get(y.toString());Pe(!!E),m.push(E)}),m}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new uh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Z.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=pe.fromPath(i);e.mutations.push(new UD(s,e.precondition(s)))}),yield(r=(0,Z.Z)(function*(s,o){const a=he(s),c={writes:o.map(l=>zg(a.serializer,l))};yield a.So("Commit",a.serializer.databaseId,gt.emptyPath(),c)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw be();t=Re.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ee(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?En.exists(!1):En.updateTime(t):En.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new ee(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return En.updateTime(t)}return En.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Zee{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Ja=r.maxAttempts,this.jo=new yA(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,Z.Z)(function*(){const t=new Kee(e.datastore),r=e.Xa(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.eu(s)}))}).catch(i=>{e.eu(i)})}))}Xa(e){try{const t=this.updateFunction(e);return!Dg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!eU(t)}return!1}}class Qee{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ir.UNAUTHENTICATED,this.clientId=ZV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,Z.Z)(function*(a){re("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=bh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function uw(n,e){return vS.apply(this,arguments)}function vS(){return vS=(0,Z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Z.Z)(function*(s){r.isEqual(s)||(yield eB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vS.apply(this,arguments)}function ES(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,Z.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield bS(n);re("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>_B(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>_B(e.remoteStore,i)),n._onlineComponents=e}),wS.apply(this,arguments)}function xB(n){return"FirebaseError"===n.name?n.code===L.FAILED_PRECONDITION||n.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function bS(n){return CS.apply(this,arguments)}function CS(){return CS=(0,Z.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!xB(t))throw t;Fi("Error using user provided cache. Falling back to memory cache: "+t),yield uw(n,new em)}}else re("FirestoreClient","Using default OfflineComponentProvider"),yield uw(n,new em);return n._offlineComponents}),CS.apply(this,arguments)}function lw(n){return IS.apply(this,arguments)}function IS(){return IS=(0,Z.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),yield ES(n,n._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),yield ES(n,new Dh))),n._onlineComponents}),IS.apply(this,arguments)}function NB(n){return bS(n).then(e=>e.persistence)}function Ah(n){return bS(n).then(e=>e.localStore)}function kB(n){return lw(n).then(e=>e.remoteStore)}function TS(n){return lw(n).then(e=>e.syncEngine)}function Sh(n){return DS.apply(this,arguments)}function DS(){return DS=(0,Z.Z)(function*(n){const e=yield lw(n),t=e.eventManager;return t.onListen=Dee.bind(null,e.syncEngine),t.onUnlisten=See.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Aee.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Pee.bind(null,e.syncEngine),t}),DS.apply(this,arguments)}function LB(n,e,t={}){const r=new lr;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(s,o,a,c,l){const f=new cw({next:m=>{o.enqueueAndForget(()=>BA(s,g));const y=m.docs.has(a);!y&&m.fromCache?l.reject(new ee(L.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&"server"===c.source?l.reject(new ee(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new zA(rh(a.path),f,{includeMetadataChanges:!0,ta:!0});return VA(s,g)}(yield Sh(n),n.asyncQueue,e,t,r)})),r.promise}function VB(n,e,t={}){const r=new lr;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function(s,o,a,c,l){const f=new cw({next:m=>{o.enqueueAndForget(()=>BA(s,g)),m.fromCache&&"server"===c.source?l.reject(new ee(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),g=new zA(a,f,{includeMetadataChanges:!0,ta:!0});return VA(s,g)}(yield Sh(n),n.asyncQueue,e,t,r)})),r.promise}function UB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const BB=new Map;function AS(n,e,t){if(!t)throw new ee(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jB(n,e,t,r){if(!0===e&&!0===r)throw new ee(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $B(n){if(!pe.isDocumentKey(n))throw new ee(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HB(n){if(pe.isDocumentKey(n))throw new ee(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":be()}function ft(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ee(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dw(n);throw new ee(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zB(n,e){if(e<=0)throw new ee(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class qB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ee(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ee(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=UB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ee(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ee(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new nJ;switch(r.type){case"firstParty":return new oJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=BB.get(t);r&&(re("ComponentProvider","Removing Datastore"),BB.delete(t),r.terminate())}(this),Promise.resolve()}}class Br{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Br(this.firestore,e,this._query)}}class fn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Co extends Br{constructor(e,t,r){super(e,t,rh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new pe(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function WB(n,e,...t){if(n=(0,Rt.m9)(n),AS("collection","path",e),n instanceof tm){const r=gt.fromString(e,...t);return HB(r),new Co(n,null,r)}{if(!(n instanceof fn||n instanceof Co))throw new ee(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return HB(r),new Co(n.firestore,null,r)}}function hw(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=ZV.newId()),AS("doc","path",e),n instanceof tm){const r=gt.fromString(e,...t);return $B(r),new fn(n,null,new pe(r))}{if(!(n instanceof fn||n instanceof Co))throw new ee(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return $B(r),new fn(n.firestore,n instanceof Co?n.converter:null,new pe(r))}}function KB(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof fn||n instanceof Co)&&(e instanceof fn||e instanceof Co)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function SS(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof Br&&e instanceof Br&&n.firestore===e.firestore&&Ng(n._query,e._query)&&n.converter===e.converter}class cte{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new yA(this,"async_queue_retry"),this.cu=()=>{const t=iw();t&&re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.jo.Ko()};const e=iw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=iw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const t=new lr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,Z.Z)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(t){if(!pc(t))throw t;re("AsyncQueue","Operation failed with retryable error: "+t)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const t=this.nu.then(()=>(this._u=!0,e().catch(r=>{throw this.ou=r,this._u=!1,Bn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this._u=!1,r))));return this.nu=t,t}enqueueAfterDelay(e,t,r){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const i=LA.createAndSchedule(this,e,t,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&be()}verifyOperationInProgress(){}Tu(){var e=this;return(0,Z.Z)(function*(){let t;do{t=e.nu,yield t}while(t!==e.nu)})()}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function PS(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class ute{constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class sn extends tm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new cte,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZB(this),this._firestoreClient.terminate()}}function xn(n){return n._firestoreClient||ZB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ZB(n){var e,t,r;const i=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new FJ(n._databaseId,c,n._persistenceKey,(f=i).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,UB(f.experimentalLongPollingOptions),f.useFetchStreams));var c,f;n._firestoreClient=new Qee(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function QB(n,e,t){const r=new lr;return n.asyncQueue.enqueue((0,Z.Z)(function*(){try{yield uw(n,t),yield ES(n,e),r.resolve()}catch(i){const s=i;if(!xB(s))throw s;Fi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function YB(n){if(n._initialized||n._terminated)throw new ee(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(dr.fromBase64String(e))}catch(t){throw new ee(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Io(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ha{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ee(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wu{constructor(e){this._methodName=e}}class fw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}const Ete=/^__.*__$/;class wte{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new ch(e,this.data,t,this.fieldTransforms)}}class JB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class pw{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new pw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return _w(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(XB(this.Vu)&&Ete.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class bte{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Jg(e)}Cu(e,t,r,i=!1){return new pw({Vu:e,methodName:t,Du:r,path:dn.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ku(n){const e=n._freezeSettings(),t=Jg(n._databaseId);return new bte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gw(n,e,t,r,i,s={}){const o=n.Cu(s.merge||s.mergeFields?2:0,e,t,i);FS("Data must be an object, but it was:",o,r);const a=nj(r,o);let c,l;if(s.merge)c=new Li(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const m=im(e,g,t);if(!o.contains(m))throw new ee(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ij(f,m)||f.push(m)}c=new Li(f),l=o.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,l=o.fieldTransforms;return new wte(new Ur(a),c,l)}class rm extends Wu{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rm}}function ej(n,e,t){return new pw({Vu:3,Du:e.settings.Du,methodName:n._methodName,gu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class MS extends Wu{_toFieldTransform(e){return new Vg(e.path,new oh)}isEqual(e){return e instanceof MS}}class RS extends Wu{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=ej(this,e,!0),r=this.vu.map(s=>Zu(s,t)),i=new Vu(r);return new Vg(e.path,i)}isEqual(e){return e instanceof RS&&(0,Rt.vZ)(this.vu,e.vu)}}class OS extends Wu{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=ej(this,e,!0),r=this.vu.map(s=>Zu(s,t)),i=new Uu(r);return new Vg(e.path,i)}isEqual(e){return e instanceof OS&&(0,Rt.vZ)(this.vu,e.vu)}}class xS extends Wu{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new ah(e.serializer,H2(e.serializer,this.Fu));return new Vg(e.path,t)}isEqual(e){return e instanceof xS&&this.Fu===e.Fu}}function NS(n,e,t,r){const i=n.Cu(1,e,t);FS("Data must be an object, but it was:",i,r);const s=[],o=Ur.empty();gc(r,(c,l)=>{const f=mw(e,c,t);l=(0,Rt.m9)(l);const g=i.yu(f);if(l instanceof rm)s.push(f);else{const m=Zu(l,g);null!=m&&(s.push(f),o.set(f,m))}});const a=new Li(s);return new JB(o,a,i.fieldTransforms)}function kS(n,e,t,r,i,s){const o=n.Cu(1,e,t),a=[im(e,r,t)],c=[i];if(s.length%2!=0)throw new ee(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(im(e,s[m])),c.push(s[m+1]);const l=[],f=Ur.empty();for(let m=a.length-1;m>=0;--m)if(!ij(l,a[m])){const y=a[m];let E=c[m];E=(0,Rt.m9)(E);const C=o.yu(y);if(E instanceof rm)l.push(y);else{const I=Zu(E,C);null!=I&&(l.push(y),f.set(y,I))}}const g=new Li(l);return new JB(f,g,o.fieldTransforms)}function tj(n,e,t,r=!1){return Zu(t,n.Cu(r?4:3,e))}function Zu(n,e){if(rj(n=(0,Rt.m9)(n)))return FS("Unsupported field value:",e,n),nj(n,e);if(n instanceof Wu)return function(r,i){if(!XB(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Zu(a,i.wu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,Rt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return H2(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=vn.fromDate(r);return{timestampValue:lh(i.serializer,s)}}if(r instanceof vn){const s=new vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(i.serializer,s)}}if(r instanceof fw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Io)return{bytesValue:lU(i.serializer,r._byteString)};if(r instanceof fn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${dw(r)}`)}(n,e)}function nj(n,e){const t={};return d2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gc(n,(r,i)=>{const s=Zu(i,e.fu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function rj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vn||n instanceof fw||n instanceof Io||n instanceof fn||n instanceof Wu)}function FS(n,e,t){if(!rj(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=dw(t);throw e.Su("an object"===r?n+" a custom object":n+" "+r)}var i}function im(n,e,t){if((e=(0,Rt.m9)(e))instanceof ha)return e._internalPath;if("string"==typeof e)return mw(n,e);throw _w("Field path arguments must be of type string or ",n,!1,void 0,t)}const Cte=new RegExp("[~\\*/\\[\\]]");function mw(n,e,t){if(e.search(Cte)>=0)throw _w(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ha(...e.split("."))._internalPath}catch{throw _w(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _w(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ee(L.INVALID_ARGUMENT,a+n+c)}function ij(n,e){return n.some(t=>t.isEqual(e))}class sm{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ite(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ite extends sm{data(){return super.data()}}function yw(n,e){return"string"==typeof e?mw(n,e):e instanceof ha?e._internalPath:e._delegate._internalPath}function sj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ee(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LS{}class om extends LS{}function Ac(n,e,...t){let r=[];e instanceof LS&&r.push(e),r=r.concat(t),function(s){const o=s.filter(c=>c instanceof Ph).length,a=s.filter(c=>c instanceof am).length;if(o>1||o>0&&a>0)throw new ee(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class am extends om{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new am(e,t,r)}_apply(e){const t=this._parse(e);return uj(e._query,t),new Br(e.firestore,e.converter,LD(e._query,t))}_parse(e){const t=Ku(e.firestore);return function(s,o,a,c,l,f,g){let m;if(l.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new ee(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){cj(g,f);const y=[];for(const E of g)y.push(aj(c,s,E));m={arrayValue:{values:y}}}else m=aj(c,s,g)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||cj(g,f),m=tj(a,"where",g,"in"===f||"not-in"===f);return mt.create(l,f,m)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ph extends LS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ph(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Bt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)uj(o,c),o=LD(o,c)}(e._query,t),new Br(e.firestore,e.converter,LD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VS extends om{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VS(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new ee(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ee(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Og(s,o)}(e._query,this._field,this._direction);return new Br(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new aa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class vw extends om{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new vw(e,t,r)}_apply(e){return new Br(e.firestore,e.converter,VE(e._query,this._limit,this._limitType))}}class Ew extends om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ew(e,t,r)}_apply(e){const t=oj(e,this.type,this._docOrFields,this._inclusive);return new Br(e.firestore,e.converter,(s=t,new aa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class ww extends om{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ww(e,t,r)}_apply(e){const t=oj(e,this.type,this._docOrFields,this._inclusive);return new Br(e.firestore,e.converter,(s=t,new aa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function oj(n,e,t,r){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof sm)return function(s,o,a,c,l){if(!c)throw new ee(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const g of ih(s))if(g.field.isKeyField())f.push(Fu(o,c.key));else{const m=c.data.field(g.field);if(RE(m))throw new ee(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const y=g.field.canonicalString();throw new ee(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(m)}return new Ec(f,l)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ku(n.firestore);return function(o,a,c,l,f,g){const m=o.explicitOrderBy;if(f.length>m.length)throw new ee(L.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let E=0;E<f.length;E++){const C=f[E];if(m[E].field.isKeyField()){if("string"!=typeof C)throw new ee(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof C}`);if(!FD(o)&&-1!==C.indexOf("/"))throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${C}' contains a slash.`);const I=o.path.child(gt.fromString(C));if(!pe.isDocumentKey(I))throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const M=new pe(I);y.push(Fu(a,M))}else{const I=tj(c,l,C);y.push(I)}}return new Ec(y,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function aj(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new ee(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FD(e)&&-1!==t.indexOf("/"))throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gt.fromString(t));if(!pe.isDocumentKey(r))throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fu(n,new pe(r))}if(t instanceof fn)return Fu(n,t._key);throw new ee(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dw(t)}.`)}function cj(n,e){if(!Array.isArray(n)||0===n.length)throw new ee(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uj(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ee(L.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class US{convertValue(e,t="none"){switch(yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return On(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return gc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new fw(On(e.latitude),On(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=OE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sg(e));default:return null}}convertTimestamp(e){const t=sa(e);return new vn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gt.fromString(e);Pe(wU(r));const i=new mc(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(t)||Bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function bw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class xte extends US{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}class Qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends sm{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class cm extends fa{data(e={}){return super.data(e)}}class Sc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new cm(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new cm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new cm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,f=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:kte(a.type),doc:c,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}function dj(n,e){return n instanceof fa&&e instanceof fa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Sc&&e instanceof Sc&&n._firestore===e._firestore&&SS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Pc extends US{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function hj(n,e,t){n=ft(n,fn);const r=ft(n.firestore,sn),i=bw(n.converter,e,t);return Mh(r,[gw(Ku(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,En.none())])}function fj(n,e,t,...r){n=ft(n,fn);const i=ft(n.firestore,sn),s=Ku(i);let o;return o="string"==typeof(e=(0,Rt.m9)(e))||e instanceof ha?kS(s,"updateDoc",n._key,e,t,r):NS(s,"updateDoc",n._key,e),Mh(i,[o.toMutation(n._key,En.exists(!0))])}function pj(n,...e){var t,r,i;n=(0,Rt.m9)(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||PS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(PS(e[o])){const g=e[o];e[o]=null===(t=g.next)||void 0===t?void 0:t.bind(g),e[o+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[o+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let c,l,f;if(n instanceof fn)l=ft(n.firestore,sn),f=rh(n._key.path),c={next:g=>{e[o]&&e[o](BS(l,n,g))},error:e[o+1],complete:e[o+2]};else{const g=ft(n,Br);l=ft(g.firestore,sn),f=g._query;const m=new Pc(l);c={next:y=>{e[o]&&e[o](new Sc(l,m,g,y))},error:e[o+1],complete:e[o+2]},sj(n._query)}return function(m,y,E,C){const I=new cw(C),M=new zA(y,I,E);return m.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return VA(yield Sh(m),M)})),()=>{I.Qa(),m.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return BA(yield Sh(m),M)}))}}(xn(l),f,a,c)}function Mh(n,e){return function(r,i){const s=new lr;return r.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function Mee(n,e,t){return JA.apply(this,arguments)}(yield TS(r),i,s)})),s.promise}(xn(n),e)}function BS(n,e,t){const r=t.docs.get(e._key),i=new Pc(n);return new fa(n,i,e._key,r,new Qu(t.hasPendingWrites,t.fromCache),e.converter)}const Xte={maxAttempts:5};class gj{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ku(e)}set(e,t,r){this._verifyNotCommitted();const i=Mc(e,this._firestore),s=bw(i.converter,t,r),o=gw(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,En.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Mc(e,this._firestore);let o;return o="string"==typeof(t=(0,Rt.m9)(t))||t instanceof ha?kS(this._dataReader,"WriteBatch.update",s._key,t,r,i):NS(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,En.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mc(e,this._firestore);return this._mutations=this._mutations.concat(new uh(t._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mc(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new ee(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ene extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Ku(t)}get(t){const r=Mc(t,this._firestore),i=new xte(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return be();const o=s[0];if(o.isFoundDocument())return new sm(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new sm(this._firestore,i,r._key,null,r.converter);throw be()})}set(t,r,i){const s=Mc(t,this._firestore),o=bw(s.converter,r,i),a=gw(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=Mc(t,this._firestore);let a;return a="string"==typeof(r=(0,Rt.m9)(r))||r instanceof ha?kS(this._dataReader,"Transaction.update",o._key,r,i,s):NS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=Mc(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Mc(e,this._firestore),r=new Pc(this._firestore);return super.get(e).then(i=>new fa(this._firestore,r,t._key,i._document,new Qu(!1,!1),t.converter))}}function $S(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vj(){if(typeof Uint8Array>"u")throw new ee("unimplemented","Uint8Arrays are not available in this environment.")}function Ej(){if(!function NJ(){return typeof atob<"u"}())throw new ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Zd=Au.SDK_VERSION,(0,Au._registerComponent)(new SL.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new sn(new iJ(r.getProvider("auth-internal")),new aJ(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ee(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Au.registerVersion)(GV,"4.6.0",e),(0,Au.registerVersion)(GV,"4.6.0","esm2017")}();class um{constructor(e){this._delegate=e}static fromBase64String(e){return Ej(),new um(Io.fromBase64String(e))}static fromUint8Array(e){return vj(),new um(Io.fromUint8Array(e))}toBase64(){return Ej(),this._delegate.toBase64()}toUint8Array(){return vj(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function HS(n){return function lne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class dne{enableIndexedDbPersistence(e,t){return function dte(n,e){YB(n=ft(n,sn));const t=xn(n);if(t._uninitializedComponentsProvider)throw new ee(L.FAILED_PRECONDITION,"SDK cache is already specified.");Fi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Dh;return QB(t,i,new yS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function hte(n){YB(n=ft(n,sn));const e=xn(n);if(e._uninitializedComponentsProvider)throw new ee(L.FAILED_PRECONDITION,"SDK cache is already specified.");Fi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Dh;return QB(e,r,new RB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function fte(n){if(n._initialized&&!n._terminated)throw new ee(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Z.Z)(function*(){try{yield(t=(0,Z.Z)(function*(i){if(!Es.D())return Promise.resolve();const s=i+"main";yield Es.delete(s)}),function r(i){return t.apply(this,arguments)})(aA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class wj{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof mc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function GB(n,e,t,r={}){var i;const s=(n=ft(n,tm))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ir.MOCK_USER;else{a=(0,Rt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ee(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ir(l)}n._authCredentials=new rJ(new WV(a,c))}}(this._delegate,e,t,r)}enableNetwork(){return function gte(n){return function Yee(n){return n.asyncQueue.enqueue((0,Z.Z)(function*(){const e=yield NB(n),t=yield kB(n);return e.setNetworkEnabled(!0),function(i){const s=he(i);return s.v_.delete(0),Xg(s)}(t)}))}(xn(n=ft(n,sn)))}(this._delegate)}disableNetwork(){return function mte(n){return function Jee(n){return n.asyncQueue.enqueue((0,Z.Z)(function*(){const e=yield NB(n),t=yield kB(n);return e.setNetworkEnabled(!1),(r=(0,Z.Z)(function*(s){const o=he(s);o.v_.add(0),yield yh(o),o.x_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(xn(n=ft(n,sn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,jB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function pte(n){return function(t){const r=new lr;return t.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return function Nee(n,e){return rS.apply(this,arguments)}(yield TS(t),r)})),r.promise}(xn(n=ft(n,sn)))}(this._delegate)}onSnapshotsInSync(e){return function zte(n,e){return function tte(n,e){const t=new cw(e);return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return i=yield Sh(n),s=t,he(i).W_.add(s),void s.next();var i,s})),()=>{t.Qa(),n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return i=yield Sh(n),s=t,void he(i).W_.delete(s);var i,s}))}}(xn(n=ft(n,sn)),PS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Rh(this,WB(this._delegate,e))}catch(t){throw Ei(t,"collection()","Firestore.collection()")}}doc(e){try{return new ws(this,hw(this._delegate,e))}catch(t){throw Ei(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wi(this,function ate(n,e){if(n=ft(n,tm),AS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Br(n,null,(r=e,new aa(gt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Ei(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function tne(n,e,t){n=ft(n,sn);const r=Object.assign(Object.assign({},Xte),t);return function(s){if(s.maxAttempts<1)throw new ee(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const c=new lr;return s.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){const l=yield function FB(n){return lw(n).then(e=>e.datastore)}(s);new Zee(s.asyncQueue,l,a,o,c).Ya()})),c.promise}(xn(n),i=>e(new ene(n,i)),r)}(this._delegate,t=>e(new bj(this,t)))}batch(){return xn(this._delegate),new Cj(new gj(this._delegate,e=>Mh(this._delegate,e)))}loadBundle(e){return function _te(n,e){const t=xn(n=ft(n,sn)),r=new ute;return function nte(n,e,t,r){const i=function(o,a){let c;return c="string"==typeof o?nU().encode(o):o,f=function(f,g){if(f instanceof Uint8Array)return OB(f,g);if(f instanceof ArrayBuffer)return OB(new Uint8Array(f),g);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Wee(f,a);var f}(t,Jg(e));n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){!function qee(n,e,t){const r=he(n);var i;(i=(0,Z.Z)(function*(o,a,c){try{const l=yield a.getMetadata();if(yield function(E,C){const I=he(E),M=jn(C.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",P=>I.$r.getBundleMetadata(P,C.id)).then(P=>!!P&&P.createTime.compareTo(M)>=0)}(o.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(E=l).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);c._updateProgress(wB(l));const f=new bee(l,o.localStore,a.serializer);let g=yield a.Ba();for(;g;){const y=yield f.sa(g);y&&c._updateProgress(y),g=yield a.Ba()}const m=yield f.complete();return yield da(o,m.aa,void 0),yield function(E,C){const I=he(E);return I.persistence.runTransaction("Save bundle","readwrite",M=>I.$r.saveBundleMetadata(M,C))}(o.localStore,l),c._completeWith(m.progress),Promise.resolve(m._a)}catch(l){return Fi("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var E}),function s(o,a,c){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield TS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function yte(n,e){return function rte(n,e){return n.asyncQueue.enqueue((0,Z.Z)(function*(){return function(r,i){const s=he(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(yield Ah(n),e)}))}(xn(n=ft(n,sn)),e).then(t=>t?new Br(n,null,t.query):null)}(this._delegate,e).then(t=>t?new wi(this,t):null)}}class Iw extends US{constructor(e){super(),this.firestore=e}convertBytes(e){return new um(new Io(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ws.forKey(t,this.firestore,null)}}class bj{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Iw(e)}get(e){const t=Ju(e);return this._delegate.get(t).then(r=>new lm(this._firestore,new fa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ju(e);return r?($S("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ju(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ju(e);return this._delegate.delete(t),this}}class Cj{constructor(e){this._delegate=e}set(e,t,r){const i=Ju(e);return r?($S("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Ju(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Ju(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Yu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new cm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dm(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Yu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Yu(e,new Iw(e),t),i.set(t,s)),s}}Yu.INSTANCES=new WeakMap;class ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Iw(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ws(t,new fn(t._delegate,r,new pe(e)))}static forKey(e,t,r){return new ws(t,new fn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Rh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Rh(this.firestore,WB(this._delegate,e))}catch(t){throw Ei(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof fn&&KB(this._delegate,e)}set(e,t){t=$S("DocumentReference.set",t);try{return t?hj(this._delegate,e,t):hj(this._delegate,e)}catch(r){throw Ei(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?fj(this._delegate,e):fj(this._delegate,e,t,...r)}catch(i){throw Ei(i,"updateDoc()","DocumentReference.update()")}}delete(){return function $te(n){return Mh(ft(n.firestore,sn),[new uh(n._key,En.none())])}(this._delegate)}onSnapshot(...e){const t=Ij(e),r=Tj(e,i=>new lm(this.firestore,new fa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return pj(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Lte(n){n=ft(n,fn);const e=ft(n.firestore,sn),t=xn(e),r=new Pc(e);return function Xee(n,e){const t=new lr;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(r=(0,Z.Z)(function*(s,o,a){try{const c=yield function(f,g){const m=he(f);return m.persistence.runTransaction("read document","readonly",y=>m.localDocuments.getDocument(y,g))}(s,o);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ee(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=bh(c,`Failed to get document '${o} from cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Ah(n),e,t);var r})),t.promise}(t,n._key).then(i=>new fa(e,r,n._key,i,new Qu(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Vte(n){n=ft(n,fn);const e=ft(n.firestore,sn);return LB(xn(e),n._key,{source:"server"}).then(t=>BS(e,n,t))}(this._delegate):function Fte(n){n=ft(n,fn);const e=ft(n.firestore,sn);return LB(xn(e),n._key).then(t=>BS(e,n,t))}(this._delegate),t.then(r=>new lm(this.firestore,new fa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ws(this.firestore,this._delegate.withConverter(e?Yu.getInstance(this.firestore,e):null))}}function Ei(n,e,t){return n.message=n.message.replace(e,t),n}function Ij(n){for(const e of n)if("object"==typeof e&&!HS(e))return e;return{}}function Tj(n,e){var t,r;let i;return i=HS(n[0])?n[0]:HS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class lm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ws(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dj(this._delegate,e._delegate)}}class dm extends lm{data(e){const t=this._delegate.data(e);return this._delegate._converter||function tJ(n,e){n||be()}(void 0!==t),t}}class wi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Iw(e)}where(e,t,r){try{return new wi(this.firestore,Ac(this._delegate,function Tte(n,e,t){const r=e,i=yw("where",n);return am._create(i,r,t)}(e,t,r)))}catch(i){throw Ei(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wi(this.firestore,Ac(this._delegate,function Dte(n,e="asc"){const t=e,r=yw("orderBy",n);return VS._create(r,t)}(e,t)))}catch(r){throw Ei(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wi(this.firestore,Ac(this._delegate,function Ate(n){return zB("limit",n),vw._create("limit",n,"F")}(e)))}catch(t){throw Ei(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wi(this.firestore,Ac(this._delegate,function Ste(n){return zB("limitToLast",n),vw._create("limitToLast",n,"L")}(e)))}catch(t){throw Ei(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wi(this.firestore,Ac(this._delegate,function Pte(...n){return Ew._create("startAt",n,!0)}(...e)))}catch(t){throw Ei(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wi(this.firestore,Ac(this._delegate,function Mte(...n){return Ew._create("startAfter",n,!1)}(...e)))}catch(t){throw Ei(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wi(this.firestore,Ac(this._delegate,function Rte(...n){return ww._create("endBefore",n,!1)}(...e)))}catch(t){throw Ei(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wi(this.firestore,Ac(this._delegate,function Ote(...n){return ww._create("endAt",n,!0)}(...e)))}catch(t){throw Ei(t,"endAt()","Query.endAt()")}}isEqual(e){return SS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Bte(n){n=ft(n,Br);const e=ft(n.firestore,sn),t=xn(e),r=new Pc(e);return function ete(n,e){const t=new lr;return n.asyncQueue.enqueueAndForget((0,Z.Z)(function*(){return(r=(0,Z.Z)(function*(s,o,a){try{const c=yield ew(s,o,!0),l=new IB(o,c.hs),f=l.Ta(c.documents),g=l.applyChanges(f,!1);a.resolve(g.snapshot)}catch(c){const l=bh(c,`Failed to execute query '${o} against cache`);a.reject(l)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Ah(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Sc(e,r,n,i))}(this._delegate):"server"===e?.source?function jte(n){n=ft(n,Br);const e=ft(n.firestore,sn),t=xn(e),r=new Pc(e);return VB(t,n._query,{source:"server"}).then(i=>new Sc(e,r,n,i))}(this._delegate):function Ute(n){n=ft(n,Br);const e=ft(n.firestore,sn),t=xn(e),r=new Pc(e);return sj(n._query),VB(t,n._query).then(i=>new Sc(e,r,n,i))}(this._delegate),t.then(r=>new zS(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Ij(e),r=Tj(e,i=>new zS(this.firestore,new Sc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return pj(this._delegate,t,r)}withConverter(e){return new wi(this.firestore,this._delegate.withConverter(e?Yu.getInstance(this.firestore,e):null))}}class fne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new dm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new dm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new fne(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new dm(this._firestore,r))})}isEqual(e){return dj(this._delegate,e._delegate)}}class Rh extends wi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ws(this.firestore,e):null}doc(e){try{return new ws(this.firestore,void 0===e?hw(this._delegate):hw(this._delegate,e))}catch(t){throw Ei(t,"doc()","CollectionReference.doc()")}}add(e){return function Hte(n,e){const t=ft(n.firestore,sn),r=hw(n),i=bw(n.converter,e);return Mh(t,[gw(Ku(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ws(this.firestore,t))}isEqual(e){return KB(this._delegate,e._delegate)}withConverter(e){return new Rh(this.firestore,this._delegate.withConverter(e?Yu.getInstance(this.firestore,e):null))}}function Ju(n){return ft(n,fn)}class qS{constructor(...e){this._delegate=new ha(...e)}static documentId(){return new qS(dn.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof ha&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function rne(){return new MS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xu(e)}static delete(){const e=function nne(){return new rm("deleteField")}();return e._methodName="FieldValue.delete",new Xu(e)}static arrayUnion(...e){const t=function ine(...n){return new RS("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xu(t)}static arrayRemove(...e){const t=function sne(...n){return new OS("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xu(t)}static increment(e){const t=function one(n){return new xS("increment",n)}(e);return t._methodName="FieldValue.increment",new Xu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pne={Firestore:wj,GeoPoint:fw,Timestamp:vn,Blob:um,Transaction:bj,WriteBatch:Cj,DocumentReference:ws,DocumentSnapshot:lm,Query:wi,QueryDocumentSnapshot:dm,QuerySnapshot:zS,CollectionReference:Rh,FieldPath:qS,FieldValue:Xu,setLogLevel:function hne(n){!function eJ(n){hc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Dj(n,e){return function _ne(n,e=OT){return new ot(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function GS(n,e){return Dj(n,e).pipe(Ce(t=>({payload:t,type:"query"})))}!function mne(n){(function gne(n,e){n.INTERNAL.registerComponent(new SL.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},pne)))})(n,(e,t)=>new wj(e,t,new dne)),n.registerVersion("@firebase/firestore-compat","0.3.29")}(uc.Z);class Aj{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=xj(r,t);return new Mj(i,s,this.afs)}snapshotChanges(){return function yne(n,e){return Dj(n,e).pipe(Nv(void 0),kT(),Ce(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qi)}valueChanges(e={}){return this.snapshotChanges().pipe(Ce(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return S(this.ref.get(e)).pipe(Qi)}}function Tw(n,e){return GS(n,e).pipe(Nv(void 0),kT(),Ce(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const l=s.find(g=>g.doc.ref.isEqual(a.ref)),f=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),o}))}function Sj(n,e,t){return Tw(n,t).pipe(Fv((r,i)=>function vne(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Ene(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return WS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return WS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),Nn(),Ce(r=>r.map(i=>({type:i.type,payload:i}))))}function WS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Pj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Mj{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Tw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Ce(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Nv(void 0),kT(),ei(([r,i])=>i.length>0||!r),Ce(([,r])=>r),Qi)}auditTrail(e){return this.stateChanges(e).pipe(Fv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Pj(e);return Sj(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi)}valueChanges(e={}){return GS(this.query,this.afs.schedulers.outsideAngular).pipe(Ce(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Qi)}get(e){return S(this.query.get(e)).pipe(Qi)}add(e){return this.ref.add(e)}doc(e){return new Aj(this.ref.doc(e),this.afs)}}class wne{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Tw(this.query,this.afs.schedulers.outsideAngular).pipe(Ce(t=>t.filter(r=>e.indexOf(r.type)>-1)),ei(t=>t.length>0),Qi):Tw(this.query,this.afs.schedulers.outsideAngular).pipe(Qi)}auditTrail(e){return this.stateChanges(e).pipe(Fv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Pj(e);return Sj(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi)}valueChanges(e={}){return GS(this.query,this.afs.schedulers.outsideAngular).pipe(Ce(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Qi)}get(e){return S(this.query.get(e)).pipe(Qi)}}const Rj=new ae("angularfire2.enableFirestorePersistence"),Oj=new ae("angularfire2.firestore.persistenceSettings"),bne=new ae("angularfire2.firestore.settings"),Cne=new ae("angularfire2.firestore.use-emulator");function xj(n,e=(t=>t)){return{query:e(n),ref:n}}let Nj=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,c,l,f,g,m,y,E,C,I,M,P){this.schedulers=c;const x=NT(t,a,r),q=f;g&&DL(x,a,m,E,C,I,y,M),[this.firestore,this.persistenceEnabled$]=mL(`${x.name}.firestore`,"AngularFirestore",x.name,()=>{const ue=a.runOutsideAngular(()=>x.firestore());if(s&&ue.settings(s),q&&ue.useEmulator(...q),i&&!Tv(o)){const Me=()=>{try{return S(ue.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(He){return typeof console<"u"&&console.warn(He),H(!1)}};return[ue,a.runOutsideAngular(Me)]}return[ue,H(!1)]},[s,q,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=xj(i,r),a=this.schedulers.ngZone.run(()=>s);return new Mj(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new wne(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Aj(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(W(eE),W(tE,8),W(Rj,8),W(bne,8),W(hs),W(yt),W(pL),W(Oj,8),W(Cne,8),W(AL,8),W(EL,8),W(wL,8),W(bL,8),W(CL,8),W(IL,8),W(TL,8),W(hL,8))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Ine=(()=>{class n{constructor(){uc.Z.registerVersion("angularfire",xT.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Rj,useValue:!0},{provide:Oj,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=In({type:n});static \u0275inj=Sn({providers:[Nj]})}return n})(),Dw=(()=>{class n{constructor(t,r){this.http=t,this.fireStore=r}getDoc(t,r,i){return this.http.get(`https://sheets.googleapis.com/v4/spreadsheets/${t}/values/${r}:${i}?key=AIzaSyAZ4Ueu2usjHpH2SwzA_pNngNPzfajfxNs`)}login(t){return this.fireStore.collection("users",r=>r.where("email","==",t.email).where("password","==",t.password)).get().pipe(Ce(r=>{if(r.empty)throw new Error("User not found");return r.docs.map(i=>i.data())}),oc(r=>{throw console.error("Error getting user:",r),r}))}addCategory(t){return this.fireStore.collection("category").add(t)}addSheet(t){return this.fireStore.collection("sheets").add(t)}deleteSheet(t){return this.fireStore.collection("sheets").doc(t).delete()}addUser(t){return this.fireStore.collection("users").add(t)}getSheet(){return this.fireStore.collection("sheets").valueChanges()}getSheetDetail(t){return this.fireStore.collection("sheets").doc(t).valueChanges()}getSheetList(){return this.fireStore.collection("sheets").snapshotChanges().pipe(Ce(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i}})))}getCategory(t){return new Promise(r=>{this.fireStore.collection("category").ref.where("sheetId","==",t).get().then(i=>{const s=[];if(i.forEach(o=>{const a=o.data(),c={id:o.id,...a};s.push(c)}),1===s.length)r(s[0]);else{if(!(s.length>1))throw new Error("Category not found");r(s)}}).catch(i=>{throw console.error("Error getting data:",i),i})})}getUsers(){return this.fireStore.collection("users").snapshotChanges().pipe(Ce(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,...i}})))}getUserDetail(t){return this.fireStore.collection("users").doc(t).valueChanges()}deleteUser(t){return this.fireStore.collection("users").doc(t).delete().catch(r=>{throw console.error("Error getting data:",r),r})}updateUser(t,r){return this.fireStore.collection("users").doc(t).update(r)}deleteCategory(t){return this.fireStore.collection("category").doc(t).delete().catch(r=>{throw console.error("Error getting data:",r),r})}updateSheet(t,r){return this.fireStore.collection("sheets").doc(t).update(r)}updateCategory(t,r){return this.fireStore.collection("category").doc(t).update(r)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Gk),W(Nj))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Tne{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const Dne={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function KS(n,e=Dne){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=e[s[0]]||s;return new Tne(o[0],o[1])}),i=r.filter(s=>s.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const hr=typeof window<"u"&&window||{},fr=hr.document;var kj=function(n){return n.isBs4="bs4",n.isBs5="bs5",n}(kj||{});let pa;function Fj(){const n=hr.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),hr.document.head.appendChild(n);const e=hr.getComputedStyle(n).paddingLeft;return e&&parseFloat(e)?(hr.document.head.removeChild(n),"bs4"):(hr.document.head.removeChild(n),"bs5")}function Oh(){return{isBs4:(pa||(pa=Fj()),"bs4"===pa),isBs5:(pa||(pa=Fj()),"bs5"===pa)}}class xne{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=hr),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function One(){const n=Oh(),e=Object.keys(n).find(t=>n[t]);return kj[e]}();return{crossorigin:"anonymous",integrity:"bs5"===e?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;let ZS,kne=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{ZS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ZS=!1}let Vj=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?mk(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(W(hs))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uj=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Lne(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Fne(n){try{return n.frameElement}catch{return null}}(function qne(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===jj(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=jj(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Hne(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function zne(n){return!function Une(n){return function jne(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Vne(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Bne(n){return function $ne(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Bj(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)(W(Vj))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bj(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function jj(n){if(!Bj(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function $j(n){return null!=n&&"false"!=`${n}`}class Gne{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return t?.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Iu(1)).subscribe(e)}}let Wne=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Gne(t,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||n)(W(Uj),W(yt),W(Kn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kne=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=$j(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=$j(t)}constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(r){return new(r||n)($(cr),$(Wne),$(Kn))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[Wr]})}return n})(),Hj=(()=>{class n{static forRoot(){return{ngModule:n,providers:[kne,Vj,Uj]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({imports:[xp]})}return n})();const Zne=["addListener","removeListener"],Qne=["addEventListener","removeEventListener"],Yne=["on","off"];function Aw(n,e,t,r){if(b(t)&&(r=t,t=void 0),r)return Aw(n,e,t).pipe(rT(r));const[i,s]=function ere(n){return b(n.addEventListener)&&b(n.removeEventListener)}(n)?Qne.map(o=>a=>n[o](e,a,t)):function Jne(n){return b(n.addListener)&&b(n.removeListener)}(n)?Zne.map(zj(n,e)):function Xne(n){return b(n.on)&&b(n.off)}(n)?Yne.map(zj(n,e)):[];if(!i&&Xe(n))return Ht(o=>Aw(o,e,t))(Cn(n));if(!i)throw new TypeError("Invalid event target");return new ot(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function zj(n,e){return t=>r=>n[t](e,r)}const hm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=hm;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new _t(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=hm;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=hm;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},rre=new class nre extends RT{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class tre extends PT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(hm.cancelAnimationFrame(t),e._scheduled=void 0)}});var qj=function(n){return n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",n}(qj||{}),Sw=function(n){return n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",n}(Sw||{});function el(n,e){if(1!==n.nodeType)return[];const r=n.ownerDocument.defaultView?.getComputedStyle(n,null);return e?r&&r[e]:r}function QS(n){if(!n)return document.documentElement;let r,t=n?.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===el(t,"position")?QS(t):t:r?r.ownerDocument.documentElement:document.documentElement}function YS(n){return null!==n.parentNode?YS(n.parentNode):n}function Pw(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const o=s.commonAncestorContainer;if(n!==o&&e!==o||r.contains(i))return function ire(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||QS(n.firstElementChild)===n)}(o)?o:QS(o);const a=YS(n);return a.host?Pw(a.host,e):Pw(n,YS(e).host)}function Gj(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;e?.parentElement&&"none"===el(e,"transform");)e=e.parentElement;return e||document.documentElement}function Wj(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function Kj(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function Zj(n){const e=n.body,t=n.documentElement;return{height:Kj("Height",e,t),width:Kj("Width",e,t)}}function fm(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function wn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function Qj(n){const e=n.getBoundingClientRect();if(!(e&&wn(e.top)&&wn(e.left)&&wn(e.bottom)&&wn(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?Zj(n.ownerDocument):void 0,i=r?.width||n.clientWidth||wn(e.right)&&wn(t.left)&&e.right-t.left||0,s=r?.height||n.clientHeight||wn(e.bottom)&&wn(t.top)&&e.bottom-t.top||0;let o=n.offsetWidth-i,a=n.offsetHeight-s;if(o||a){const c=el(n);o-=Wj(c,"x"),a-=Wj(c,"y"),t.width-=o,t.height-=a}return fm(t)}function JS(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function XS(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=el(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:XS(JS(n))}function eP(n,e,t=!1){const r="HTML"===e.nodeName,i=Qj(n),s=Qj(e),a=(XS(n),el(e)),c=parseFloat(a.borderTopWidth),l=parseFloat(a.borderLeftWidth);t&&r&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const f=fm({top:(i.top??0)-(s.top??0)-c,left:(i.left??0)-(s.left??0)-l,width:i.width,height:i.height});if(f.marginTop=0,f.marginLeft=0,r){const g=parseFloat(a.marginTop),m=parseFloat(a.marginLeft);wn(f.top)&&(f.top-=c-g),wn(f.bottom)&&(f.bottom-=c-g),wn(f.left)&&(f.left-=l-m),wn(f.right)&&(f.right-=l-m),f.marginTop=g,f.marginLeft=m}return f}function Yj(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;return"BODY"===r||"HTML"===r?(n.ownerDocument.scrollingElement||n.ownerDocument.documentElement)[t]:n[t]}function Jj(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===el(n,"position")||Jj(JS(n)))}function tP(n,e,t=0,r,i=!1){let s={top:0,left:0};const o=i?Gj(n):Pw(n,e);if("viewport"===r)s=function ore(n,e=!1){const t=n.ownerDocument.documentElement,r=eP(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),s=Math.max(t.clientHeight,window.innerHeight||0),o=e?0:Yj(t),a=e?0:Yj(t,"left");return fm({top:o-Number(r?.top)+Number(r?.marginTop),left:a-Number(r?.left)+Number(r?.marginLeft),width:i,height:s})}(o,i);else{let a;"scrollParent"===r?(a=XS(JS(e)),"BODY"===a.nodeName&&(a=n.ownerDocument.documentElement)):a="window"===r?n.ownerDocument.documentElement:r;const c=eP(a,o,i);if(c&&"HTML"===a.nodeName&&!Jj(o)){const{height:l,width:f}=Zj(n.ownerDocument);wn(s.top)&&wn(c.top)&&wn(c.marginTop)&&(s.top+=c.top-c.marginTop),wn(s.top)&&(s.bottom=Number(l)+Number(c.top)),wn(s.left)&&wn(c.left)&&wn(c.marginLeft)&&(s.left+=c.left-c.marginLeft),wn(s.top)&&(s.right=Number(f)+Number(c.left))}else c&&(s=c)}return wn(s.left)&&(s.left+=t),wn(s.top)&&(s.top+=t),wn(s.right)&&(s.right-=t),wn(s.bottom)&&(s.bottom-=t),s}function are({width:n,height:e}){return n*e}function Xj(n,e,t,r,i=["top","bottom","right","left"],s="viewport",o=0){if(-1===n.indexOf("auto"))return n;const a=tP(t,r,o,s),c={top:{width:a?.width??0,height:(e?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(e?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(e?.bottom??0)},left:{width:(e.left??0)-(a?.left??0),height:a?.height??0}},l=Object.keys(c).map(y=>({position:y,...c[y],area:are(c[y])})).sort((y,E)=>E.area-y.area);let f=l.filter(({width:y,height:E})=>y>=t.clientWidth&&E>=t.clientHeight);f=f.filter(({position:y})=>i.some(E=>E===y));const g=f.length>0?f[0].position:l[0].position,m=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Oh().isBs5?Sw[g]:g}`),g+(m?`-${m}`:"")}const Mw=(n,e=0)=>n?parseFloat(n):e;function e$(n){const t=n.ownerDocument.defaultView?.getComputedStyle(n),r=Mw(t?.marginTop)+Mw(t?.marginBottom),i=Mw(t?.marginLeft)+Mw(t?.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function t$(n,e,t){return eP(e,t?Gj(n):Pw(n,e),t)}function nP(n,e,t){const r=t.split(" ")[0],i=e$(n),s={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",c=o?"left":"top",l=o?"height":"width",f=o?"width":"height";return s[a]=(e[a]??0)+e[l]/2-i[l]/2,s[c]=r===c?(e[c]??0)-i[f]:e[function ure(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(c)]??0,s}function n$(n,e){return!!n.modifiers[e]?.enabled}const dre={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Rw(n,e){return!!Oh().isBs5&&dre[e].includes(n)}function r$(n){return Oh().isBs5?Rw(n,"end")?"ms-2":Rw(n,"start")?"me-2":Rw(n,"top")?"mb-2":Rw(n,"bottom")?"mt-2":"":""}function i$(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function sre(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function fre(n){let e=n.offsets.target;const t=n.instance.target.querySelector(".arrow");if(!t)return n;const r=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),i=r?"height":"width",s=r?"Top":"Left",o=s.toLowerCase(),a=r?"left":"top",c=r?"bottom":"right",l=e$(t)[i],f=n.placement.split(" ")[1];(n.offsets.host[c]??0)-l<(e[o]??0)&&(e[o]-=(e[o]??0)-((n.offsets.host[c]??0)-l)),Number(n.offsets.host[o])+Number(l)>(e[c]??0)&&(e[o]+=Number(n.offsets.host[o])+Number(l)-Number(e[c])),e=fm(e);const g=el(n.instance.target),m=parseFloat(g[`margin${s}`])||0,y=parseFloat(g[`border${s}Width`])||0;let E;if(f){const I=parseFloat(g.borderRadius)||0,M=Number(m+y+I);E=o===f?Number(n.offsets.host[o])+M:Number(n.offsets.host[o])+Number(n.offsets.host[i]-M)}else E=Number(n.offsets.host[o])+Number(n.offsets.host[i]/2-l/2);let C=E-(e[o]??0)-m-y;return C=Math.max(Math.min(e[i]-(l+5),C),0),n.offsets.arrow={[o]:Math.round(C),[a]:""},n.instance.arrow=t,n}function pre(n){if(n.offsets.target=fm(n.offsets.target),!n$(n.options,"flip"))return n.offsets.target={...n.offsets.target,...nP(n.instance.target,n.offsets.host,n.placement)},n;const e=tP(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const a=Xj("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),c=[t,a];return c.forEach((l,f)=>{if(t!==l||c.length===f+1)return;t=n.placement.split(" ")[0];const g="left"===t&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===t&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===t&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===t&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),m=Math.floor(n.offsets.target.left??0)<Math.floor(e.left??0),y=Math.floor(n.offsets.target.right??0)>Math.floor(e.right??0),E=Math.floor(n.offsets.target.top??0)<Math.floor(e.top??0),C=Math.floor(n.offsets.target.bottom??0)>Math.floor(e.bottom??0),I="left"===t&&m||"right"===t&&y||"top"===t&&E||"bottom"===t&&C,M=-1!==["top","bottom"].indexOf(t),P=M&&"left"===r&&m||M&&"right"===r&&y||!M&&"left"===r&&E||!M&&"right"===r&&C;(g||I||P)&&((g||I)&&(t=c[f+1]),P&&(r=function lre(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target={...n.offsets.target,...nP(n.instance.target,n.offsets.host,n.placement)})}),n}function mre(n){if(!n$(n.options,"preventOverflow"))return n;const e="transform",t=n.instance.target.style,{top:r,left:i,[e]:s}=t;t.top="",t.left="",t[e]="";const o=tP(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);t.top=r,t.left=i,t[e]=s;const c={primary(l){let f=n.offsets.target[l];return(n.offsets.target[l]??0)<(o[l]??0)&&(f=Math.max(n.offsets.target[l]??0,o[l]??0)),{[l]:f}},secondary(l){const f="right"===l,g=f?"left":"top";let y=n.offsets.target[g];return(n.offsets.target[l]??0)>(o[l]??0)&&(y=Math.min(n.offsets.target[g]??0,(o[l]??0)-n.offsets.target[f?"width":"height"])),{[g]:y}}};return["left","right","top","bottom"].forEach(l=>{const f=-1!==["left","top","start"].indexOf(l)?c.primary:c.secondary;n.offsets.target={...n.offsets.target,...f(l)}}),n}function _re(n){const e=n.placement,t=e.split(" ")[0],r=e.split(" ")[1];if(r){const{host:i,target:s}=n.offsets,o=-1!==["bottom","top"].indexOf(t),a=o?"left":"top",c=o?"width":"height",l={start:{[a]:i[a]},end:{[a]:(i[a]??0)+i[c]-s[c]}};n.offsets.target={...s,[a]:a===r?l.start[a]:l.end[a]}}return n}const vre=new class yre{position(e,t){return this.offset(e,t)}offset(e,t){return t$(t,e)}positionElements(e,t,r,i,s){const o=[pre,_re,mre,fre],c=function gre(n,e,t,r){if(!n||!e)return;const i=t$(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const s=!!t.match(/auto/g);let o=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=Xj(o,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:nP(n,i,o),host:i,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(t,e,qj[r],s);if(c)return o.reduce((l,f)=>f(l),c)}};let pm=(()=>{class n{constructor(t,r,i){this.update$$=new j,this.positionElements=new Map,this.isDisabled=!1,mk(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=Q(Aw(window,"scroll",{passive:!0}),Aw(window,"resize",{passive:!0}),H(0,rre),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{!function Ere(n,e,t,r,i,s){const o=vre.positionElements(n,e,t,r,i);if(!o)return;const a=function cre(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(o);i$(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&i$(o.instance.arrow,o.offsets.arrow,s),function hre(n,e){const t=n.instance.target;let r=t.className;const i=Oh().isBs5?Sw[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+r$(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(o,s)}(Ow(s.target),Ow(s.element),s.attachment,s.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Ow(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(Ow(t))}setOptions(t){this.options=t}static#e=this.\u0275fac=function(r){return new(r||n)(W(yt),W(mu),W(hs))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ow(n){return"string"==typeof n?document.querySelector(n):n instanceof cr?n.nativeElement:n??null}class gm{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class wre{constructor(e,t,r,i,s,o,a,c,l){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=c,this._document=l,this.onBeforeShow=new Et,this.onShown=new Et,this.onBeforeHide=new Et,this.onHidden=new Et,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=Nr.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof cr&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const r=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode?.removeChild(t),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef?.nativeElement;const t=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),r=this._listenOpts.show=s=>{e.show?e.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function Ane(n,e){const t=KS(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(a=>i.push(a())),s.length=0};return t.forEach(a=>{const c=a.open===a.close,l=c?e.toggle:e.show;if(!c&&a.close&&e.hide){const f=a.close,g=e.hide;s.push(()=>n.listen(r,f,g))}l&&i.push(n.listen(r,a.open,()=>l(o)))}),()=>{i.forEach(a=>a())}}(this._renderer,{target:e.target,triggers:e.triggers,show:r,hide:t,toggle:s=>{this.isShown?t():r(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function Sne(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function Pne(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new gm([]);if(e instanceof lo){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(e,t);return o.markForCheck(),new gm([o.rootNodes],o)}const s=e.createEmbeddedView({});return this._applicationRef.attachView(s),new gm([s.rootNodes],s)}if("function"==typeof e){const s=this._componentFactoryResolver.resolveComponentFactory(e),o=Nr.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,r),this._applicationRef.attachView(a.hostView),new gm([[a.location.nativeElement]],a.hostView,a)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new gm([i])}}let mm=(()=>{class n{constructor(t,r,i,s,o,a){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=s,this._applicationRef=o,this._document=a}createLoader(t,r,i){return new wre(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(W(op),W(yt),W(Nr),W(pm),W(Xa),W(Kn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bre=["*"];let s$=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),o$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const xw={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Cre=new ae("override-default-config");let Ire=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this._focusEl=fr.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),fr&&fr.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(fr.body,"modal-open"),this._renderer.setStyle(fr.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,fr&&fr.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(fr.body,"modal-open"),this._renderer.setStyle(fr.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(r){return new(r||n)($(o$),$(cr),$(fs))};static#t=this.\u0275cmp=qr({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(r,i){1&r&&pt("mousedown",function(o){return i.onClickStarted(o)})("click",function(o){return i.onClickStop(o)})("popstate",function(){return i.onPopState()},!1,lI)("keydown.esc",function(o){return i.onEsc(o)},!1,lI),2&r&&gs("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:bre,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(r,i){1&r&&(MI(),ne(0,"div",0)(1,"div",1),RI(2),ie()()),2&r&&_p("modal-dialog"+(i.config.class?" "+i.config.class:""))},dependencies:[Kne],encapsulation:2})}return n})(),Tre=(()=>{class n{get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),xne.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(r){return new(r||n)($(cr),$(fs))};static#t=this.\u0275cmp=qr({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return n})(),Dre=1,_m=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new Et,this.onShown=new Et,this.onHide=new Et,this.onHidden=new Et,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},xw,i):xw}show(t,r){this._focusEl=fr.activeElement,this.modalsCount++,this._createLoaders();const i=r?.id||Dre++;return this.config=this.modalDefaultOption?Object.assign({},xw,this.modalDefaultOption,r):Object.assign({},xw,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(Tre).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){const r=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)r.provide(o);const i=new s$,s=r.provide({provide:o$,useValue:this.config}).provide({provide:s$,useValue:i}).attach(Ire).to("body");return i.hide=()=>this.hide(i.id),i.setClass=o=>{s.instance&&(s.instance.config.class=o)},i.onHidden=new Et,i.onHide=new Et,this.copyEvent(r.onBeforeHide,i.onHide),this.copyEvent(r.onHidden,i.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),i.content=r.getInnerComponent(),i.id=s.instance.config?.id),i}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(s=>s.instance?.config.id===t),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(fr.body,"modal-open"),this._renderer.setStyle(fr.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=fr.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){fr&&(this.originalBodyPadding=parseInt(window.getComputedStyle(fr.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(fr.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){fr.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(fr.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(fr.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>i.instance?.config.id===t);r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,s)=>{i.instance&&(i.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}static#e=this.\u0275fac=function(r){return new(r||n)(W(mu),W(mm),W(Cre,8))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();Hj.forRoot();let Are=(()=>{class n{static forRoot(){return{ngModule:n,providers:[_m,mm,pm]}}static forChild(){return{ngModule:n,providers:[_m,mm,pm]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({imports:[Hj]})}return n})();function Sre(n,e){if(1&n&&wt(0,"div",9),2&n){const t=Lt();Ya("height",t.pbThickness,"px")("color",t.pbColor),Us("ngx-position-absolute",t.loaderId!==t.defaultConfig.masterLoaderId)("loading-foreground",t.showForeground)("foreground-closing",t.foregroundClosing)("fast-closing",t.foregroundClosing&&t.fastFadeOut),De("ngClass","ngx-progress-bar-"+t.pbDirection)}}function Pre(n,e){if(1&n&&wt(0,"img",10),2&n){const t=Lt();Ya("width",t.logoSize,"px")("height",t.logoSize,"px")("top",t.logoTop),De("ngClass",t.logoPosition)("src",t.trustedLogoUrl,VC)}}function Mre(n,e){1&n&&wt(0,"div")}function Rre(n,e){if(1&n&&(ne(0,"div"),it(1,Mre,1,0,"div",11),ie()),2&n){const t=Lt();_p(t.fgSpinnerClass),Te(1),De("ngForOf",t.fgDivs)}}function Ore(n,e){1&n&&Zy(0)}function xre(n,e){1&n&&it(0,Ore,1,0,"ng-container",12),2&n&&De("ngTemplateOutlet",Lt().fgsTemplate)}function Nre(n,e){1&n&&wt(0,"div")}function kre(n,e){if(1&n&&(ne(0,"div"),it(1,Nre,1,0,"div",11),ie()),2&n){const t=Lt();_p(t.bgSpinnerClass),Te(1),De("ngForOf",t.bgDivs)}}function Fre(n,e){1&n&&Zy(0)}function Lre(n,e){1&n&&it(0,Fre,1,0,"ng-container",12),2&n&&De("ngTemplateOutlet",Lt().bgsTemplate)}var iP=function(n){return n.ballScaleMultiple="ball-scale-multiple",n.ballSpin="ball-spin",n.ballSpinClockwise="ball-spin-clockwise",n.ballSpinClockwiseFadeRotating="ball-spin-clockwise-fade-rotating",n.ballSpinFadeRotating="ball-spin-fade-rotating",n.chasingDots="chasing-dots",n.circle="circle",n.cubeGrid="cube-grid",n.doubleBounce="double-bounce",n.fadingCircle="fading-circle",n.foldingCube="folding-cube",n.pulse="pulse",n.rectangleBounce="rectangle-bounce",n.rectangleBounceParty="rectangle-bounce-party",n.rectangleBouncePulseOut="rectangle-bounce-pulse-out",n.rectangleBouncePulseOutRapid="rectangle-bounce-pulse-out-rapid",n.rotatingPlane="rotating-plane",n.squareJellyBox="square-jelly-box",n.squareLoader="square-loader",n.threeBounce="three-bounce",n.threeStrings="three-strings",n.wanderingCubes="wandering-cubes",n}(iP||{}),Ws=function(n){return n.bottomCenter="bottom-center",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.centerCenter="center-center",n.centerLeft="center-left",n.centerRight="center-right",n.topCenter="top-center",n.topLeft="top-left",n.topRight="top-right",n}(Ws||{}),a$=function(n){return n.leftToRight="ltr",n.rightToLeft="rtl",n}(a$||{});const kw="fg-default",Fw="bg-default",Ure={},xh=!1,ym=!0,Lw={"ball-scale-multiple":{divs:3,class:"sk-ball-scale-multiple"},"ball-spin":{divs:8,class:"sk-ball-spin"},"ball-spin-clockwise":{divs:8,class:"sk-ball-spin-clockwise"},"ball-spin-clockwise-fade-rotating":{divs:8,class:"sk-ball-spin-clockwise-fade-rotating"},"ball-spin-fade-rotating":{divs:8,class:"sk-ball-spin-fade-rotating"},"chasing-dots":{divs:2,class:"sk-chasing-dots"},circle:{divs:12,class:"sk-circle"},"cube-grid":{divs:9,class:"sk-cube-grid"},"double-bounce":{divs:2,class:"sk-double-bounce"},"fading-circle":{divs:12,class:"sk-fading-circle"},"folding-cube":{divs:4,class:"sk-folding-cube"},pulse:{divs:1,class:"sk-pulse"},"rectangle-bounce":{divs:5,class:"sk-rectangle-bounce"},"rectangle-bounce-party":{divs:5,class:"sk-rectangle-bounce-party"},"rectangle-bounce-pulse-out":{divs:5,class:"sk-rectangle-bounce-pulse-out"},"rectangle-bounce-pulse-out-rapid":{divs:5,class:"sk-rectangle-bounce-pulse-out-rapid"},"rotating-plane":{divs:1,class:"sk-rotating-plane"},"square-jelly-box":{divs:2,class:"sk-square-jelly-box"},"square-loader":{divs:1,class:"sk-square-loader"},"three-bounce":{divs:3,class:"sk-three-bounce"},"three-strings":{divs:3,class:"sk-three-strings"},"wandering-cubes":{divs:2,class:"sk-wandering-cubes"}},$re={bgsColor:"#00ACC1",bgsOpacity:.5,bgsPosition:Ws.bottomRight,bgsSize:60,bgsType:iP.ballSpinClockwise,blur:5,delay:0,fastFadeOut:!1,fgsColor:"#00ACC1",fgsPosition:Ws.centerCenter,fgsSize:60,fgsType:iP.ballSpinClockwise,gap:24,logoPosition:Ws.centerCenter,logoSize:120,logoUrl:"",masterLoaderId:"master",overlayBorderRadius:"0",overlayColor:"rgba(40, 40, 40, 0.8)",pbColor:"#00ACC1",pbDirection:a$.leftToRight,pbThickness:3,hasProgressBar:!0,text:"",textColor:"#FFFFFF",textPosition:Ws.centerCenter,maxTime:-1,minTime:300},d$=new ae("ngxUiLoaderCustom.config");let vm=(()=>{class n{constructor(t){this.config=t,this.defaultConfig={...$re},this.config&&(this.config.minTime&&this.config.minTime<0&&(this.config.minTime=0),this.defaultConfig={...this.defaultConfig,...this.config}),this.loaders={},this.showForeground=new O({loaderId:"",isShow:!1}),this.showForeground$=this.showForeground.asObservable(),this.showBackground=new O({loaderId:"",isShow:!1}),this.showBackground$=this.showBackground.asObservable(),this.fgClosing=new O({loaderId:"",isShow:!1}),this.foregroundClosing$=this.fgClosing.asObservable(),this.bgClosing=new O({loaderId:"",isShow:!1}),this.backgroundClosing$=this.bgClosing.asObservable()}bindLoaderData(t){const r=t===this.defaultConfig.masterLoaderId;if(this.loaders[t]){if(this.loaders[t].isBound)throw new Error(`[ngx-ui-loader] - loaderId "${t}" is duplicated.`);this.loaders[t].isBound=!0,this.loaders[t].isMaster=r,this.hasRunningTask(ym,t)?this.showForeground.next({loaderId:t,isShow:!0}):this.hasRunningTask(xh,t)&&this.showBackground.next({loaderId:t,isShow:!0})}else this.createLoaderData(t,r,!0)}destroyLoaderData(t){this.stopAllLoader(t),delete this.loaders[t]}getDefaultConfig(){return{...this.defaultConfig}}getLoaders(){return JSON.parse(JSON.stringify(this.loaders))}getLoader(t){return this.loaders[t=t||this.defaultConfig.masterLoaderId]?JSON.parse(JSON.stringify(this.loaders[t])):null}startLoader(t,r=kw,i){this.readyToStart(t,r,!0,i)&&(this.loaders[t].tasks[r].isOtherRunning||(this.hasRunningTask(xh,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1})),this.showForeground.next({loaderId:t,isShow:!0})))}start(t=kw,r){this.startLoader(this.defaultConfig.masterLoaderId,t,r)}startBackgroundLoader(t,r=Fw,i){this.readyToStart(t,r,!1,i)&&!this.hasRunningTask(ym,t)&&!this.loaders[t].tasks[r].isOtherRunning&&this.showBackground.next({loaderId:t,isShow:!0})}startBackground(t=Fw,r){this.startBackgroundLoader(this.defaultConfig.masterLoaderId,t,r)}stopLoader(t,r=kw){this.readyToStop(t,r)&&(this.hasRunningTask(ym,t)||(this.foregroundCloseout(t),this.showForeground.next({loaderId:t,isShow:!1}),this.hasRunningTask(xh,t)&&setTimeout(()=>{this.hasRunningTask(xh,t)&&this.showBackground.next({loaderId:t,isShow:!0})},this.defaultConfig.fastFadeOut?300:500)))}stop(t=kw){this.stopLoader(this.defaultConfig.masterLoaderId,t)}stopBackgroundLoader(t,r=Fw){this.readyToStop(t,r)&&!this.hasRunningTask(ym,t)&&!this.hasRunningTask(xh,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1}))}stopBackground(t=Fw){this.stopBackgroundLoader(this.defaultConfig.masterLoaderId,t)}stopAllLoader(t){this.loaders[t]?(this.hasRunningTask(ym,t)?(this.foregroundCloseout(t),this.showForeground.next({loaderId:t,isShow:!1})):this.hasRunningTask(xh,t)&&(this.backgroundCloseout(t),this.showBackground.next({loaderId:t,isShow:!1})),this.clearAllTimers(this.loaders[t].tasks),this.loaders[t].tasks={}):console.warn(`[ngx-ui-loader] - loaderId "${t}" does not exist.`)}stopAll(){this.stopAllLoader(this.defaultConfig.masterLoaderId)}hasRunningTask(t,r,i){if(this.loaders[r]){const s=this.loaders[r].tasks;return i?!!s[i]&&!!s[i].startAt:Object.keys(s).some(o=>!!s[o].startAt&&s[o].isForeground===t)}return!1}createLoaderData(t,r,i){this.loaders[t]||(this.loaders[t]={loaderId:t,tasks:{},isMaster:r,isBound:i})}foregroundCloseout(t){this.fgClosing.next({loaderId:t,isShow:!0}),setTimeout(()=>{this.fgClosing.next({loaderId:t,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}backgroundCloseout(t){this.bgClosing.next({loaderId:t,isShow:!0}),setTimeout(()=>{this.bgClosing.next({loaderId:t,isShow:!1})},this.defaultConfig.fastFadeOut?601:1001)}clearTimers(t){clearTimeout(t.delayTimer),clearTimeout(t.maxTimer),clearTimeout(t.minTimer)}clearAllTimers(t){Object.keys(t).map(r=>{this.clearTimers(t[r])})}readyToStart(t,r,i,s=Ure){this.createLoaderData(t,void 0,!1);const o=this.hasRunningTask(i,t);if(this.loaders[t].tasks[r]){if(this.loaders[t].tasks[r].isForeground!==i)throw new Error(`[ngx-ui-loader] - taskId "${r}" is duplicated.`)}else this.loaders[t].tasks[r]={taskId:r,isForeground:i,minTime:s.minTime>=0?s.minTime:this.defaultConfig.minTime,maxTime:s.maxTime?s.maxTime:this.defaultConfig.maxTime,delay:s.delay>=0?s.delay:this.defaultConfig.delay};return!(this.setDelayTimer(this.loaders[t].tasks[r],t)||(this.loaders[t].tasks[r]={...this.loaders[t].tasks[r],isOtherRunning:o,startAt:Date.now()},this.setMaxTimer(this.loaders[t].tasks[r],t),!this.loaders[t].isBound))}readyToStop(t,r){if(!this.loaders[t])return console.warn(`[ngx-ui-loader] - loaderId "${t}" does not exist.`),!1;const i=this.loaders[t].tasks[r];return!(!i||(i.isDelayed?(this.clearTimers(i),delete this.loaders[t].tasks[r],1):this.setMinTimer(i,t)||(this.clearTimers(i),delete this.loaders[t].tasks[r],0)))}setDelayTimer(t,r){if(t.delay>0){if(t.isDelayed)return!0;if(!t.delayTimer)return t.isDelayed=!0,t.delayTimer=setTimeout(()=>{t.isDelayed=!1,t.isForeground?this.startLoader(r,t.taskId):this.startBackgroundLoader(r,t.taskId)},t.delay),!0}return!1}setMaxTimer(t,r){t.maxTime>t.minTime&&(clearTimeout(t.maxTimer),t.maxTimer=setTimeout(()=>{t.isForeground?this.stopLoader(r,t.taskId):this.stopBackgroundLoader(r,t.taskId)},t.maxTime))}setMinTimer(t,r){const i=Date.now();return!!(t.startAt&&t.startAt+t.minTime>i)&&(t.minTimer=setTimeout(()=>{t.isForeground?this.stopLoader(r,t.taskId):this.stopBackgroundLoader(r,t.taskId)},t.startAt+t.minTime-i),!0)}}return n.\u0275fac=function(t){return new(t||n)(W(d$,8))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hre=(()=>{class n{constructor(t,r,i){this.domSanitizer=t,this.changeDetectorRef=r,this.ngxService=i,this.initialized=!1,this.defaultConfig=this.ngxService.getDefaultConfig(),this.bgsColor=this.defaultConfig.bgsColor,this.bgsOpacity=this.defaultConfig.bgsOpacity,this.bgsPosition=this.defaultConfig.bgsPosition,this.bgsSize=this.defaultConfig.bgsSize,this.bgsType=this.defaultConfig.bgsType,this.fastFadeOut=this.defaultConfig.fastFadeOut,this.fgsColor=this.defaultConfig.fgsColor,this.fgsPosition=this.defaultConfig.fgsPosition,this.fgsSize=this.defaultConfig.fgsSize,this.fgsType=this.defaultConfig.fgsType,this.gap=this.defaultConfig.gap,this.loaderId=this.defaultConfig.masterLoaderId,this.logoPosition=this.defaultConfig.logoPosition,this.logoSize=this.defaultConfig.logoSize,this.logoUrl=this.defaultConfig.logoUrl,this.overlayBorderRadius=this.defaultConfig.overlayBorderRadius,this.overlayColor=this.defaultConfig.overlayColor,this.pbColor=this.defaultConfig.pbColor,this.pbDirection=this.defaultConfig.pbDirection,this.pbThickness=this.defaultConfig.pbThickness,this.hasProgressBar=this.defaultConfig.hasProgressBar,this.text=this.defaultConfig.text,this.textColor=this.defaultConfig.textColor,this.textPosition=this.defaultConfig.textPosition}ngOnInit(){this.initializeSpinners(),this.ngxService.bindLoaderData(this.loaderId),this.determinePositions(),this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl),this.showForegroundWatcher=this.ngxService.showForeground$.pipe(ei(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.showForeground=t.isShow,this.changeDetectorRef.markForCheck()}),this.showBackgroundWatcher=this.ngxService.showBackground$.pipe(ei(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.showBackground=t.isShow,this.changeDetectorRef.markForCheck()}),this.foregroundClosingWatcher=this.ngxService.foregroundClosing$.pipe(ei(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.foregroundClosing=t.isShow,this.changeDetectorRef.markForCheck()}),this.backgroundClosingWatcher=this.ngxService.backgroundClosing$.pipe(ei(t=>this.loaderId===t.loaderId)).subscribe(t=>{this.backgroundClosing=t.isShow,this.changeDetectorRef.markForCheck()}),this.initialized=!0}ngOnChanges(t){if(!this.initialized)return;const s=t.logoUrl;(t.fgsType||t.bgsType)&&this.initializeSpinners(),this.determinePositions(),s&&(this.trustedLogoUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.logoUrl))}ngOnDestroy(){this.ngxService.destroyLoaderData(this.loaderId),this.showForegroundWatcher&&this.showForegroundWatcher.unsubscribe(),this.showBackgroundWatcher&&this.showBackgroundWatcher.unsubscribe(),this.foregroundClosingWatcher&&this.foregroundClosingWatcher.unsubscribe(),this.backgroundClosingWatcher&&this.backgroundClosingWatcher.unsubscribe()}initializeSpinners(){this.fgDivs=Array(Lw[this.fgsType].divs).fill(1),this.fgSpinnerClass=Lw[this.fgsType].class,this.bgDivs=Array(Lw[this.bgsType].divs).fill(1),this.bgSpinnerClass=Lw[this.bgsType].class}determinePositions(){this.logoTop="initial",this.spinnerTop="initial",this.textTop="initial",this.logoPosition.startsWith("center")?this.logoTop="50%":this.logoPosition.startsWith("top")&&(this.logoTop="30px"),this.fgsPosition.startsWith("center")?this.spinnerTop="50%":this.fgsPosition.startsWith("top")&&(this.spinnerTop="30px"),this.textPosition.startsWith("center")?this.textTop="50%":this.textPosition.startsWith("top")&&(this.textTop="30px"),this.fgsPosition===Ws.centerCenter?this.logoUrl&&this.logoPosition===Ws.centerCenter?this.text&&this.textPosition===Ws.centerCenter?(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - 12px - ${this.gap}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px - 12px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap}px + ${this.fgsSize/2}px)`)):(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - ${this.fgsSize/2}px - ${this.gap/2}px)`),this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`)):this.text&&this.textPosition===Ws.centerCenter&&(this.spinnerTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.fgsSize/2}px + ${this.gap/2}px)`)):this.logoUrl&&this.logoPosition===Ws.centerCenter&&this.text&&this.textPosition===Ws.centerCenter&&(this.logoTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% - 12px - ${this.gap/2}px)`),this.textTop=this.domSanitizer.bypassSecurityTrustStyle(`calc(50% + ${this.logoSize/2}px + ${this.gap/2}px)`))}}return n.\u0275fac=function(t){return new(t||n)($(Vk),$(Sp),$(vm))},n.\u0275cmp=qr({type:n,selectors:[["ngx-ui-loader"]],inputs:{bgsColor:"bgsColor",bgsOpacity:"bgsOpacity",bgsPosition:"bgsPosition",bgsSize:"bgsSize",bgsTemplate:"bgsTemplate",bgsType:"bgsType",fgsColor:"fgsColor",fgsPosition:"fgsPosition",fgsSize:"fgsSize",fgsTemplate:"fgsTemplate",fgsType:"fgsType",gap:"gap",loaderId:"loaderId",logoPosition:"logoPosition",logoSize:"logoSize",logoUrl:"logoUrl",overlayBorderRadius:"overlayBorderRadius",overlayColor:"overlayColor",pbColor:"pbColor",pbDirection:"pbDirection",pbThickness:"pbThickness",hasProgressBar:"hasProgressBar",text:"text",textColor:"textColor",textPosition:"textPosition"},features:[Wr],decls:14,vars:50,consts:[["class","ngx-progress-bar",3,"ngx-position-absolute","ngClass","height","color","loading-foreground","foreground-closing","fast-closing",4,"ngIf"],[1,"ngx-overlay"],["class","ngx-loading-logo",3,"ngClass","src","width","height","top",4,"ngIf"],[1,"ngx-foreground-spinner",3,"ngClass"],[3,"class",4,"ngIf","ngIfElse"],["foregroundTemplate",""],[1,"ngx-loading-text",3,"ngClass"],[1,"ngx-background-spinner",3,"ngClass"],["backgroundTemplate",""],[1,"ngx-progress-bar",3,"ngClass"],[1,"ngx-loading-logo",3,"ngClass","src"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"]],template:function(t,r){if(1&t&&(it(0,Sre,1,13,"div",0),ne(1,"div",1),it(2,Pre,1,8,"img",2),ne(3,"div",3),it(4,Rre,2,3,"div",4),it(5,xre,1,1,"ng-template",null,5,sv),ie(),ne(7,"div",6)(8,"span"),Ae(9),ie()()(),ne(10,"div",7),it(11,kre,2,3,"div",4),it(12,Lre,1,1,"ng-template",null,8,sv),ie()),2&t){const i=Gy(6),s=Gy(13);De("ngIf",r.hasProgressBar),Te(1),Ya("background-color",r.overlayColor)("border-radius",r.overlayBorderRadius),Us("ngx-position-absolute",r.loaderId!==r.defaultConfig.masterLoaderId)("loading-foreground",r.showForeground)("foreground-closing",r.foregroundClosing)("fast-closing",r.foregroundClosing&&r.fastFadeOut),Te(1),De("ngIf",r.logoUrl),Te(1),Ya("color",r.fgsColor)("width",r.fgsSize,"px")("height",r.fgsSize,"px")("top",r.spinnerTop),De("ngClass",r.fgsPosition),Te(1),De("ngIf",!r.fgsTemplate)("ngIfElse",i),Te(3),Ya("top",r.textTop)("color",r.textColor),De("ngClass",r.textPosition),Te(2),fi(r.text),Te(1),Ya("width",r.bgsSize,"px")("height",r.bgsSize,"px")("color",r.bgsColor)("opacity",r.bgsOpacity),Us("ngx-position-absolute",r.loaderId!==r.defaultConfig.masterLoaderId)("loading-background",r.showBackground)("background-closing",r.backgroundClosing)("fast-closing",r.backgroundClosing&&r.fastFadeOut),De("ngClass",r.bgsPosition),Te(1),De("ngIf",!r.bgsTemplate)("ngIfElse",s)}},dependencies:[tc,ak,Op,hk],styles:['.ngx-progress-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:3px;z-index:99999!important;display:none;color:#00acc1;overflow:hidden}.ngx-progress-bar.loading-foreground[_ngcontent-%COMP%], .ngx-progress-bar.foreground-closing[_ngcontent-%COMP%]{display:block}.ngx-progress-bar.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-progress-bar.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-progress-bar[_ngcontent-%COMP%]:before, .ngx-progress-bar[_ngcontent-%COMP%]:after{background-color:currentColor;content:"";display:block;width:100%;height:100%;position:absolute;top:0}.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{transform:translate3d(-100%,0,0)}.ngx-progress-bar-ltr[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_progressBar-slide-ltr 12s ease-out 0s 1 normal;transform:translate3d(-5%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{transform:translate3d(100%,0,0)}.ngx-progress-bar-rtl[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_progressBar-slide-rtl 12s ease-out 0s 1 normal;transform:translate3d(5%,0,0)}.foreground-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-ltr 1s ease-out 0s 1;transform:translateZ(0)}.fast-closing.ngx-progress-bar-ltr[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-ltr .6s ease-out 0s 1!important}.foreground-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-rtl 1s ease-out 0s 1;transform:translateZ(0)}.fast-closing.ngx-progress-bar-rtl[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progressBar-slide-complete-rtl .6s ease-out 0s 1!important}@keyframes _ngcontent-%COMP%_progressBar-slide-ltr{0%{transform:translate3d(-100%,0,0)}to{transform:translate3d(-5%,0,0)}}@keyframes _ngcontent-%COMP%_progressBar-slide-rtl{0%{transform:translate3d(100%,0,0)}to{transform:translate3d(5%,0,0)}}@keyframes _ngcontent-%COMP%_progressBar-slide-complete-ltr{0%{transform:translate3d(-75%,0,0)}50%{transform:translateZ(0)}}@keyframes _ngcontent-%COMP%_progressBar-slide-complete-rtl{0%{transform:translate3d(75%,0,0)}50%{transform:translateZ(0)}}.ngx-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:99998!important;background-color:#282828cc;cursor:progress;display:none}.ngx-overlay.loading-foreground[_ngcontent-%COMP%], .ngx-overlay.foreground-closing[_ngcontent-%COMP%]{display:block}.ngx-overlay.foreground-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .5s ease-out .5s}.ngx-overlay.fast-closing[_ngcontent-%COMP%]{transition:opacity .3s ease-out .3s!important}.ngx-overlay[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%]{position:fixed;width:60px;height:60px;margin:0;color:#00acc1}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%]{position:fixed;margin:0;width:120px;height:120px}.ngx-overlay[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:fixed;margin:0;font-family:sans-serif;font-weight:400;font-size:1.2em;color:#fff}.ngx-background-spinner[_ngcontent-%COMP%]{position:fixed;z-index:99997!important;width:60px;height:60px;margin:0;color:#00acc1;opacity:.6;display:none}.ngx-background-spinner.loading-background[_ngcontent-%COMP%], .ngx-background-spinner.background-closing[_ngcontent-%COMP%]{display:block}.ngx-background-spinner.background-closing[_ngcontent-%COMP%]{opacity:0!important;transition:opacity .7s ease-out}.ngx-background-spinner.fast-closing[_ngcontent-%COMP%]{transition:opacity .4s ease-out!important}.ngx-position-absolute[_ngcontent-%COMP%]{position:absolute!important}.ngx-position-absolute[_ngcontent-%COMP%] > .ngx-foreground-spinner[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-logo[_ngcontent-%COMP%], .ngx-position-absolute[_ngcontent-%COMP%] > .ngx-loading-text[_ngcontent-%COMP%]{position:absolute!important}.ngx-position-absolute.ngx-progress-bar[_ngcontent-%COMP%]{z-index:99996!important}.ngx-position-absolute.ngx-overlay[_ngcontent-%COMP%]{z-index:99995!important}.ngx-position-absolute.ngx-background-spinner[_ngcontent-%COMP%]{z-index:99994!important}.ngx-position-absolute[_ngcontent-%COMP%]   .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){z-index:99994!important}.top-left[_ngcontent-%COMP%]{top:30px;left:30px}.top-center[_ngcontent-%COMP%]{top:30px;left:50%;transform:translate(-50%)}.top-right[_ngcontent-%COMP%]{top:30px;right:30px}.center-left[_ngcontent-%COMP%]{top:50%;left:30px;transform:translateY(-50%)}.center-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.center-right[_ngcontent-%COMP%]{top:50%;right:30px;transform:translateY(-50%)}.bottom-left[_ngcontent-%COMP%]{bottom:30px;left:30px}.bottom-center[_ngcontent-%COMP%]{bottom:30px;left:50%;transform:translate(-50%)}.bottom-right[_ngcontent-%COMP%]{bottom:30px;right:30px}.sk-ball-scale-multiple[_ngcontent-%COMP%], .sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-scale-multiple[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:100%;opacity:0;animation:_ngcontent-%COMP%_ball-scale-multiple 1s 0s linear infinite}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.sk-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}.sk-ball-spin[_ngcontent-%COMP%], .sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise 1s infinite ease-in-out}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-1.125s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-1.25s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-1.375s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-1.5s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-1.625s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-1.75s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-1.875s}.sk-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:-2s}@keyframes _ngcontent-%COMP%_ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise[_ngcontent-%COMP%], .sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise 1s infinite ease-in-out}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-.875s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-.75s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-.625s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-.5s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-.375s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-.25s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-.125s}.sk-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:0s}@keyframes _ngcontent-%COMP%_ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise-fade-rotating-rotate 6s infinite linear}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-clockwise-fade-rotating 1s infinite linear}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-.875s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-.75s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-.625s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-.5s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-.375s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-.25s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-.125s}.sk-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:0s}@keyframes _ngcontent-%COMP%_ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-360deg)}}@keyframes _ngcontent-%COMP%_ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%], .sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0;animation:_ngcontent-%COMP%_ball-spin-fade-rotate 6s infinite linear}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25%;height:25%;margin-top:-12.5%;margin-left:-12.5%;border-radius:100%;animation:_ngcontent-%COMP%_ball-spin-fade 1s infinite linear}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;animation-delay:-1.125s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;animation-delay:-1.25s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;animation-delay:-1.375s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;animation-delay:-1.5s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;animation-delay:-1.625s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;animation-delay:-1.75s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;animation-delay:-1.875s}.sk-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;animation-delay:-2s}@keyframes _ngcontent-%COMP%_ball-spin-fade-rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.sk-chasing-dots[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:absolute;text-align:center;animation:_ngcontent-%COMP%_sk-chasingDots-rotate 2s infinite linear}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-chasingDots-bounce 2s infinite ease-in-out}.sk-chasing-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:auto;bottom:0;animation-delay:-1s}@keyframes _ngcontent-%COMP%_sk-chasingDots-rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_sk-chasingDots-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.sk-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-circle-bounceDelay 1.2s infinite ease-in-out both}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-1s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7):before{animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8):before{animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9):before{animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10):before{animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11):before{animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12):before{animation-delay:-.1s}@keyframes _ngcontent-%COMP%_sk-circle-bounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.sk-cube-grid[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:33%;height:33%;background-color:currentColor;float:left;animation:_ngcontent-%COMP%_sk-cubeGrid-scaleDelay 1.3s infinite ease-in-out}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){animation-delay:.2s}@keyframes _ngcontent-%COMP%_sk-cubeGrid-scaleDelay{0%,70%,to{transform:scaleZ(1)}35%{transform:scale3D(0,0,1)}}.sk-double-bounce[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;margin:auto}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:currentColor;opacity:.6;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-doubleBounce-bounce 2s infinite ease-in-out}.sk-double-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1s}@keyframes _ngcontent-%COMP%_sk-doubleBounce-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.sk-fading-circle[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-fadingCircle-FadeDelay 1.2s infinite ease-in-out both}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg)}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:-1.1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:-1s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:-.9s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5):before{animation-delay:-.8s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6):before{animation-delay:-.7s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7):before{animation-delay:-.6s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8):before{animation-delay:-.5s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9):before{animation-delay:-.4s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10):before{animation-delay:-.3s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11):before{animation-delay:-.2s}.sk-fading-circle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12):before{animation-delay:-.1s}@keyframes _ngcontent-%COMP%_sk-fadingCircle-FadeDelay{0%,39%,to{opacity:0}40%{opacity:1}}.sk-folding-cube[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;transform:rotate(45deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:left;width:50%;height:50%;position:relative;transform:scale(1.1)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:currentColor;animation:_ngcontent-%COMP%_sk-foldingCube-angle 2.4s infinite linear both;transform-origin:100% 100%}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){transform:scale(1.1) rotate(90deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){transform:scale(1.1) rotate(270deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){transform:scale(1.1) rotate(180deg)}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{animation-delay:.3s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{animation-delay:.9s}.sk-folding-cube[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{animation-delay:.6s}@keyframes _ngcontent-%COMP%_sk-foldingCube-angle{0%,10%{transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{transform:perspective(140px) rotateX(0);opacity:1}90%,to{transform:perspective(140px) rotateY(180deg);opacity:0}}.sk-pulse[_ngcontent-%COMP%]{width:100%;height:100%;margin:auto}.sk-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;border-radius:100%;animation:_ngcontent-%COMP%_sk-pulse-scaleOut 1s infinite ease-in-out}@keyframes _ngcontent-%COMP%_sk-pulse-scaleOut{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}.sk-rectangle-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;height:100%;width:10%;margin:0 5%;display:inline-block;animation:_ngcontent-%COMP%_sk-rectangleBounce-stretchDelay 1.2s infinite ease-in-out}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1.1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-1s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.9s}.sk-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.8s}@keyframes _ngcontent-%COMP%_sk-rectangleBounce-stretchDelay{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.sk-rectangle-bounce-party[_ngcontent-%COMP%], .sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-party[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10%;height:100%;margin:0 5%;border-radius:0;animation-name:_ngcontent-%COMP%_rectangle-bounce-party;animation-iteration-count:infinite}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-duration:.43s;animation-delay:-.23s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-duration:.62s;animation-delay:-.32s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-duration:.43s;animation-delay:-.44s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-duration:.8s;animation-delay:-.31s}.sk-rectangle-bounce-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-duration:.74s;animation-delay:-.24s}@keyframes _ngcontent-%COMP%_rectangle-bounce-party{0%{transform:scaleY(1)}50%{transform:scaleY(.4)}to{transform:scaleY(1)}}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10%;height:100%;margin:0 5%;border-radius:0;animation:_ngcontent-%COMP%_rectangle-bounce-pulse-out .9s infinite cubic-bezier(.85,.25,.37,.85)}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.7s}.sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-rectangle-bounce-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.5s}@keyframes _ngcontent-%COMP%_rectangle-bounce-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.4)}to{transform:scaley(1)}}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%], .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center;font-size:0}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10%;height:100%;margin:0 5%;border-radius:0;animation:_ngcontent-%COMP%_rectangle-bounce-pulse-out-rapid .9s infinite cubic-bezier(.11,.49,.38,.78)}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.9s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.65s}.sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-rectangle-bounce-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.4s}@keyframes _ngcontent-%COMP%_rectangle-bounce-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.4)}90%{transform:scaley(1)}}.sk-rotating-plane[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;margin:auto}.sk-rotating-plane[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background-color:currentColor;animation:_ngcontent-%COMP%_sk-rotatePlane 1.2s infinite ease-in-out}@keyframes _ngcontent-%COMP%_sk-rotatePlane{0%{transform:perspective(120px) rotateX(0) rotateY(0)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0)}to{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}.sk-square-jelly-box[_ngcontent-%COMP%], .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-jelly-box[_ngcontent-%COMP%]{width:100%;height:100%;font-size:0}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:-25%;z-index:99997;height:100%;border-radius:10%;animation:_ngcontent-%COMP%_square-jelly-box-animate .6s -.1s linear infinite}.sk-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;animation:_ngcontent-%COMP%_square-jelly-box-shadow .6s -.1s linear infinite}@keyframes _ngcontent-%COMP%_square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@keyframes _ngcontent-%COMP%_square-jelly-box-shadow{50%{transform:scaleX(1.25)}}.sk-square-loader[_ngcontent-%COMP%], .sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.sk-square-loader[_ngcontent-%COMP%]{font-size:0;width:100%;height:100%}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent;border-width:3px;border-radius:0;animation:_ngcontent-%COMP%_square-loader 2s infinite ease}.sk-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;animation:_ngcontent-%COMP%_square-loader-inner 2s infinite ease-in}@keyframes _ngcontent-%COMP%_square-loader{0%{transform:rotate(0)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(360deg)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}.sk-three-bounce[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;text-align:center}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:35%;width:30%;height:30%;background-color:currentColor;border-radius:100%;display:inline-block;animation:_ngcontent-%COMP%_sk-threeBounce-bounceDelay 1.4s infinite ease-in-out both}.bottom-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .bottom-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:70%!important}.top-center[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-left[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .top-right[_ngcontent-%COMP%] > .sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:0!important}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.sk-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_sk-threeBounce-bounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.sk-three-strings[_ngcontent-%COMP%]{width:100%;height:100%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;box-sizing:border-box;width:100%;height:100%;border-radius:50%}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){left:0%;top:0%;animation:_ngcontent-%COMP%_sk-threeStrings-rotateOne 1s linear infinite;border-bottom:3px solid currentColor}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){right:0%;top:0%;animation:_ngcontent-%COMP%_sk-threeStrings-rotateTwo 1s linear infinite;border-right:3px solid currentColor}.sk-three-strings[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){right:0%;bottom:0%;animation:_ngcontent-%COMP%_sk-threeStrings-rotateThree 1s linear infinite;border-top:3px solid currentColor}@keyframes _ngcontent-%COMP%_sk-threeStrings-rotateOne{0%{transform:rotateX(35deg) rotateY(-45deg) rotate(0)}to{transform:rotateX(35deg) rotateY(-45deg) rotate(360deg)}}@keyframes _ngcontent-%COMP%_sk-threeStrings-rotateTwo{0%{transform:rotateX(50deg) rotateY(10deg) rotate(0)}to{transform:rotateX(50deg) rotateY(10deg) rotate(360deg)}}@keyframes _ngcontent-%COMP%_sk-threeStrings-rotateThree{0%{transform:rotateX(35deg) rotateY(55deg) rotate(0)}to{transform:rotateX(35deg) rotateY(55deg) rotate(360deg)}}.sk-wandering-cubes[_ngcontent-%COMP%]{margin:auto;width:100%;height:100%;position:relative;text-align:center}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;width:25%;height:25%;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-wanderingCubes-cubeMove 1.8s infinite ease-in-out}.sk-wandering-cubes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.9s}@keyframes _ngcontent-%COMP%_sk-wanderingCubes-cubeMove{25%{transform:translate(290%) rotate(-90deg) scale(.5)}50%{transform:translate(290%) translateY(290%) rotate(-179deg)}50.1%{transform:translate(290%) translateY(290%) rotate(-180deg)}75%{transform:translate(0) translateY(290%) rotate(-270deg) scale(.5)}to{transform:rotate(-360deg)}}'],changeDetection:0}),n})(),zre=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:d$,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=In({type:n}),n.\u0275inj=Sn({imports:[[xp]]}),n})();new ae("ngxUiLoaderRouterCustom.config"),new ae("ngxUiLoaderHttpCustom.config");let h$=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)($(fs),$(cr))};static#t=this.\u0275dir=Ue({type:n})}return n})(),tl=(()=>{class n extends h${static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275dir=Ue({type:n,features:[Ft]})}return n})();const Do=new ae("NgValueAccessor"),Wre={provide:Do,useExisting:At(()=>Nh),multi:!0},Zre=new ae("CompositionEventMode");let Nh=(()=>{class n extends h${constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Kre(){const n=ec()?ec().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(fs),$(cr),$(Zre,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&pt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[yn([Wre]),Ft]})}return n})();function Rc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function p$(n){return null!=n&&"number"==typeof n.length}const oi=new ae("NgValidators"),Oc=new ae("NgAsyncValidators"),Qre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class g${static min(e){return function m$(n){return e=>{if(Rc(e.value)||Rc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function _$(n){return e=>{if(Rc(e.value)||Rc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function y$(n){return Rc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function v$(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function E$(n){return Rc(n.value)||Qre.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function w$(n){return e=>Rc(e.value)||!p$(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function b$(n){return e=>p$(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function C$(n){if(!n)return Vw;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Rc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return P$(e)}static composeAsync(e){return M$(e)}}function Vw(n){return null}function I$(n){return null!=n}function T$(n){return mp(n)?S(n):n}function D$(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function A$(n,e){return e.map(t=>t(n))}function S$(n){return n.map(e=>function Yre(n){return!n.validate}(e)?e:t=>e.validate(t))}function P$(n){if(!n)return null;const e=n.filter(I$);return 0==e.length?null:function(t){return D$(A$(t,e))}}function oP(n){return null!=n?P$(S$(n)):null}function M$(n){if(!n)return null;const e=n.filter(I$);return 0==e.length?null:function(t){return function qre(...n){const e=zn(n),{args:t,keys:r}=iF(n),i=new ot(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let f=0;f<o;f++){let g=!1;Cn(t[f]).subscribe(oe(s,m=>{g||(g=!0,l--),a[f]=m},()=>c--,void 0,()=>{(!c||!g)&&(l||s.next(r?sF(r,a):a),s.complete())}))}});return e?i.pipe(rT(e)):i}(A$(t,e).map(T$)).pipe(Ce(D$))}}function aP(n){return null!=n?M$(S$(n)):null}function R$(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function O$(n){return n._rawValidators}function x$(n){return n._rawAsyncValidators}function cP(n){return n?Array.isArray(n)?n:[n]:[]}function Uw(n,e){return Array.isArray(n)?n.includes(e):n===e}function N$(n,e){const t=cP(e);return cP(n).forEach(i=>{Uw(t,i)||t.push(i)}),t}function k$(n,e){return cP(e).filter(t=>!Uw(n,t))}class F${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bi extends F${get formDirective(){return null}get path(){return null}}class xc extends F${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class L${constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bw=(()=>{class n extends L${constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(xc,2))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Us("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ft]})}return n})(),jw=(()=>{class n extends L${constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(bi,10))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Us("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ft]})}return n})();const Em="VALID",Hw="INVALID",kh="PENDING",wm="DISABLED";function dP(n){return(zw(n)?n.validators:n)||null}function hP(n,e){return(zw(e)?e.asyncValidators:n)||null}function zw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function U$(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new w(1e3,"");if(!r[t])throw new w(1001,"")}function B$(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new w(1002,"")})}class qw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Em}get invalid(){return this.status===Hw}get pending(){return this.status==kh}get disabled(){return this.status===wm}get enabled(){return this.status!==wm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(N$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(N$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(k$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(k$(e,this._rawAsyncValidators))}hasValidator(e){return Uw(this._rawValidators,e)}hasAsyncValidator(e){return Uw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=kh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Em,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Em||this.status===kh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wm:Em}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=kh,this._hasOwnPendingAsyncValidator=!0;const t=T$(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Et,this.statusChanges=new Et}_calculateStatus(){return this._allControlsDisabled()?wm:this.errors?Hw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kh)?kh:this._anyControlsHaveStatus(Hw)?Hw:Em}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function tie(n){return Array.isArray(n)?oP(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function nie(n){return Array.isArray(n)?aP(n):n||null}(this._rawAsyncValidators)}}class bm extends qw{constructor(e,t,r){super(dP(t),hP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){B$(this,0,e),Object.keys(e).forEach(r=>{U$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class j$ extends bm{}const nl=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>Cm}),Cm="always";function Gw(n,e){return[...e.path,n]}function Im(n,e,t=Cm){fP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function iie(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$$(n,e)})}(n,e),function oie(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function sie(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$$(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function rie(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ww(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zw(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Kw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fP(n,e){const t=O$(n);null!==e.validator?n.setValidators(R$(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=x$(n);null!==e.asyncValidator?n.setAsyncValidators(R$(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Kw(e._rawValidators,i),Kw(e._rawAsyncValidators,i)}function Zw(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=O$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=x$(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Kw(e._rawValidators,r),Kw(e._rawAsyncValidators,r),t}function $$(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function H$(n,e){fP(n,e)}function gP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function z$(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mP(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Nh?t=s:function uie(n){return Object.getPrototypeOf(n.constructor)===tl}(s)?r=s:i=s}),i||r||t||null}const die={provide:bi,useExisting:At(()=>Qw)},Tm=(()=>Promise.resolve())();let Qw=(()=>{class n extends bi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Et,this.form=new bm({},oP(t),aP(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tm.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Im(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Tm.then(()=>{const r=this._findContainer(t.path),i=new bm({});H$(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Tm.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,z$(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)($(oi,10),$(Oc,10),$(nl,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&pt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([die]),Ft]})}return n})();function q$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function G$(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const rl=class extends qw{constructor(e=null,t,r){super(dP(t),hP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=G$(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){q$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){q$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){G$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pie={provide:xc,useExisting:At(()=>_P)},Z$=(()=>Promise.resolve())();let _P=(()=>{class n extends xc{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new rl,this._registered=!1,this.name="",this.update=new Et,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mP(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Im(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Z$.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Td(r);Z$.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Gw(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)($(bi,9),$(oi,10),$(Oc,10),$(Do,10),$(Sp,8),$(nl,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yn([pie]),Ft,Wr]})}return n})(),Yw=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const gie={provide:Do,useExisting:At(()=>yP),multi:!0};let yP=(()=>{class n extends tl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275dir=Ue({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&pt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[yn([gie]),Ft]})}return n})(),Q$=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({})}return n})();const vP=new ae("NgModelWithFormControlWarning"),Eie={provide:bi,useExisting:At(()=>Dm)};let Dm=(()=>{class n extends bi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Et,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Im(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ww(t.control||null,t,!1),function lie(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,z$(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Ww(r||null,t),(n=>n instanceof rl)(i)&&(Im(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);H$(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function aie(n,e){return Zw(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fP(this.form,this),this._oldForm&&Zw(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)($(oi,10),$(Oc,10),$(nl,8))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&pt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([Eie]),Ft,Wr]})}return n})();const Cie={provide:xc,useExisting:At(()=>Jw)};let Jw=(()=>{class n extends xc{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Et,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mP(0,s)}ngOnChanges(t){this._added||this._setUpControl(),gP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Gw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)($(bi,13),$(oi,10),$(Oc,10),$(Do,10),$(vP,8))};static#n=this.\u0275dir=Ue({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[yn([Cie]),Ft,Wr]})}return n})();const Iie={provide:Do,useExisting:At(()=>bP),multi:!0};function tH(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let bP=(()=>{class n extends tl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=tH(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Tie(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275dir=Ue({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&pt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[yn([Iie]),Ft]})}return n})(),nH=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(tH(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)($(cr),$(fs),$(bP,9))};static#t=this.\u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const Die={provide:Do,useExisting:At(()=>CP),multi:!0};function rH(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let CP=(()=>{class n extends tl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);i.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Aie(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ar(n)))(i||n)}}();static#t=this.\u0275dir=Ue({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&pt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[yn([Die]),Ft]})}return n})(),iH=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(rH(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rH(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)($(cr),$(fs),$(CP,9))};static#t=this.\u0275dir=Ue({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),pH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({imports:[Q$]})}return n})();class gH extends qw{constructor(e,t,r){super(dP(t),hP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){B$(this,0,e),e.forEach((r,i)=>{U$(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function mH(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let _H=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return mH(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new bm(i,s)}record(t,r=null){const i=this._reduceControls(t);return new j$(i,r)}control(t,r,i){let s={};return this.useNonNullable?(mH(r)?s=r:(s.validators=r,s.asyncValidators=i),new rl(t,{...s,nonNullable:!0})):new rl(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new gH(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof rl||t instanceof qw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fie=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nl,useValue:t.callSetDisabledState??Cm}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({imports:[pH]})}return n})(),Lie=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:nl,useValue:t.callSetDisabledState??Cm}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({imports:[pH]})}return n})();function Bie(n,e){if(1&n&&(ne(0,"h3",3),Ae(1),ie()),2&n){const t=Lt();Te(1),fi(t.title)}}const jie=["*"];let TP=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="click",this.outsideClick=!1,this.delay=0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$ie=(()=>{class n{set placement(t){this._placement=this._bsVersions.isBs5?Sw[t]:t}get _bsVersions(){return Oh()}constructor(t){this._placement="top",Object.assign(this,t)}checkMarginNecessity(){return r$(this._placement)}static#e=this.\u0275fac=function(r){return new(r||n)($(TP))};static#t=this.\u0275cmp=qr({type:n,selectors:[["popover-container"]],hostAttrs:["role","tooltip",2,"display","block","position","absolute"],hostVars:7,hostBindings:function(r,i){2&r&&(gs("id",i.popoverId),_p("popover in popover-"+i._placement+" bs-popover-"+i._placement+" "+i._placement+" "+i.containerClass+" "+i.checkMarginNecessity()),Us("show",!i._bsVersions.isBs3)("bs3",i._bsVersions.isBs3))},inputs:{placement:"placement",title:"title"},ngContentSelectors:jie,decls:4,vars:1,consts:[[1,"popover-arrow","arrow"],["class","popover-title popover-header",4,"ngIf"],[1,"popover-content","popover-body"],[1,"popover-title","popover-header"]],template:function(r,i){1&r&&(MI(),wt(0,"div",0),it(1,Bie,2,1,"h3",1),ne(2,"div",2),RI(3),ie()),2&r&&(Te(1),De("ngIf",i.title))},dependencies:[tc],styles:[".popover.bottom[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-4px}[_nghost-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}return n})(),Hie=0,zie=(()=>{class n{get isOpen(){return this._popover.isShown}set isOpen(t){t?this.show():this.hide()}constructor(t,r,i,s,o,a){this._elementRef=r,this._renderer=i,this._positionService=a,this.popoverId=Hie++,this.adaptivePosition=!0,this.placement="top",this.outsideClick=!1,this.triggers="click",this.containerClass="",this.delay=0,this._isInited=!1,this._popover=o.createLoader(r,s,i).provide({provide:TP,useValue:t}),Object.assign(this,t),this.onShown=this._popover.onShown,this.onHidden=this._popover.onHidden,typeof window<"u"&&r.nativeElement.addEventListener("click",function(){try{r.nativeElement.focus()}catch{return}})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`ngx-popover-${this.popoverId}`:void 0,this._ariaDescribedby?(this._popover.instance&&(this._popover.instance.popoverId=this._ariaDescribedby),this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby)):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}show(){if(this._popover.isShown||!this.popover||this._delayTimeoutId)return;this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}});const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._popover.attach($ie).to(this.container).position({attachment:this.placement}).show({content:this.popover,context:this.popoverContext,placement:this.placement,title:this.popoverTitle,containerClass:this.containerClass}),!this.adaptivePosition&&this._popover._componentRef&&(this._positionService.calcPosition(),this._positionService.deletePositionElement(this._popover._componentRef.location)),this.isOpen=!0,this.setAriaDescribedBy()},r=()=>{this._popoverCancelShowFn&&this._popoverCancelShowFn()};if(this.delay){const i=function Uie(n=0,e,t=PQ){let r=-1;return null!=e&&(Ea(e)?t=e:r=e),new ot(i=>{let s=function Vie(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(this.delay).subscribe(()=>{t(),r()});this.triggers&&KS(this.triggers).forEach(s=>{s.close&&(this._popoverCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,s.close,()=>{i.unsubscribe(),r()}))})}else t()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this.isOpen&&(this._popover.hide(),this.setAriaDescribedBy(),this.isOpen=!1)}toggle(){if(this.isOpen)return this.hide();this.show()}ngOnInit(){this._isInited||(this._isInited=!0,this._popover.listen({triggers:this.triggers,outsideClick:this.outsideClick,show:()=>this.show(),hide:()=>this.hide()}))}ngOnDestroy(){this._popover.dispose()}static#e=this.\u0275fac=function(r){return new(r||n)($(TP),$(cr),$(fs),$(ms),$(mm),$(pm))};static#t=this.\u0275dir=Ue({type:n,selectors:[["","popover",""]],inputs:{adaptivePosition:"adaptivePosition",boundariesElement:"boundariesElement",popover:"popover",popoverContext:"popoverContext",popoverTitle:"popoverTitle",placement:"placement",outsideClick:"outsideClick",triggers:"triggers",container:"container",containerClass:"containerClass",isOpen:"isOpen",delay:"delay"},outputs:{onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-popover"]})}return n})(),qie=(()=>{class n{static forRoot(){return{ngModule:n,providers:[mm,pm]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({imports:[xp]})}return n})();const Gie=["locations"];function Wie(n,e){if(1&n&&(ne(0,"option",19),Ae(1),ie()),2&n){const t=e.$implicit;De("value",e.index),Te(1),fi(t.name)}}function Kie(n,e){if(1&n&&(ne(0,"option",19),Ae(1),ie()),2&n){const t=e.$implicit;De("value",t.category),Te(1),fi(t.category)}}function Zie(n,e){if(1&n&&(ne(0,"tr")(1,"td"),Ae(2),ie(),ne(3,"td"),Ae(4),ie(),ne(5,"td"),Ae(6),ie()()),2&n){const t=e.$implicit;Te(1),Us("oos","OOS"===t[1].toUpperCase()),Te(1),fi(t[0].toUpperCase()),Te(1),Us("oos","OOS"===t[1].toUpperCase()),Te(1),fi(t[2].toUpperCase()),Te(1),Us("oos","OOS"===t[1].toUpperCase()),Te(1),fi(t[1].toUpperCase())}}function Qie(n,e){1&n&&(ne(0,"tr")(1,"td"),Ae(2,"No Models Available right now"),ie()())}function Yie(n,e){1&n&&wt(0,"div",20),2&n&&De("innerHtml",Lt().sheet.info,gR)}let Jie=(()=>{class n{constructor(t,r,i){this.api=t,this.modal=r,this.loader=i,this.categoryList={},this.searchkeyword="",this.category_filter="all",this.list=[],this.filteredList=[],this.locationIndex=1}ngOnInit(){this.loader.start(),this.api.getSheet().subscribe(t=>{this.location_list=t,this.getList({target:{value:1}}),this.loader.stop()},t=>{this.loader.stop()})}getList(t){this.locationIndex=t.target.value,this.filteredList=[],this.list=[],this.categoryList={},this.sheet=this.location_list[this.locationIndex],this.api.getCategory(this.sheet.sheetId).then(r=>{this.category=r,this.category.forEach(i=>{this.api.getDoc(i.sheetId,i.start,i.end).subscribe(s=>{this.loader.stop(),s.values&&s.values.forEach(a=>{a.push(i.category)});const o=s.values?s.values.filter(a=>a.length>2):[];this.list=[...this.list,...o],this.categoryList[i.category]=[o],this.filteredList=[...this.list]})})}),this.loader.start()}filter(t,r){if("category"==r){if(this.category_filter=t.target.value,this.filteredList="all"==this.category_filter?this.list:this.categoryList[this.category_filter][0],console.log(this.category_filter,this.filteredList,this.categoryList),""!==this.searchkeyword){let i=this.searchkeyword.toLowerCase();this.filteredList=this.filteredList.filter(s=>s[0].toLowerCase().includes(i)||s[1].toLowerCase().includes(i)||s[2].toLowerCase().includes(i))}}else{this.searchkeyword=t.target.value;let i=this.searchkeyword.toLowerCase();this.filteredList=this.list.filter(s=>s[0].toLowerCase().includes(i)||s[1].toLowerCase().includes(i)||s[2].toLowerCase().includes(i))}}openModal(t){this.modalRef=this.modal.show(t),this.modalRef.onHide.subscribe(r=>{})}downloadCSV(){const t=this.convertToCSV(this.filteredList),r=new Blob([t],{type:"text/csv"}),i=window.URL.createObjectURL(r),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download","data.csv"),s.click()}convertToCSV(t){return t.map(r=>r.join(",")).join("\n")}static#e=this.\u0275fac=function(r){return new(r||n)($(Dw),$(_m),$(vm))};static#t=this.\u0275cmp=qr({type:n,selectors:[["app-list-devices"]],viewQuery:function(r,i){if(1&r&&H1(Gie,5),2&r){let s;t0(s=function n0(){return function EG(n,e){return n[os].queries[e].queryList}(X(),N_())}())&&(i.location=s.first)}},decls:34,vars:5,consts:[[1,"container"],[1,"row",2,"position","relative"],[1,"modal-body",2,"display","flex","align-items","center","margin-top","25px"],[2,"margin-left","5px"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],["type","button",3,"popover"],["src","assets/info.png","alt",""],[1,"col-xs-12","table-top"],["value","all"],[1,"search-download"],[1,"custom-field","two"],["type","text","placeholder","Search Model",3,"keyup"],[1,"btn","btn-primary",2,"margin-left","5px",3,"click"],[1,"col-xs-12"],["summary","This table shows how to create responsive tables using Datatables' extended functionality",1,"table","table-bordered","table-hover","dt-responsive"],[4,"ngFor","ngForOf"],[4,"ngIf"],["popTemplate",""],[3,"value"],[3,"innerHtml"]],template:function(r,i){if(1&r&&(ne(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ae(4,"Selected Stock: \xa0\xa0"),ie(),ne(5,"select",4),pt("change",function(o){return i.getList(o)}),it(6,Wie,2,2,"option",5),ie(),ne(7,"button",6),wt(8,"img",7),ie()(),ne(9,"div",8)(10,"select",4),pt("change",function(o){return i.filter(o,"category")}),ne(11,"option",9),Ae(12,"All"),ie(),it(13,Kie,2,2,"option",5),ie(),ne(14,"div",10)(15,"label",11)(16,"input",12),pt("keyup",function(o){return i.filter(o,"search")}),ie()(),ne(17,"button",13),pt("click",function(){return i.downloadCSV()}),Ae(18,"Download CSV"),ie()()(),ne(19,"div",14)(20,"table",15)(21,"thead")(22,"tr")(23,"th"),Ae(24,"Model"),ie(),ne(25,"th"),Ae(26,"Category"),ie(),ne(27,"th"),Ae(28,"Status"),ie()()(),ne(29,"tbody"),it(30,Zie,7,9,"tr",16),it(31,Qie,3,0,"tr",17),ie()()()()(),it(32,Yie,1,1,"ng-template",null,18,sv)),2&r){const s=Gy(33);Te(6),De("ngForOf",i.location_list),Te(1),De("popover",s),Te(6),De("ngForOf",i.category),Te(17),De("ngForOf",i.filteredList),Te(1),De("ngIf",0===i.filteredList.length)}},dependencies:[Op,tc,nH,iH,zie],styles:['@import"https://fonts.googleapis.com/css?family=Open+Sans:300,400,700";body[_ngcontent-%COMP%]{font-size:140%}h2[_ngcontent-%COMP%]{text-align:center;padding:20px 0}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{padding:.5em 0}table.dataTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.dataTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap}.p[_ngcontent-%COMP%]{text-align:center;padding-top:140px;font-size:14px}.custom-field[_ngcontent-%COMP%]{position:relative;font-size:14px;border-top:20px solid transparent;margin-bottom:5px;display:inline-block;--field-padding: 12px}.custom-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;appearance:none;background:#f2f2f2;padding:var(--field-padding);border-radius:3px;width:250px;outline:none;font-size:14px}@media all and (max-width: 768px){.custom-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:220px}}.custom-field[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{position:absolute;left:var(--field-padding);width:calc(100% - var(--field-padding) * 2);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;top:22px;line-height:100%;transform:translateY(-50%);color:#aaa;transition:top .3s ease,color .3s ease,font-size .3s ease}.custom-field[_ngcontent-%COMP%]   input.dirty[_ngcontent-%COMP%] + .placeholder[_ngcontent-%COMP%], .custom-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .placeholder[_ngcontent-%COMP%], .custom-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + .placeholder[_ngcontent-%COMP%]{top:-10px;font-size:10px;color:#222}.custom-field.two[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:3px 3px 0 0;background:linear-gradient(90deg,#222,#222) center bottom/0 .15em no-repeat,linear-gradient(90deg,#ccc,#ccc) left bottom/100% .15em no-repeat,linear-gradient(90deg,#fafafa,#fafafa) left bottom/100% no-repeat;transition:background-size .3s ease}.custom-field.two[_ngcontent-%COMP%]   input.dirty[_ngcontent-%COMP%], .custom-field.two[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown), .custom-field.two[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-size:100% .15em,100% .1em,100%}.table-top[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between}.table-top[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:150px;margin:5px 0;border-radius:3px 3px 0 0;background:linear-gradient(90deg,#222,#222) center bottom/0 .15em no-repeat,linear-gradient(90deg,#ccc,#ccc) left bottom/100% .15em no-repeat,linear-gradient(90deg,#fafafa,#fafafa) left bottom/100% no-repeat;transition:background-size .3s ease;border:0;min-height:35px}@media all and (max-width: 768px){.table-top[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:120px}}.custom-btn[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:40px;color:#fff;border-radius:5px;padding:10px 25px;font-family:Lato,sans-serif;font-weight:500;background:transparent;cursor:pointer;transition:all .3s ease;position:relative;display:inline-block;box-shadow:inset 2px 2px 2px #ffffff80,7px 7px 20px #0000001a,4px 4px 5px #0000001a;outline:none;margin-top:25px}.btn-1[_ngcontent-%COMP%]{background:#1abc9c;border:none}.btn-1[_ngcontent-%COMP%]:hover{background:rgb(0,3,255);background:linear-gradient(0deg,rgb(0,3,255) 0%,rgb(2,126,251) 100%)}input[_ngcontent-%COMP%]{padding-left:30px!important}.gmd[_ngcontent-%COMP%]{background:#fff;border-radius:2px;color:#181d5e;font-size:24px;font-family:sans-serif;cursor:pointer;float:left;height:150px;margin:1rem;position:relative;width:150px;display:flex;justify-content:center;align-items:center;-ms-box-shadow:0 19px 38px rgba(0,0,0,.3),0 15px 12px rgba(0,0,0,.22);-o-box-shadow:0 19px 38px rgba(0,0,0,.3),0 15px 12px rgba(0,0,0,.22);box-shadow:0 19px 38px #0000004d,0 15px 12px #00000038}.modal-body[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:150px;margin:5px 0;border-radius:3px 3px 0 0;background:linear-gradient(90deg,#222,#222) center bottom/0 .15em no-repeat,linear-gradient(90deg,#ccc,#ccc) left bottom/100% .15em no-repeat,linear-gradient(90deg,#fafafa,#fafafa) left bottom/100% no-repeat;transition:background-size .3s ease;border:0;min-height:35px}.modal-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:0}.modal-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;margin-top:10px}.oos[_ngcontent-%COMP%]{color:red;font-weight:700}.search-download[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1abc9c;border:0}@media screen and (max-width: 768px){.search-download[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;margin-top:10px;align-items:end}.search-download[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#353a40}}']})}return n})(),yH=(()=>{class n{constructor(){this.confirmed=new Et,this.dismissed=new Et}confirm(){this.confirmed.emit()}cancel(){this.dismissed.emit()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=qr({type:n,selectors:[["app-confirmation"]],outputs:{confirmed:"confirmed",dismissed:"dismissed"},decls:10,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(ne(0,"div",0)(1,"h4",1),Ae(2,"Confirmation"),ie()(),ne(3,"div",2),Ae(4),ie(),ne(5,"div",3)(6,"button",4),pt("click",function(){return i.cancel()}),Ae(7,"Cancel"),ie(),ne(8,"button",5),pt("click",function(){return i.confirm()}),Ae(9,"OK"),ie()()),2&r&&(Te(4),Jy(" Are you sure you want to delete this ",i.message,"? "))}})}return n})();function Xie(n,e){if(1&n){const t=Ki();ne(0,"div",32),pt("click",function(){ir(t);const i=Lt().$implicit;return sr(Lt(2).remove_category(i))}),Ae(1,"x"),ie()}}function ese(n,e){if(1&n){const t=Ki();ne(0,"div",32),pt("click",function(){ir(t);const i=Lt().$implicit;return sr(Lt(2).deleteCategory(i.value.id))}),Ae(1,"x"),ie()}}function tse(n,e){if(1&n){const t=Ki();ne(0,"div",33),pt("click",function(){return ir(t),sr(Lt(3).add_category())}),Ae(1,"+"),ie()}}const Fh=function(){return{standalone:!0}};function nse(n,e){if(1&n){const t=Ki();Wy(0),ne(1,"div",11)(2,"label",16)(3,"input",26),pt("ngModelChange",function(i){return sr(ir(t).$implicit.value.category=i)}),ie(),ne(4,"label",18),wt(5,"i",15),ie()()(),ne(6,"div",27)(7,"label",16)(8,"input",28),pt("ngModelChange",function(i){return sr(ir(t).$implicit.value.start=i)}),ie(),ne(9,"label",18),wt(10,"i",15),ie()()(),ne(11,"div",27)(12,"label",16)(13,"input",29),pt("ngModelChange",function(i){return sr(ir(t).$implicit.value.end=i)}),ie(),ne(14,"label",18),wt(15,"i",15),ie()(),it(16,Xie,2,0,"div",30),it(17,ese,2,0,"div",30),it(18,tse,2,0,"div",31),ie(),Ky()}if(2&n){const t=e.$implicit,r=e.last,i=Lt(2);Te(3),De("ngModelOptions",gi(9,Fh))("ngModel",t.value.category),Te(5),De("ngModelOptions",gi(10,Fh))("ngModel",t.value.start),Te(5),De("ngModelOptions",gi(11,Fh))("ngModel",t.value.end),Te(3),De("ngIf",i.addSheet),Te(1),De("ngIf",!i.addSheet),Te(1),De("ngIf",r)}}function rse(n,e){if(1&n){const t=Ki();ne(0,"button",34),pt("click",function(){return ir(t),sr(Lt(2).save())}),Ae(1," Save "),ie()}}function ise(n,e){if(1&n){const t=Ki();ne(0,"button",34),pt("click",function(){return ir(t),sr(Lt(2).Update())}),Ae(1," Update "),ie()}}function sse(n,e){if(1&n){const t=Ki();ne(0,"div",2)(1,"div",3)(2,"div",4)(3,"h4"),wt(4,"i",5),Ae(5,"Add Vendor"),ie()(),ne(6,"form",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"span"),Ae(11,"Vendor"),ie()()(),ne(12,"div",10)(13,"div",11)(14,"label",12)(15,"input",13),pt("ngModelChange",function(i){return ir(t),sr(Lt().name=i)}),ie(),ne(16,"label",14),wt(17,"i",15),ie()()(),ne(18,"div",11)(19,"label",16)(20,"input",17),pt("ngModelChange",function(i){return ir(t),sr(Lt().sheetId=i)}),ie(),ne(21,"label",18),wt(22,"i",15),ie()()(),ne(23,"div",19)(24,"label",20)(25,"input",21),pt("ngModelChange",function(i){return ir(t),sr(Lt().info=i)}),ie(),ne(26,"label",22),wt(27,"i",15),ie()()(),it(28,nse,19,12,"ng-container",23),function M1(n,e){const t=ht();let r;const i=n+rt;t.firstCreatePass?(r=function Zq(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=$o(r.type)),a=mr($);try{const c=Hl(!1),l=s();return Hl(c),function x5(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,X(),i,l),l}finally{mr(a)}}(29,"keyvalue"),ie(),ne(30,"div",24),it(31,rse,2,0,"button",25),it(32,ise,2,0,"button",25),ie()()()()()}if(2&n){const t=Lt();Te(15),De("ngModel",t.name)("ngModelOptions",gi(11,Fh)),Te(5),De("ngModel",t.sheetId)("ngModelOptions",gi(12,Fh)),Te(5),De("ngModel",t.info)("ngModelOptions",gi(13,Fh)),Te(3),De("ngForOf",R1(29,9,t.items)),Te(3),De("ngIf",t.addSheet),Te(1),De("ngIf",!t.addSheet)}}const ose=function(){return["/edit-sheet"]},ase=function(n){return{id:n}};function cse(n,e){if(1&n){const t=Ki();ne(0,"tr")(1,"td"),Ae(2),ie(),ne(3,"td"),Ae(4),ie(),ne(5,"td")(6,"a",37),Ae(7,"Edit"),ie(),Ae(8," \xa0\xa0\xa0 "),ne(9,"a",38),pt("click",function(){const s=ir(t).$implicit;return sr(Lt(2).deleteSheet(s.id))}),Ae(10,"Delete"),ie()()()}if(2&n){const t=e.$implicit;Te(2),fi(t.name),Te(2),fi(t.sheetId),Te(2),De("routerLink",gi(4,ose))("queryParams",WI(5,ase,t.id))}}function use(n,e){1&n&&(ne(0,"tr")(1,"td"),Ae(2,"No Users Registered"),ie()())}function lse(n,e){if(1&n&&(ne(0,"table",35)(1,"thead")(2,"tr")(3,"th"),Ae(4,"Name"),ie(),ne(5,"th"),Ae(6,"sheetId"),ie(),ne(7,"th"),Ae(8,"Action"),ie()()(),ne(9,"tbody"),it(10,cse,11,7,"tr",23),it(11,use,3,0,"tr",36),ie()()),2&n){const t=Lt();Te(10),De("ngForOf",t.sheetList),Te(1),De("ngIf",0===t.sheetList.length)}}let DP=(()=>{class n{constructor(t,r,i,s){this.api=t,this.loader=r,this.route=i,this.modal=s,this.items={1:{category:"",start:"",end:""}},this.sheetList=[],this.showList=!1,this.addSheet=!1,this.editSheet=!1,this.pos=1}ngOnInit(){if(this.loader.start(),"/list-sheet"===this.route.url)this.showList=!0,this.api.getSheetList().subscribe(t=>{this.sheetList=t,this.loader.stop()});else if("/add-sheet"===this.route.url)this.addSheet=!0,this.loader.stop();else{const t=this.route.url,r=t.indexOf("=")+1;this.sheet_id=t.substring(r),this.api.getSheetDetail(this.sheet_id).subscribe(i=>{this.name=i.name,this.sheetId=i.sheetId,this.info=i.info,this.api.getCategory(this.sheetId).then(s=>{this.loader.stop(),s.forEach((o,a)=>{this.items[a]=o})})}),this.editSheet=!0}}add_category(){this.pos=this.pos+1,this.items[this.pos]={category:"",start:"",end:""}}remove_category(t){1!==Object.keys(this.items).length&&delete this.items[t.key]}save(){this.loader.start(),this.api.addSheet({name:this.name,sheetId:this.sheetId,info:this.info}).then(r=>{Object.values(this.items).forEach(i=>{this.api.addCategory({category:i.category,start:i.start,end:i.end,sheetId:this.sheetId}).then(o=>{this.loader.stop(),this.route.navigate(["/list"])}).catch(o=>{this.loader.stop()})})}).catch(r=>{this.loader.stop()})}deleteSheet(t){let r=this.modal.show(yH,{initialState:{message:"sheet"}});r.content.confirmed.subscribe(()=>{this.loader.start(),this.api.deleteSheet(t).then(i=>{this.loader.stop()}),r.hide()}),r.content.dismissed.subscribe(()=>{r.hide()})}deleteCategory(t){this.api.deleteCategory(t).then(r=>{Object.values(this.items).forEach((i,s)=>{i.id===t&&delete this.items[s]})})}Update(){this.loader.start(),this.api.updateSheet(this.sheet_id,{name:this.name,sheetId:this.sheetId}).then(r=>{Object.values(this.items).forEach(i=>{let s={category:i.category,start:i.start,end:i.end,sheetId:this.sheetId};i.id?this.api.updateCategory(i.id,s).then().catch(o=>{}):this.api.addCategory(s).then(o=>{this.loader.stop(),this.route.navigate(["/list"])}).catch(o=>{this.loader.stop()})}),this.loader.stop()})}static#e=this.\u0275fac=function(r){return new(r||n)($(Dw),$(vm),$(wr),$(_m))};static#t=this.\u0275cmp=qr({type:n,selectors:[["app-add-sheet"]],decls:2,vars:2,consts:[["class","smart-wrap",4,"ngIf"],["summary","This table shows how to create responsive tables using Datatables' extended functionality","class","table table-bordered table-hover dt-responsive",4,"ngIf"],[1,"smart-wrap"],[1,"smart-forms","smart-container","wrap-2"],[1,"form-header","header-primary"],[1,"fa","fa-pencil-square"],["method","post","action","","enctype","mu ltipart/form-data",1,"wpcf7-form"],[1,"form-body",2,"padding","35px"],[1,"spacer-b30"],[1,"tagline"],[1,"frm-row"],[1,"section","colm","colm6"],["for","firstname",1,"field","prepend-icon"],["type","text","placeholder","Name",1,"gui-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","firstname",1,"field-icon"],[1,"fa","fa-user"],["for","lastname",1,"field","prepend-icon"],["type","text","placeholder","Sheet Id",1,"gui-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","lastname",1,"field-icon"],[1,"section","colm","colm12"],["for","info",1,"field","prepend-icon"],["type","text","placeholder","Info",1,"gui-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","info",1,"field-icon"],[4,"ngFor","ngForOf"],[1,"form-footer"],["type","submit","class","button btn-primary",3,"click",4,"ngIf"],["type","text","placeholder","Category",1,"gui-input",3,"ngModelOptions","ngModel","ngModelChange"],[1,"section","colm","colm3"],["type","text","placeholder","Start: eg A10",1,"gui-input",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","placeholder","End: eg B100",1,"gui-input",3,"ngModelOptions","ngModel","ngModelChange"],["class","add-btn",3,"click",4,"ngIf"],["class","add-btn","style","margin-left: 20px;",3,"click",4,"ngIf"],[1,"add-btn",3,"click"],[1,"add-btn",2,"margin-left","20px",3,"click"],["type","submit",1,"button","btn-primary",3,"click"],["summary","This table shows how to create responsive tables using Datatables' extended functionality",1,"table","table-bordered","table-hover","dt-responsive"],[4,"ngIf"],[3,"routerLink","queryParams"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(it(0,sse,33,14,"div",0),it(1,lse,12,2,"table",1)),2&r&&(De("ngIf",i.addSheet||i.editSheet),Te(1),De("ngIf",i.showList))},dependencies:[Op,tc,Yw,Nh,Bw,jw,_P,Qw,Ud,fk],styles:['@font-face{font-family:FontAwesome;src:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.eot?#iefix) format("embedded-opentype"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.woff) format("woff"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.ttf) format("truetype"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.svg#FontAwesome) format("svg");font-weight:400;font-style:normal}.add-btn[_ngcontent-%COMP%]{position:absolute;margin-left:5px;font-size:24px;height:42px;text-align:center;align-items:center;display:inline-grid;cursor:pointer}']})}return n})();function dse(n,e){if(1&n){const t=Ki();ne(0,"button",30),pt("click",function(){return ir(t),sr(Lt(2).saveUser())}),Ae(1," Submit "),ie()}}function hse(n,e){if(1&n){const t=Ki();ne(0,"button",30),pt("click",function(){return ir(t),sr(Lt(2).updateUser())}),Ae(1," Update "),ie()}}function fse(n,e){if(1&n&&(ne(0,"div",2)(1,"div",3)(2,"div",4)(3,"h4"),wt(4,"i",5),Ae(5,"Add User"),ie()(),ne(6,"form",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"span"),Ae(11,"User"),ie()()(),ne(12,"div",10)(13,"div",11)(14,"label",12),wt(15,"input",13),ne(16,"label",14),wt(17,"i",15),ie()()(),ne(18,"div",11)(19,"label",16),wt(20,"input",17),ne(21,"label",18),wt(22,"i",15),ie()()(),ne(23,"div",11)(24,"label",19),wt(25,"input",20),ne(26,"label",21),wt(27,"i",15),ie()()(),ne(28,"div",11)(29,"label",22),wt(30,"input",23),ne(31,"label",24),wt(32,"i",15),ie()()(),ne(33,"div",11)(34,"label",25),wt(35,"input",26),ne(36,"label",27),wt(37,"i",15),ie()()()()(),ne(38,"div",28),it(39,dse,2,0,"button",29),it(40,hse,2,0,"button",29),ie()()()()),2&n){const t=Lt();Te(6),De("formGroup",t.profileForm),Te(33),De("ngIf",t.addUser),Te(1),De("ngIf",t.edit_user)}}const pse=function(){return["/edit-user"]},gse=function(n){return{id:n}};function mse(n,e){if(1&n){const t=Ki();ne(0,"tr")(1,"td"),Ae(2),ie(),ne(3,"td"),Ae(4),ie(),ne(5,"td"),Ae(6),ie(),ne(7,"td"),Ae(8),ie(),ne(9,"td")(10,"a",34),Ae(11,"Edit"),ie(),Ae(12," \xa0\xa0\xa0 "),ne(13,"a",35),pt("click",function(){const s=ir(t).$implicit;return sr(Lt(2).deleteUser(s.id))}),Ae(14,"Delete"),ie()()()}if(2&n){const t=e.$implicit;Te(2),fi(t.first_name),Te(2),fi(t.email),Te(2),fi(t.phone),Te(2),fi(t.password),Te(2),De("routerLink",gi(6,pse))("queryParams",WI(7,gse,t.id))}}function _se(n,e){1&n&&(ne(0,"tr")(1,"td"),Ae(2,"No Users Registered"),ie()())}function yse(n,e){if(1&n&&(ne(0,"table",31)(1,"thead")(2,"tr")(3,"th"),Ae(4,"Name"),ie(),ne(5,"th"),Ae(6,"Email"),ie(),ne(7,"th"),Ae(8,"Phone"),ie(),ne(9,"th"),Ae(10,"Password"),ie(),ne(11,"th"),Ae(12,"Action"),ie()()(),ne(13,"tbody"),it(14,mse,15,9,"tr",32),it(15,_se,3,0,"tr",33),ie()()),2&n){const t=Lt();Te(14),De("ngForOf",t.userList),Te(1),De("ngIf",0===t.userList.length)}}let AP=(()=>{class n{constructor(t,r,i,s,o){this.loader=t,this.fb=r,this.api=i,this.router=s,this.modal=o,this.addUser=!1,this.list_user=!1,this.userList=[],this.edit_user=!1}ngOnInit(){if("/add-user"==this.router.url)this.addUser=!0,this.profileForm=this.fb.group({first_name:[""],last_name:[""],email:[""],phone:[""],password:[""]});else if(this.router.url.includes("/edit-user")){this.edit_user=!0,this.profileForm=this.fb.group({first_name:[""],last_name:[""],email:[""],phone:[""],password:[""]});const t=this.router.url,r=t.indexOf("=")+1;this.user_id=t.substring(r),this.loader.start(),this.api.getUserDetail(this.user_id).subscribe(i=>{this.profileForm.patchValue(i),this.loader.stop()})}else this.loader.start(),this.api.getUsers().subscribe(t=>{this.loader.stop(),this.userList=t,this.list_user=!0})}saveUser(){this.loader.start(),this.api.addUser(this.profileForm.value).then(t=>{this.loader.stop(),this.router.navigate(["list-user"]),this.addUser=!1})}deleteUser(t){let r=this.modal.show(yH,{initialState:{message:"user"}});r.content.confirmed.subscribe(()=>{this.api.deleteUser(t).then(i=>{}),r.hide()}),r.content.dismissed.subscribe(()=>{r.hide()})}updateUser(){this.loader.start(),this.api.updateUser(this.user_id,this.profileForm.value).then(t=>{this.loader.stop(),this.router.navigate(["list-user"]),this.edit_user=!1})}static#e=this.\u0275fac=function(r){return new(r||n)($(vm),$(_H),$(Dw),$(wr),$(_m))};static#t=this.\u0275cmp=qr({type:n,selectors:[["app-add-user"]],decls:2,vars:2,consts:[["class","smart-wrap",4,"ngIf"],["summary","This table shows how to create responsive tables using Datatables' extended functionality","class","table table-bordered table-hover dt-responsive",4,"ngIf"],[1,"smart-wrap"],[1,"smart-forms","smart-container","wrap-2"],[1,"form-header","header-primary"],[1,"fa","fa-pencil-square"],[3,"formGroup"],[1,"form-body"],[1,"spacer-b30"],[1,"tagline"],[1,"frm-row"],[1,"section","colm","colm6"],["for","firstname",1,"field","prepend-icon"],["type","text","formControlName","first_name","id","firstname","placeholder","Fisrt Name",1,"gui-input"],["for","firstname",1,"field-icon"],[1,"fa","fa-user"],["for","lastname",1,"field","prepend-icon"],["type","text","formControlName","last_name","id","lastname","placeholder","Last Name",1,"gui-input"],["for","lastname",1,"field-icon"],["for","email",1,"field","prepend-icon"],["type","email","formControlName","email","id","email","placeholder","Email",1,"gui-input"],["for","email",1,"field-icon"],["for","Phone",1,"field","prepend-icon"],["type","number","formControlName","phone","id","Phone","placeholder","Phone",1,"gui-input"],["for","Phone",1,"field-icon"],["for","password",1,"field","prepend-icon"],["type","text","formControlName","password","id","password","placeholder","Password",1,"gui-input"],["for","password",1,"field-icon"],[1,"form-footer"],["type","submit","class","button btn-primary",3,"click",4,"ngIf"],["type","submit",1,"button","btn-primary",3,"click"],["summary","This table shows how to create responsive tables using Datatables' extended functionality",1,"table","table-bordered","table-hover","dt-responsive"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink","queryParams"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(it(0,fse,41,3,"div",0),it(1,yse,16,2,"table",1)),2&r&&(De("ngIf",i.addUser||i.edit_user),Te(1),De("ngIf",i.list_user))},dependencies:[Op,tc,Yw,Nh,yP,Bw,jw,Dm,Jw,Ud],styles:['@font-face{font-family:FontAwesome;src:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.eot?#iefix) format("embedded-opentype"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.woff) format("woff"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.ttf) format("truetype"),url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/172203/fontawesome-webfontba72.svg#FontAwesome) format("svg");font-weight:400;font-style:normal}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}table[_ngcontent-%COMP%]{width:90%;margin:5%}']})}return n})(),Xw=(()=>{class n{constructor(t){this.route=t,this.currentUser=new O(null);let r=JSON.parse(localStorage.getItem("shopizresellerplatform"));const i=new Date,s=String(i.getDate()).padStart(2,"0"),o=String(i.getMonth()+1).padStart(2,"0"),a=i.getFullYear();this.currentUser.next(r&&r.date===`${s}-${o}-${a}`?r:null)}getCurrentUser(){return this.currentUser.asObservable()}setUser(t){const r=new Date,i=String(r.getDate()).padStart(2,"0"),s=String(r.getMonth()+1).padStart(2,"0"),o=r.getFullYear();t.date=`${i}-${s}-${o}`,this.currentUser.next(t),localStorage.setItem("shopizresellerplatform",JSON.stringify(t)),this.route.navigate(["list"])}logout(){this.currentUser.next(null),localStorage.removeItem("shopizresellerplatform"),this.route.navigate(["login"])}static#e=this.\u0275fac=function(r){return new(r||n)(W(wr))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vse(n,e){1&n&&(ne(0,"div",20),Ae(1,"User Not Found"),ie())}function Ese(n,e){1&n&&(ne(0,"div",20),Ae(1,"Please Fill the details"),ie())}let wse=(()=>{class n{constructor(t,r,i,s,o){this.api=t,this.fb=r,this.route=i,this.loader=s,this.userService=o,this.formSubmitted=!1}ngOnInit(){this.loginForm=this.fb.group({email:new rl("",g$.required),password:new rl("",g$.required)})}login(){this.formSubmitted=!0,this.loginForm.valid&&(this.loader.start(),this.api.login(this.loginForm.value).subscribe(t=>{this.loader.stop(),"admin@shopizstore.com"===t[0].email&&(t[0].role="admin"),this.userService.setUser(t[0])},t=>{this.userNotFound=!0,this.loader.stop()}))}static#e=this.\u0275fac=function(r){return new(r||n)($(Dw),$(_H),$(wr),$(vm),$(Xw))};static#t=this.\u0275cmp=qr({type:n,selectors:[["app-login"]],decls:29,vars:3,consts:[[1,"smart-wrap"],[1,"smart-forms","smart-container","wrap-2"],[1,"form-header","header-primary"],[1,"fa","fa-pencil-square"],[3,"formGroup"],[1,"form-body"],[1,"spacer-b30"],[1,"tagline"],[1,"frm-row"],[1,"section","colm","colm12"],["for","email",1,"field","prepend-icon"],["type","email","placeholder","Email","formControlName","email",1,"gui-input"],["for","email",1,"field-icon"],[1,"fa","fa-user"],["for","password",1,"field","prepend-icon"],["type","password","placeholder","Password","formControlName","password",1,"gui-input"],["for","password",1,"field-icon"],[1,"form-footer"],["type","submit",1,"button","btn-primary",3,"click"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(r,i){1&r&&(ne(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),wt(4,"i",3),Ae(5,"Login"),ie()(),ne(6,"form",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"span"),Ae(11,"Login"),ie()()(),ne(12,"div",8)(13,"div",9)(14,"label",10),wt(15,"input",11),ne(16,"label",12),wt(17,"i",13),ie()()()(),ne(18,"div",8)(19,"div",9)(20,"label",14),wt(21,"input",15),ne(22,"label",16),wt(23,"i",13),ie()()()(),ne(24,"div",17)(25,"button",18),pt("click",function(){return i.login()}),Ae(26," Login "),ie(),it(27,vse,2,0,"div",19),it(28,Ese,2,0,"div",19),ie()()()()()),2&r&&(Te(6),De("formGroup",i.loginForm),Te(21),De("ngIf",i.userNotFound),Te(1),De("ngIf",i.formSubmitted&&i.loginForm.invalid))},dependencies:[tc,Yw,Nh,Bw,jw,Dm,Jw]})}return n})();const Lh=(n,e)=>{const t=fe(Xw),r=fe(wr);return!(!t.currentUser.value||"admin"!==t.currentUser.value.role)||(r.navigate([""]),!1)},Cse=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"login",component:wse},{path:"list",component:Jie,canActivate:[(n,e)=>{const t=fe(Xw),r=fe(wr);return!!t.currentUser.value||(r.navigate(["/login"]),!1)}]},{path:"add-sheet",component:DP,canActivate:[Lh]},{path:"list-sheet",component:DP,canActivate:[Lh]},{path:"edit-sheet",component:DP,canActivate:[Lh]},{path:"add-user",component:AP,canActivate:[Lh]},{path:"list-user",component:AP,canActivate:[Lh]},{path:"edit-user",component:AP,canActivate:[Lh]},{path:"**",redirectTo:"",pathMatch:"full"}];let Ise=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({imports:[lL.forRoot(Cse),lL]})}return n})();const vH=function(){return["list"]};function Tse(n,e){1&n&&(ne(0,"span",5),Ae(1,"Home"),ie()),2&n&&De("routerLink",gi(1,vH))}const Dse=function(){return["add-user"]};function Ase(n,e){1&n&&(ne(0,"span",5),Ae(1,"Add User"),ie()),2&n&&De("routerLink",gi(1,Dse))}const Sse=function(){return["list-user"]};function Pse(n,e){1&n&&(ne(0,"span",5),Ae(1,"List User"),ie()),2&n&&De("routerLink",gi(1,Sse))}const Mse=function(){return["add-sheet"]};function Rse(n,e){1&n&&(ne(0,"span",5),Ae(1,"Add Sheet"),ie()),2&n&&De("routerLink",gi(1,Mse))}const Ose=function(){return["list-sheet"]};function xse(n,e){1&n&&(ne(0,"span",5),Ae(1,"List Sheet"),ie()),2&n&&De("routerLink",gi(1,Ose))}function Nse(n,e){if(1&n){const t=Ki();ne(0,"span",6),pt("click",function(){return ir(t),sr(Lt().logout())}),Ae(1,"Logout"),ie()}}let kse=(()=>{class n{constructor(t){this.userService=t,this.title="shopizResellerPlatform",t.getCurrentUser().subscribe(r=>{this.user=r})}logout(){this.userService.logout()}static#e=this.\u0275fac=function(r){return new(r||n)($(Xw))};static#t=this.\u0275cmp=qr({type:n,selectors:[["app-root"]],decls:12,vars:8,consts:[[1,"header-tab"],[1,"header",3,"routerLink"],[1,"nav-bar"],[3,"routerLink",4,"ngIf"],[3,"click",4,"ngIf"],[3,"routerLink"],[3,"click"]],template:function(r,i){1&r&&(ne(0,"div",0)(1,"h1",1),Ae(2,"SHOPIZ PRODUCTS PRIVATE LIMITED"),ie(),ne(3,"div",2),it(4,Tse,2,2,"span",3),it(5,Ase,2,2,"span",3),it(6,Pse,2,2,"span",3),it(7,Rse,2,2,"span",3),it(8,xse,2,2,"span",3),it(9,Nse,2,0,"span",4),ie()(),wt(10,"router-outlet")(11,"ngx-ui-loader")),2&r&&(Te(1),De("routerLink",gi(7,vH)),Te(3),De("ngIf","admin"===(null==i.user?null:i.user.role)),Te(1),De("ngIf","admin"===(null==i.user?null:i.user.role)),Te(1),De("ngIf","admin"===(null==i.user?null:i.user.role)),Te(1),De("ngIf","admin"===(null==i.user?null:i.user.role)),Te(1),De("ngIf","admin"===(null==i.user?null:i.user.role)),Te(1),De("ngIf",i.user))},dependencies:[tc,ET,Ud,Hre],styles:[".header-tab[_ngcontent-%COMP%]{background:#353a40;display:flex;justify-content:space-between;padding:0 50px 0 0;align-items:center;color:#fff}@media all and (max-width: 768px){.header-tab[_ngcontent-%COMP%]{padding:0}}.header-tab[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{text-align:center;font-weight:1000;font-size:19px;margin:0;padding:25px;color:#fff;width:100%;cursor:pointer}.header-tab[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]{display:flex}@media all and (max-width: 768px){.header-tab[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]{display:none}}.header-tab[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:20px;background:#1abc9c;padding:10px 20px;border-radius:10px;cursor:pointer;text-align:center;display:inline-block;width:115px}"]})}return n})();class EH{}class Fse{}const ga="*";function wH(n,e=null){return{type:2,steps:n,options:e}}function bH(n){return{type:6,styles:n,offset:null}}class Am{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class CH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function IH(n){return new w(3e3,!1)}function Nc(n){switch(n.length){case 0:return new Am;case 1:return n[0];default:return new CH(n)}}function TH(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),f=l==o,g=f&&a||new Map;c.forEach((m,y)=>{let E=y,C=m;if("offset"!==y)switch(E=n.normalizePropertyName(E,i),C){case"!":C=t.get(y);break;case ga:C=r.get(y);break;default:C=n.normalizeStyleValue(y,E,C,i)}g.set(E,C)}),f||s.push(g),a=g,o=l}),i.length)throw function soe(n){return new w(3502,!1)}();return s}function PP(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&MP(t,"start",n)));break;case"done":n.onDone(()=>r(t&&MP(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&MP(t,"destroy",n)))}}function MP(n,e,t){const s=RP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function RP(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function es(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function DH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const _oe=(()=>typeof document>"u"?null:document.documentElement)();function OP(n){const e=n.parentNode||n.host||null;return e===_oe?null:e}let sl=null,AH=!1;function SH(n,e){for(;e;){if(e===n)return!0;e=OP(e)}return!1}function PH(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let MH=(()=>{class n{validateStyleProperty(t){return function voe(n){sl||(sl=function Eoe(){return typeof document<"u"?document.body:null}()||{},AH=!!sl.style&&"WebkitAppearance"in sl.style);let e=!0;return sl.style&&!function yoe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in sl.style,!e&&AH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in sl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return SH(t,r)}getParentElement(t){return OP(t)}query(t,r,i){return PH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new Am(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),xP=(()=>{class n{static#e=this.NOOP=new MH}return n})();const woe=1e3,NP="ng-enter",eb="ng-leave",tb="ng-trigger",nb=".ng-trigger",OH="ng-animating",kP=".ng-animating";function ma(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:FP(parseFloat(e[1]),e[2])}function FP(n,e){return"s"===e?n*woe:n}function rb(n,e,t){return n.hasOwnProperty("duration")?n:function Coe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(IH()),{duration:0,delay:0,easing:""};i=FP(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=FP(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function Lse(){return new w(3100,!1)}()),a=!0),s<0&&(e.push(function Vse(){return new w(3101,!1)}()),a=!0),a&&e.splice(c,0,IH())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Sm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function xH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function kc(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Ao(n,e,t){e.forEach((r,i)=>{const s=VP(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function ol(n,e){e.forEach((t,r)=>{const i=VP(r);n.style[i]=""})}function Pm(n){return Array.isArray(n)?1==n.length?n[0]:wH(n):n}const LP=new RegExp("{{\\s*(.+?)\\s*}}","g");function kH(n){let e=[];if("string"==typeof n){let t;for(;t=LP.exec(n);)e.push(t[1]);LP.lastIndex=0}return e}function Mm(n,e,t){const r=n.toString(),i=r.replace(LP,(s,o)=>{let a=e[o];return null==a&&(t.push(function Bse(n){return new w(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function ib(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Doe=/-+([a-z0-9])/g;function VP(n){return n.replace(Doe,(...e)=>e[1].toUpperCase())}function ts(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function jse(n){return new w(3004,!1)}()}}function FH(n,e){return window.getComputedStyle(n)[e]}const sb="*";function Poe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Moe(n,e,t){if(":"==n[0]){const c=function Roe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function toe(n){return new w(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function eoe(n){return new w(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(LH(i,o));"<"==s[0]&&!(i==sb&&o==sb)&&e.push(LH(o,i))}(r,t,e)):t.push(n),t}const ob=new Set(["true","1"]),ab=new Set(["false","0"]);function LH(n,e){const t=ob.has(n)||ab.has(n),r=ob.has(e)||ab.has(e);return(i,s)=>{let o=n==sb||n==i,a=e==sb||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?ob.has(n):ab.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?ob.has(e):ab.has(e)),o&&a}}const Ooe=new RegExp("s*:selfs*,?","g");function UP(n,e,t,r){return new xoe(n).build(e,t,r)}class xoe{constructor(e){this._driver=e}build(e,t,r){const i=new Foe(t);return this._resetContextStyleTimingState(i),ts(this,Pm(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Hse(){return new w(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,s.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function zse(){return new w(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{kH(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(ib(s.values()),t.errors.push(function qse(n,e){return new w(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ts(this,Pm(e.animation),t);return{type:1,matchers:Poe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:al(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ts(this,r,t)),options:al(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=ts(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:al(e.options)}}visitAnimate(e,t){const r=function Voe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BP(rb(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=BP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=rb(t,e);return BP(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:bH({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=bH(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ga?r.push(a):t.errors.push(new w(3002,!1)):r.push(xH(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),f=l.get(c);let g=!0;f&&(s!=i&&s>=f.startTime&&i<=f.endTime&&(t.errors.push(function Wse(n,e,t,r,i){return new w(3010,!1)}()),g=!1),s=f.startTime),g&&l.set(c,{startTime:s,endTime:i}),t.options&&function Toe(n,e,t){const r=e.params||{},i=kH(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Use(n){return new w(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Kse(){return new w(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,l=0;const f=e.steps.map(M=>{const P=this._makeStyleAst(M,t);let x=null!=P.offset?P.offset:function Loe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(P.styles),q=0;return null!=x&&(s++,q=P.offset=x),c=c||q<0||q>1,a=a||q<l,l=q,o.push(q),P});c&&t.errors.push(function Zse(){return new w(3012,!1)}()),a&&t.errors.push(function Qse(){return new w(3200,!1)}());const g=e.steps.length;let m=0;s>0&&s<g?t.errors.push(function Yse(){return new w(3202,!1)}()):0==s&&(m=1/(g-1));const y=g-1,E=t.currentTime,C=t.currentAnimateTimings,I=C.duration;return f.forEach((M,P)=>{const x=m>0?P==y?1:m*P:o[P],q=x*I;t.currentTime=E+C.delay+q,C.duration=q,this._validateStyleAst(M,t),M.offset=x,r.styles.push(M)}),r}visitReference(e,t){return{type:8,animation:ts(this,Pm(e.animation),t),options:al(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:al(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:al(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Noe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ooe,"")),n=n.replace(/@\*/g,nb).replace(/@\w+/g,t=>nb+"-"+t.slice(1)).replace(/:animating/g,kP),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,es(t.collectedStyles,t.currentQuerySelector,new Map);const a=ts(this,Pm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:al(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Jse(){return new w(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:rb(e.timings,t.errors,!0);return{type:12,animation:ts(this,Pm(e.animation),t),timings:r,options:null}}}class Foe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function al(n){return n?(n=Sm(n)).params&&(n.params=function koe(n){return n?Sm(n):null}(n.params)):n={},n}function BP(n,e,t){return{duration:n,delay:e,easing:t}}function jP(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class cb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const joe=new RegExp(":enter","g"),Hoe=new RegExp(":leave","g");function $P(n,e,t,r,i,s=new Map,o=new Map,a,c,l=[]){return(new zoe).buildKeyframes(n,e,t,r,i,s,o,a,c,l)}class zoe{buildKeyframes(e,t,r,i,s,o,a,c,l,f=[]){l=l||new cb;const g=new HP(e,t,l,i,s,f,[]);g.options=c;const m=c.delay?ma(c.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([o],null,g.errors,c),ts(this,r,g);const y=g.timelines.filter(E=>E.containsAnimation());if(y.length&&a.size){let E;for(let C=y.length-1;C>=0;C--){const I=y[C];if(I.element===t){E=I;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,g.errors,c)}return y.length?y.map(E=>E.buildKeyframes()):[jP(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ma(Mm(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ma(r.duration):null,a=null!=r.delay?ma(r.delay):null;return 0!==o&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ts(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ub);const o=ma(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ts(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ma(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ts(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return rb(t.params?Mm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ma(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ub);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,f)=>{t.currentQueryIndex=f;const g=t.createSubContext(e.options,l);s&&g.delayNextStep(s),l===t.element&&(c=g.currentTimeline),ts(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const f=t.currentTimeline;c&&f.delayNextStep(c);const g=f.currentTime;ts(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const ub={};class HP{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ub,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new lb(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ma(r.duration)),null!=r.delay&&(i.delay=ma(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Mm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new HP(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ub,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new qoe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(joe,"."+this._enterClassName)).replace(Hoe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function Xse(n){return new w(3014,!1)}()),a}}class lb{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new lb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ga),this._currentKeyframe.set(t,ga);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Goe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ga)}else kc(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=Mm(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ga),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=kc(a,new Map,this._backFill);l.forEach((f,g)=>{"!"===f?e.add(g):f===ga&&t.add(g)}),r||l.set("offset",c/this.duration),i.push(l)});const s=e.size?ib(e.values()):[],o=t.size?ib(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return jP(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class qoe extends lb{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=kc(e[0]);c.set("offset",0),s.push(c);const l=kc(e[0]);l.set("offset",BH(a)),s.push(l);const f=e.length-1;for(let g=1;g<=f;g++){let m=kc(e[g]);const y=m.get("offset");m.set("offset",BH((t+y*r)/o)),s.push(m)}r=o,t=0,i="",e=s}return jP(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function BH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class zP{}const Woe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Koe extends zP{normalizePropertyName(e,t){return VP(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Woe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function $se(n,e){return new w(3005,!1)}())}return o+s}}function jH(n,e,t,r,i,s,o,a,c,l,f,g,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:f,totalTime:g,errors:m}}const qP={};class $H{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Zoe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,l,f){const g=[],m=this.ast.options&&this.ast.options.params||qP,E=this.buildStyles(r,a&&a.params||qP,g),C=c&&c.params||qP,I=this.buildStyles(i,C,g),M=new Set,P=new Map,x=new Map,q="void"===i,ue={params:Qoe(C,m),delay:this.ast.options?.delay},Me=f?[]:$P(e,t,this.ast.animation,s,o,E,I,ue,l,g);let He=0;if(Me.forEach(Ci=>{He=Math.max(Ci.duration+Ci.delay,He)}),g.length)return jH(t,this._triggerName,r,i,q,E,I,[],[],P,x,He,g);Me.forEach(Ci=>{const Ui=Ci.element,pb=es(P,Ui,new Set);Ci.preStyleProps.forEach(cl=>pb.add(cl));const Om=es(x,Ui,new Set);Ci.postStyleProps.forEach(cl=>Om.add(cl)),Ui!==t&&M.add(Ui)});const xt=ib(M.values());return jH(t,this._triggerName,r,i,q,E,I,Me,xt,P,x,He)}}function Qoe(n,e){const t=Sm(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Yoe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Sm(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Mm(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class Xoe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Yoe(i.style,i.options&&i.options.params||{},r))}),HH(this.states,"true","1"),HH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new $H(e,i,this.states))}),this.fallbackTransition=function eae(n,e,t){return new $H(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function HH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const tae=new cb;class nae{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=UP(this._driver,t,r,[]);if(r.length)throw function ooe(n){return new w(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=TH(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=$P(this._driver,t,s,NP,eb,new Map,new Map,r,tae,i),o.forEach(f=>{const g=es(a,f.element,new Map);f.postStyleProps.forEach(m=>g.set(m,null))})):(i.push(function aoe(){return new w(3300,!1)}()),o=[]),i.length)throw function coe(n){return new w(3504,!1)}();a.forEach((f,g)=>{f.forEach((m,y)=>{f.set(y,this._driver.computeStyle(g,y,ga))})});const l=Nc(o.map(f=>{const g=a.get(f.element);return this._buildPlayer(f,new Map,g)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function uoe(n){return new w(3301,!1)}();return t}listen(e,t,r,i){const s=RP(t,"","","");return PP(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const zH="ng-animate-queued",GP="ng-animate-disabled",aae=[],qH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ks="__ng_removed";class WP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function hae(n){return n??null}(r?e.value:e),r){const s=Sm(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Rm="void",KP=new WP(Rm);class uae{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,bs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function loe(n,e){return new w(3302,!1)}();if(null==r||0==r.length)throw function doe(n){return new w(3303,!1)}();if(!function fae(n){return"start"==n||"done"==n}(r))throw function hoe(n,e){return new w(3400,!1)}();const s=es(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=es(this._engine.statesByElement,e,new Map);return a.has(t)||(bs(e,tb),bs(e,tb+"-"+t),a.set(t,KP)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function foe(n){return new w(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new ZP(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(bs(e,tb),bs(e,tb+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new WP(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=KP),l.value!==Rm&&c.value===l.value){if(!function mae(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,l.params)){const C=[],I=s.matchStyles(c.value,c.params,C),M=s.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{ol(e,I),Ao(e,M)})}return}const m=es(this._engine.playersByElement,e,[]);m.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let y=s.matchTransition(c.value,l.value,e,l.params),E=!1;if(!y){if(!i)return;y=s.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:c,toState:l,player:o,isFallbackTransition:E}),E||(bs(e,zH),o.onStart(()=>{Vh(e,zH)})),o.onDone(()=>{let C=this.players.indexOf(o);C>=0&&this.players.splice(C,1);const I=this._engine.playersByElement.get(e);if(I){let M=I.indexOf(o);M>=0&&I.splice(M,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,nb,!0);r.forEach(i=>{if(i[Ks])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const f=this.trigger(e,l,Rm,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Nc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,l=r.get(o)||KP,f=new WP(Rm),g=new ZP(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:f,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ks];(!s||s===qH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){bs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=RP(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,PP(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class lae{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new uae(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(db(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!db(t))return;const s=t[Ks];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),bs(e,GP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Vh(e,GP))}removeNode(e,t,r){if(db(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ks]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return db(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,nb,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,kP,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Nc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ks];if(t&&t.setForRemoval){if(e[Ks]=qH,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(GP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)bs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Nc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function poe(n){return new w(3402,!1)}()}_flushAnimations(e,t){const r=new cb,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,f=new Set;this.disabledNodes.forEach(Se=>{f.add(Se);const ke=this.driver.query(Se,".ng-animate-queued",!0);for(let je=0;je<ke.length;je++)f.add(ke[je])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=KH(m,this.collectedEnterElements),E=new Map;let C=0;y.forEach((Se,ke)=>{const je=NP+C++;E.set(ke,je),Se.forEach(Dt=>bs(Dt,je))});const I=[],M=new Set,P=new Set;for(let Se=0;Se<this.collectedLeaveElements.length;Se++){const ke=this.collectedLeaveElements[Se],je=ke[Ks];je&&je.setForRemoval&&(I.push(ke),M.add(ke),je.hasAnimation?this.driver.query(ke,".ng-star-inserted",!0).forEach(Dt=>M.add(Dt)):P.add(ke))}const x=new Map,q=KH(m,Array.from(M));q.forEach((Se,ke)=>{const je=eb+C++;x.set(ke,je),Se.forEach(Dt=>bs(Dt,je))}),e.push(()=>{y.forEach((Se,ke)=>{const je=E.get(ke);Se.forEach(Dt=>Vh(Dt,je))}),q.forEach((Se,ke)=>{const je=x.get(ke);Se.forEach(Dt=>Vh(Dt,je))}),I.forEach(Se=>{this.processLeaveNode(Se)})});const ue=[],Me=[];for(let Se=this._namespaceList.length-1;Se>=0;Se--)this._namespaceList[Se].drainQueuedTransitions(t).forEach(je=>{const Dt=je.player,Ar=je.element;if(ue.push(Dt),this.collectedEnterElements.length){const ai=Ar[Ks];if(ai&&ai.setForMove){if(ai.previousTriggersValues&&ai.previousTriggersValues.has(je.triggerName)){const ul=ai.previousTriggersValues.get(je.triggerName),Cs=this.statesByElement.get(je.element);if(Cs&&Cs.has(je.triggerName)){const gb=Cs.get(je.triggerName);gb.value=ul,Cs.set(je.triggerName,gb)}}return void Dt.destroy()}}const So=!g||!this.driver.containsElement(g,Ar),ns=x.get(Ar),Fc=E.get(Ar),An=this._buildInstruction(je,r,Fc,ns,So);if(An.errors&&An.errors.length)return void Me.push(An);if(So)return Dt.onStart(()=>ol(Ar,An.fromStyles)),Dt.onDestroy(()=>Ao(Ar,An.toStyles)),void i.push(Dt);if(je.isFallbackTransition)return Dt.onStart(()=>ol(Ar,An.fromStyles)),Dt.onDestroy(()=>Ao(Ar,An.toStyles)),void i.push(Dt);const o3=[];An.timelines.forEach(ai=>{ai.stretchStartingKeyframe=!0,this.disabledNodes.has(ai.element)||o3.push(ai)}),An.timelines=o3,r.append(Ar,An.timelines),o.push({instruction:An,player:Dt,element:Ar}),An.queriedElements.forEach(ai=>es(a,ai,[]).push(Dt)),An.preStyleProps.forEach((ai,ul)=>{if(ai.size){let Cs=c.get(ul);Cs||c.set(ul,Cs=new Set),ai.forEach((gb,JP)=>Cs.add(JP))}}),An.postStyleProps.forEach((ai,ul)=>{let Cs=l.get(ul);Cs||l.set(ul,Cs=new Set),ai.forEach((gb,JP)=>Cs.add(JP))})});if(Me.length){const Se=[];Me.forEach(ke=>{Se.push(function goe(n,e){return new w(3505,!1)}())}),ue.forEach(ke=>ke.destroy()),this.reportError(Se)}const He=new Map,xt=new Map;o.forEach(Se=>{const ke=Se.element;r.has(ke)&&(xt.set(ke,ke),this._beforeAnimationBuild(Se.player.namespaceId,Se.instruction,He))}),i.forEach(Se=>{const ke=Se.element;this._getPreviousPlayers(ke,!1,Se.namespaceId,Se.triggerName,null).forEach(Dt=>{es(He,ke,[]).push(Dt),Dt.destroy()})});const Ci=I.filter(Se=>QH(Se,c,l)),Ui=new Map;WH(Ui,this.driver,P,l,ga).forEach(Se=>{QH(Se,c,l)&&Ci.push(Se)});const Om=new Map;y.forEach((Se,ke)=>{WH(Om,this.driver,new Set(Se),c,"!")}),Ci.forEach(Se=>{const ke=Ui.get(Se),je=Om.get(Se);Ui.set(Se,new Map([...ke?.entries()??[],...je?.entries()??[]]))});const cl=[],i3=[],s3={};o.forEach(Se=>{const{element:ke,player:je,instruction:Dt}=Se;if(r.has(ke)){if(f.has(ke))return je.onDestroy(()=>Ao(ke,Dt.toStyles)),je.disabled=!0,je.overrideTotalTime(Dt.totalTime),void i.push(je);let Ar=s3;if(xt.size>1){let ns=ke;const Fc=[];for(;ns=ns.parentNode;){const An=xt.get(ns);if(An){Ar=An;break}Fc.push(ns)}Fc.forEach(An=>xt.set(An,Ar))}const So=this._buildAnimation(je.namespaceId,Dt,He,s,Om,Ui);if(je.setRealPlayer(So),Ar===s3)cl.push(je);else{const ns=this.playersByElement.get(Ar);ns&&ns.length&&(je.parentPlayer=Nc(ns)),i.push(je)}}else ol(ke,Dt.fromStyles),je.onDestroy(()=>Ao(ke,Dt.toStyles)),i3.push(je),f.has(ke)&&i.push(je)}),i3.forEach(Se=>{const ke=s.get(Se.element);if(ke&&ke.length){const je=Nc(ke);Se.setRealPlayer(je)}}),i.forEach(Se=>{Se.parentPlayer?Se.syncPlayerEvents(Se.parentPlayer):Se.destroy()});for(let Se=0;Se<I.length;Se++){const ke=I[Se],je=ke[Ks];if(Vh(ke,eb),je&&je.hasAnimation)continue;let Dt=[];if(a.size){let So=a.get(ke);So&&So.length&&Dt.push(...So);let ns=this.driver.query(ke,kP,!0);for(let Fc=0;Fc<ns.length;Fc++){let An=a.get(ns[Fc]);An&&An.length&&Dt.push(...An)}}const Ar=Dt.filter(So=>!So.destroyed);Ar.length?pae(this,ke,Ar):this.processLeaveNode(ke)}return I.length=0,cl.forEach(Se=>{this.players.push(Se),Se.onDone(()=>{Se.destroy();const ke=this.players.indexOf(Se);this.players.splice(ke,1)}),Se.play()}),cl}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==Rm;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,f=l!==s,g=es(r,l,[]);this._getPreviousPlayers(l,f,o,a,t.toState).forEach(y=>{const E=y.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),y.destroy(),g.push(y)})}ol(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,l=[],f=new Set,g=new Set,m=t.timelines.map(E=>{const C=E.element;f.add(C);const I=C[Ks];if(I&&I.removedBeforeQueried)return new Am(E.duration,E.delay);const M=C!==c,P=function gae(n){const e=[];return ZH(n,e),e}((r.get(C)||aae).map(He=>He.getRealPlayer())).filter(He=>!!He.element&&He.element===C),x=s.get(C),q=o.get(C),ue=TH(this._normalizer,E.keyframes,x,q),Me=this._buildPlayer(E,ue,P);if(E.subTimeline&&i&&g.add(C),M){const He=new ZP(e,a,C);He.setRealPlayer(Me),l.push(He)}return Me});l.forEach(E=>{es(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>function dae(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,E.element,E))}),f.forEach(E=>bs(E,OH));const y=Nc(m);return y.onDestroy(()=>{f.forEach(E=>Vh(E,OH)),Ao(c,t.toStyles)}),g.forEach(E=>{es(i,E,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Am(e.duration,e.delay)}}class ZP{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Am,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>PP(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){es(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function db(n){return n&&1===n.nodeType}function GH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function WH(n,e,t,r,i){const s=[];t.forEach(c=>s.push(GH(c)));const o=[];r.forEach((c,l)=>{const f=new Map;c.forEach(g=>{const m=e.computeStyle(l,g,i);f.set(g,m),(!m||0==m.length)&&(l[Ks]=cae,o.push(l))}),n.set(l,f)});let a=0;return t.forEach(c=>GH(c,s[a++])),o}function KH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let c=s.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?1:o(l),s.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&t.get(c).push(a)}),t}function bs(n,e){n.classList?.add(e)}function Vh(n,e){n.classList?.remove(e)}function pae(n,e,t){Nc(t).onDone(()=>n.processLeaveNode(e))}function ZH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof CH?ZH(r.players,e):e.push(r)}}function QH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class hb{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new lae(e,t,r),this._timelineEngine=new nae(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],f=UP(this._driver,s,c,[]);if(c.length)throw function ioe(n,e){return new w(3404,!1)}();a=function Joe(n,e,t){return new Xoe(n,e,t)}(i,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=DH(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=DH(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let yae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ao(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ao(this._element,this._initialStyles),this._endStyles&&(Ao(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ol(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ol(this._element,this._endStyles),this._endStyles=null),Ao(this._element,this._initialStyles),this._state=3)}}return n})();function QP(n){let e=null;return n.forEach((t,r)=>{(function vae(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class YH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:FH(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Eae{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SH(e,t)}getParentElement(e){return OP(e)}query(e,t,r){return PH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const l=new Map,f=o.filter(y=>y instanceof YH);(function Aoe(n,e){return 0===n||0===e})(r,i)&&f.forEach(y=>{y.currentSnapshot.forEach((E,C)=>l.set(C,E))});let g=function Ioe(n){return n.length?n[0]instanceof Map?n:n.map(e=>xH(e)):[]}(t).map(y=>kc(y));g=function Soe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,FH(n,a)))}}return e}(e,g,l);const m=function _ae(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=QP(e[0]),e.length>1&&(r=QP(e[e.length-1]))):e instanceof Map&&(t=QP(e)),t||r?new yae(n,t,r):null}(e,g);return new YH(e,g,c,m)}}let wae=(()=>{class n extends EH{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:zr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?wH(t):t;return JH(this._renderer,null,r,"register",[i]),new bae(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(W(mu),W(Kn))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class bae extends Fse{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Cae(this._id,e,t||{},this._renderer)}}class Cae{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function JH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const XH="@.disabled";let Iae=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new e3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,f)),f}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=f=>{Array.isArray(f)?f.forEach(c):this.engine.registerTrigger(o,a,t,f.name,f)};return r.data.animation.forEach(c),new Tae(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(W(mu),W(hb),W(yt))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();class e3{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==XH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Tae extends e3{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==XH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Dae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Aae(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Sae=(()=>{class n extends hb{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(W(Kn),W(xP),W(zP),W(Xa))};static#t=this.\u0275prov=le({token:n,factory:n.\u0275fac})}return n})();const t3=[{provide:EH,useClass:wae},{provide:zP,useFactory:function Pae(){return new Koe}},{provide:hb,useClass:Sae},{provide:mu,useFactory:function Mae(n,e,t){return new Iae(n,e,t)},deps:[Z0,hb,yt]}],YP=[{provide:xP,useFactory:()=>new Eae},{provide:DR,useValue:"BrowserAnimations"},...t3],n3=[{provide:xP,useClass:MH},{provide:DR,useValue:"NoopAnimations"},...t3];let Rae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?n3:YP}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n});static#n=this.\u0275inj=Sn({providers:YP,imports:[Nk]})}return n})();const r3_firebaseConfig={apiKey:"AIzaSyBDzCRzK0DypyFSKHSBsCvBaQZHVdQeWtE",authDomain:"shopiz-reseller.firebaseapp.com",projectId:"shopiz-reseller",storageBucket:"shopiz-reseller.appspot.com",messagingSenderId:"928325868421",appId:"1:928325868421:web:5942ebf5887c2c20cb82ec",measurementId:"G-VJHPW132G6"};(0,Au.initializeApp)(r3_firebaseConfig);let Oae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=In({type:n,bootstrap:[kse]});static#n=this.\u0275inj=Sn({imports:[xp,Lie,Fie,Nk,Ise,j7,Rae,Are.forRoot(),zre,HQ.initializeApp(r3_firebaseConfig),Ine,qie]})}return n})();l7().bootstrapModule(Oae).catch(n=>console.error(n))},106:(Is,Yn,Ze)=>{Ze.d(Yn,{Z:()=>Xn});var b=Ze(58),Ve=Ze(537),we=Ze(534),U=Ze(879);class _t{constructor($e,Je){this._delegate=$e,this.firebase=Je,(0,we._addComponent)($e,new Ve.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,we.deleteApp)(this._delegate)))}_getService($e,Je=we._DEFAULT_ENTRY_NAME){var er;this._delegate.checkDestroyed();const tr=this._delegate.container.getProvider($e);return!tr.isInitialized()&&"EXPLICIT"===(null===(er=tr.getComponent())||void 0===er?void 0:er.instantiationMode)&&tr.initialize(),tr.getImmediate({identifier:Je})}_removeServiceInstance($e,Je=we._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(Je)}_addComponent($e){(0,we._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,we._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pn=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function ut(){const Ct=function Jn(Ct){const $e={},Je={__esModule:!0,initializeApp:function Jt(Ne,bn={}){const jt=we.initializeApp(Ne,bn);if((0,b.r3)($e,jt.name))return $e[jt.name];const te=new Ct(jt,Je);return $e[jt.name]=te,te},app:tr,registerVersion:we.registerVersion,setLogLevel:we.setLogLevel,onLog:we.onLog,apps:null,SDK_VERSION:we.SDK_VERSION,INTERNAL:{registerComponent:function Ot(Ne){const bn=Ne.name,jt=bn.replace("-compat","");if(we._registerComponent(Ne)&&"PUBLIC"===Ne.type){const te=(an=tr())=>{if("function"!=typeof an[jt])throw pn.create("invalid-app-argument",{appName:bn});return an[jt]()};void 0!==Ne.serviceProps&&(0,b.ZB)(te,Ne.serviceProps),Je[jt]=te,Ct.prototype[jt]=function(...an){return this._getService.bind(this,bn).apply(this,Ne.multipleInstances?an:[])}}return"PUBLIC"===Ne.type?Je[jt]:null},removeApp:function er(Ne){delete $e[Ne]},useAsService:function Sr(Ne,bn){return"serverAuth"===bn?null:bn},modularAPIs:we}};function tr(Ne){if(!(0,b.r3)($e,Ne=Ne||we._DEFAULT_ENTRY_NAME))throw pn.create("no-app",{appName:Ne});return $e[Ne]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function It(){return Object.keys($e).map(Ne=>$e[Ne])}}),tr.App=Ct,Je}(_t);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:ut,extendNamespace:function $e(Je){(0,b.ZB)(Ct,Je)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),Ct}(),se=new U.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ct=self.firebase.SDK_VERSION;Ct&&Ct.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xn=J;!function vt(Ct){(0,we.registerVersion)("@firebase/app-compat","0.2.31",Ct)}()},534:(Is,Yn,Ze)=>{Ze.r(Yn),Ze.d(Yn,{FirebaseError:()=>U.ZR,SDK_VERSION:()=>li,_DEFAULT_ENTRY_NAME:()=>Ts,_addComponent:()=>gr,_addOrOverwriteComponent:()=>Ds,_apps:()=>Ti,_clearComponents:()=>Ea,_components:()=>Bi,_getProvider:()=>rs,_isFirebaseApp:()=>va,_isFirebaseServerApp:()=>xo,_registerComponent:()=>Ht,_removeServiceInstance:()=>Hn,_serverApps:()=>Di,deleteApp:()=>ba,getApp:()=>ll,getApps:()=>wa,initializeApp:()=>Pr,initializeServerApp:()=>No,onLog:()=>D,registerVersion:()=>A,setLogLevel:()=>S});var b=Ze(861),Ve=Ze(537),we=Ze(879),U=Ze(58);const _t=(k,w)=>w.some(G=>k instanceof G);let on,pn;const J=new WeakMap,se=new WeakMap,Ie=new WeakMap,st=new WeakMap,vt=new WeakMap;let $e={get(k,w,G){if(k instanceof IDBTransaction){if("done"===w)return se.get(k);if("objectStoreNames"===w)return k.objectStoreNames||Ie.get(k);if("store"===w)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Jt(k[w])},set:(k,w,G)=>(k[w]=G,!0),has:(k,w)=>k instanceof IDBTransaction&&("done"===w||"store"===w)||w in k};function tr(k){return"function"==typeof k?function er(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ut(){return pn||(pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...w){return k.apply(It(this),w),Jt(J.get(this))}:function(...w){return Jt(k.apply(It(this),w))}:function(w,...G){const Y=k.call(It(this),w,...G);return Ie.set(Y,w.sort?w.sort():[w]),Jt(Y)}}(k):(k instanceof IDBTransaction&&function Ct(k){if(se.has(k))return;const w=new Promise((G,Y)=>{const ge=()=>{k.removeEventListener("complete",Ge),k.removeEventListener("error",nt),k.removeEventListener("abort",nt)},Ge=()=>{G(),ge()},nt=()=>{Y(k.error||new DOMException("AbortError","AbortError")),ge()};k.addEventListener("complete",Ge),k.addEventListener("error",nt),k.addEventListener("abort",nt)});se.set(k,w)}(k),_t(k,function Jn(){return on||(on=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,$e):k)}function Jt(k){if(k instanceof IDBRequest)return function Xn(k){const w=new Promise((G,Y)=>{const ge=()=>{k.removeEventListener("success",Ge),k.removeEventListener("error",nt)},Ge=()=>{G(Jt(k.result)),ge()},nt=()=>{Y(k.error),ge()};k.addEventListener("success",Ge),k.addEventListener("error",nt)});return w.then(G=>{G instanceof IDBCursor&&J.set(G,k)}).catch(()=>{}),vt.set(w,k),w}(k);if(st.has(k))return st.get(k);const w=tr(k);return w!==k&&(st.set(k,w),vt.set(w,k)),w}const It=k=>vt.get(k),Ne=["get","getKey","getAll","getAllKeys","count"],bn=["put","add","delete","clear"],jt=new Map;function te(k,w){if(!(k instanceof IDBDatabase)||w in k||"string"!=typeof w)return;if(jt.get(w))return jt.get(w);const G=w.replace(/FromIndex$/,""),Y=w!==G,ge=bn.includes(G);if(!(G in(Y?IDBIndex:IDBObjectStore).prototype)||!ge&&!Ne.includes(G))return;const Ge=function(){var nt=(0,b.Z)(function*(en,...zt){const kt=this.transaction(en,ge?"readwrite":"readonly");let Ca=kt.store;return Y&&(Ca=Ca.index(zt.shift())),(yield Promise.all([Ca[G](...zt),ge&&kt.done]))[0]});return function(zt){return nt.apply(this,arguments)}}();return jt.set(w,Ge),Ge}!function Je(k){$e=k($e)}(k=>({...k,get:(w,G,Y)=>te(w,G)||k.get(w,G,Y),has:(w,G)=>!!te(w,G)||k.has(w,G)}));class an{constructor(w){this.container=w}getPlatformInfoString(){return this.container.getProviders().map(G=>{if(function Qt(k){const w=k.getComponent();return"VERSION"===w?.type}(G)){const Y=G.getImmediate();return`${Y.library}/${Y.version}`}return null}).filter(G=>G).join(" ")}}const ci="@firebase/app",Ii="0.10.1",ot=new we.Yd("@firebase/app"),Ts="[DEFAULT]",Oo={[ci]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ti=new Map,Di=new Map,Bi=new Map;function gr(k,w){try{k.container.addComponent(w)}catch(G){ot.debug(`Component ${w.name} failed to register with FirebaseApp ${k.name}`,G)}}function Ds(k,w){k.container.addOrOverwriteComponent(w)}function Ht(k){const w=k.name;if(Bi.has(w))return ot.debug(`There were multiple attempts to register component ${w}.`),!1;Bi.set(w,k);for(const G of Ti.values())gr(G,k);for(const G of Di.values())gr(G,k);return!0}function rs(k,w){const G=k.container.getProvider("heartbeat").getImmediate({optional:!0});return G&&G.triggerHeartbeat(),k.container.getProvider(w)}function Hn(k,w,G=Ts){rs(k,w).clearInstance(G)}function va(k){return void 0!==k.options}function xo(k){return void 0!==k.settings}function Ea(){Bi.clear()}const zn=new U.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class As{constructor(w,G,Y){this._isDeleted=!1,this._options=Object.assign({},w),this._config=Object.assign({},G),this._name=G.name,this._automaticDataCollectionEnabled=G.automaticDataCollectionEnabled,this._container=Y,this.container.addComponent(new Ve.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(w){this.checkDestroyed(),this._automaticDataCollectionEnabled=w}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(w){this._isDeleted=w}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}class Vc extends As{constructor(w,G,Y,ge){const Ge=void 0!==G.automaticDataCollectionEnabled&&G.automaticDataCollectionEnabled,nt={name:Y,automaticDataCollectionEnabled:Ge};super(void 0!==w.apiKey?w:w.options,nt,ge),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ge},G),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,G.releaseOnDeref=void 0,A(ci,Ii,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(w){this.isDeleted||(this._refCount++,void 0!==w&&this._finalizationRegistry.register(w,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ba(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw zn.create("server-app-deleted")}}const li="10.11.0";function Pr(k,w={}){let G=k;"object"!=typeof w&&(w={name:w});const Y=Object.assign({name:Ts,automaticDataCollectionEnabled:!1},w),ge=Y.name;if("string"!=typeof ge||!ge)throw zn.create("bad-app-name",{appName:String(ge)});if(G||(G=(0,U.aH)()),!G)throw zn.create("no-options");const Ge=Ti.get(ge);if(Ge){if((0,U.vZ)(G,Ge.options)&&(0,U.vZ)(Y,Ge.config))return Ge;throw zn.create("duplicate-app",{appName:ge})}const nt=new Ve.H0(ge);for(const zt of Bi.values())nt.addComponent(zt);const en=new As(G,Y,nt);return Ti.set(ge,en),en}function No(k,w){if((0,U.jU)())throw zn.create("invalid-server-app-environment");let G;void 0===w.automaticDataCollectionEnabled&&(w.automaticDataCollectionEnabled=!1),G=va(k)?k.options:k;const Y=Object.assign(Object.assign({},w),G);if(void 0!==Y.releaseOnDeref&&delete Y.releaseOnDeref,void 0!==w.releaseOnDeref&&typeof FinalizationRegistry>"u")throw zn.create("finalization-registry-not-supported",{});const Ge=""+(kt=JSON.stringify(Y),[...kt].reduce((Ca,Bh)=>Math.imul(31,Ca)+Bh.charCodeAt(0)|0,0)),nt=Di.get(Ge);var kt;if(nt)return nt.incRefCount(w.releaseOnDeref),nt;const en=new Ve.H0(Ge);for(const kt of Bi.values())en.addComponent(kt);const zt=new Vc(G,w,Ge,en);return Di.set(Ge,zt),zt}function ll(k=Ts){const w=Ti.get(k);if(!w&&k===Ts&&(0,U.aH)())return Pr();if(!w)throw zn.create("no-app",{appName:k});return w}function wa(){return Array.from(Ti.values())}function ba(k){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,b.Z)(function*(k){let w=!1;const G=k.name;Ti.has(G)?(w=!0,Ti.delete(G)):Di.has(G)&&k.decRefCount()<=0&&(Di.delete(G),w=!0),w&&(yield Promise.all(k.container.getProviders().map(Y=>Y.delete())),k.isDeleted=!0)})).apply(this,arguments)}function A(k,w,G){var Y;let ge=null!==(Y=Oo[k])&&void 0!==Y?Y:k;G&&(ge+=`-${G}`);const Ge=ge.match(/\s|\//),nt=w.match(/\s|\//);if(Ge||nt){const en=[`Unable to register library "${ge}" with version "${w}":`];return Ge&&en.push(`library name "${ge}" contains illegal characters (whitespace or "/")`),Ge&&nt&&en.push("and"),nt&&en.push(`version name "${w}" contains illegal characters (whitespace or "/")`),void ot.warn(en.join(" "))}Ht(new Ve.wA(`${ge}-version`,()=>({library:ge,version:w}),"VERSION"))}function D(k,w){if(null!==k&&"function"!=typeof k)throw zn.create("invalid-log-argument");(0,we.Am)(k,w)}function S(k){(0,we.Ub)(k)}const Q="firebase-heartbeat-database",O=1,H="firebase-heartbeat-store";let xe=null;function St(){return xe||(xe=function Ot(k,w,{blocked:G,upgrade:Y,blocking:ge,terminated:Ge}={}){const nt=indexedDB.open(k,w),en=Jt(nt);return Y&&nt.addEventListener("upgradeneeded",zt=>{Y(Jt(nt.result),zt.oldVersion,zt.newVersion,Jt(nt.transaction),zt)}),G&&nt.addEventListener("blocked",zt=>G(zt.oldVersion,zt.newVersion,zt)),en.then(zt=>{Ge&&zt.addEventListener("close",()=>Ge()),ge&&zt.addEventListener("versionchange",kt=>ge(kt.oldVersion,kt.newVersion,kt))}).catch(()=>{}),en}(Q,O,{upgrade:(k,w)=>{if(0===w)try{k.createObjectStore(H)}catch(G){console.warn(G)}}}).catch(k=>{throw zn.create("idb-open",{originalErrorMessage:k.message})})),xe}function Nn(){return(Nn=(0,b.Z)(function*(k){try{const G=(yield St()).transaction(H),Y=yield G.objectStore(H).get(gn(k));return yield G.done,Y}catch(w){if(w instanceof U.ZR)ot.warn(w.message);else{const G=zn.create("idb-get",{originalErrorMessage:w?.message});ot.warn(G.message)}}})).apply(this,arguments)}function qn(k,w){return ye.apply(this,arguments)}function ye(){return(ye=(0,b.Z)(function*(k,w){try{const Y=(yield St()).transaction(H,"readwrite");yield Y.objectStore(H).put(w,gn(k)),yield Y.done}catch(G){if(G instanceof U.ZR)ot.warn(G.message);else{const Y=zn.create("idb-set",{originalErrorMessage:G?.message});ot.warn(Y.message)}}})).apply(this,arguments)}function gn(k){return`${k.name}!${k.options.appId}`}class Uc{constructor(w){this.container=w,this._heartbeatsCache=null;const G=this.container.getProvider("app").getImmediate();this._storage=new Ps(G),this._heartbeatsCachePromise=this._storage.read().then(Y=>(this._heartbeatsCache=Y,Y))}triggerHeartbeat(){var w=this;return(0,b.Z)(function*(){var G,Y;const Ge=w.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nt=At();if((null!=(null===(G=w._heartbeatsCache)||void 0===G?void 0:G.heartbeats)||(w._heartbeatsCache=yield w._heartbeatsCachePromise,null!=(null===(Y=w._heartbeatsCache)||void 0===Y?void 0:Y.heartbeats)))&&w._heartbeatsCache.lastSentHeartbeatDate!==nt&&!w._heartbeatsCache.heartbeats.some(en=>en.date===nt))return w._heartbeatsCache.heartbeats.push({date:nt,agent:Ge}),w._heartbeatsCache.heartbeats=w._heartbeatsCache.heartbeats.filter(en=>{const zt=new Date(en.date).valueOf();return Date.now()-zt<=2592e6}),w._storage.overwrite(w._heartbeatsCache)})()}getHeartbeatsHeader(){var w=this;return(0,b.Z)(function*(){var G;if(null===w._heartbeatsCache&&(yield w._heartbeatsCachePromise),null==(null===(G=w._heartbeatsCache)||void 0===G?void 0:G.heartbeats)||0===w._heartbeatsCache.heartbeats.length)return"";const Y=At(),{heartbeatsToSend:ge,unsentEntries:Ge}=function Fe(k,w=1024){const G=[];let Y=k.slice();for(const ge of k){const Ge=G.find(nt=>nt.agent===ge.agent);if(Ge){if(Ge.dates.push(ge.date),ko(G)>w){Ge.dates.pop();break}}else if(G.push({agent:ge.agent,dates:[ge.date]}),ko(G)>w){G.pop();break}Y=Y.slice(1)}return{heartbeatsToSend:G,unsentEntries:Y}}(w._heartbeatsCache.heartbeats),nt=(0,U.L)(JSON.stringify({version:2,heartbeats:ge}));return w._heartbeatsCache.lastSentHeartbeatDate=Y,Ge.length>0?(w._heartbeatsCache.heartbeats=Ge,yield w._storage.overwrite(w._heartbeatsCache)):(w._heartbeatsCache.heartbeats=[],w._storage.overwrite(w._heartbeatsCache)),nt})()}}function At(){return(new Date).toISOString().substring(0,10)}class Ps{constructor(w){this.app=w,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,U.hl)()&&(0,U.eu)().then(()=>!0).catch(()=>!1)})()}read(){var w=this;return(0,b.Z)(function*(){if(yield w._canUseIndexedDBPromise){const Y=yield function ze(k){return Nn.apply(this,arguments)}(w.app);return Y?.heartbeats?Y:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(w){var G=this;return(0,b.Z)(function*(){var Y;if(yield G._canUseIndexedDBPromise){const Ge=yield G.read();return qn(G.app,{lastSentHeartbeatDate:null!==(Y=w.lastSentHeartbeatDate)&&void 0!==Y?Y:Ge.lastSentHeartbeatDate,heartbeats:w.heartbeats})}})()}add(w){var G=this;return(0,b.Z)(function*(){var Y;if(yield G._canUseIndexedDBPromise){const Ge=yield G.read();return qn(G.app,{lastSentHeartbeatDate:null!==(Y=w.lastSentHeartbeatDate)&&void 0!==Y?Y:Ge.lastSentHeartbeatDate,heartbeats:[...Ge.heartbeats,...w.heartbeats]})}})()}}function ko(k){return(0,U.L)(JSON.stringify({version:2,heartbeats:k})).length}!function Uh(k){Ht(new Ve.wA("platform-logger",w=>new an(w),"PRIVATE")),Ht(new Ve.wA("heartbeat",w=>new Uc(w),"PRIVATE")),A(ci,Ii,k),A(ci,Ii,"esm2017"),A("fire-js","")}("")},537:(Is,Yn,Ze)=>{Ze.d(Yn,{H0:()=>Jn,wA:()=>we});var b=Ze(861),Ve=Ze(58);class we{constructor(J,se,Ie){this.name=J,this.instanceFactory=se,this.type=Ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const U="[DEFAULT]";class _t{constructor(J,se){this.name=J,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const se=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(se)){const Ie=new Ve.BH;if(this.instancesDeferred.set(se,Ie),this.isInitialized(se)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:se});st&&Ie.resolve(st)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(J){var se;const Ie=this.normalizeInstanceIdentifier(J?.identifier),st=null!==(se=J?.optional)&&void 0!==se&&se;if(!this.isInitialized(Ie)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ie})}catch(vt){if(st)return null;throw vt}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function pn(ut){return"EAGER"===ut.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:U})}catch{}for(const[se,Ie]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(se);try{const vt=this.getOrInitializeService({instanceIdentifier:st});Ie.resolve(vt)}catch{}}}}clearInstance(J=U){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,b.Z)(function*(){const se=Array.from(J.instances.values());yield Promise.all([...se.filter(Ie=>"INTERNAL"in Ie).map(Ie=>Ie.INTERNAL.delete()),...se.filter(Ie=>"_delete"in Ie).map(Ie=>Ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=U){return this.instances.has(J)}getOptions(J=U){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:se={}}=J,Ie=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(Ie))throw Error(`${this.name}(${Ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:Ie,options:se});for(const[vt,Xn]of this.instancesDeferred.entries())Ie===this.normalizeInstanceIdentifier(vt)&&Xn.resolve(st);return st}onInit(J,se){var Ie;const st=this.normalizeInstanceIdentifier(se),vt=null!==(Ie=this.onInitCallbacks.get(st))&&void 0!==Ie?Ie:new Set;vt.add(J),this.onInitCallbacks.set(st,vt);const Xn=this.instances.get(st);return Xn&&J(Xn,st),()=>{vt.delete(J)}}invokeOnInitCallbacks(J,se){const Ie=this.onInitCallbacks.get(se);if(Ie)for(const st of Ie)try{st(J,se)}catch{}}getOrInitializeService({instanceIdentifier:J,options:se={}}){let Ie=this.instances.get(J);if(!Ie&&this.component&&(Ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ut=J,ut===U?void 0:ut),options:se}),this.instances.set(J,Ie),this.instancesOptions.set(J,se),this.invokeOnInitCallbacks(Ie,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Ie)}catch{}var ut;return Ie||null}normalizeInstanceIdentifier(J=U){return this.component?this.component.multipleInstances?J:U:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Jn{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const se=this.getProvider(J.name);if(se.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);se.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const se=new _t(J,this);return this.providers.set(J,se),se}getProviders(){return Array.from(this.providers.values())}}},879:(Is,Yn,Ze)=>{Ze.d(Yn,{Am:()=>ut,Ub:()=>Jn,Yd:()=>pn,in:()=>Ve});const b=[];var Ve=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(Ve||{});const we={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},U=Ve.INFO,_t={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},on=(J,se,...Ie)=>{if(se<J.logLevel)return;const st=(new Date).toISOString(),vt=_t[se];if(!vt)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[vt](`[${st}]  ${J.name}:`,...Ie)};class pn{constructor(se){this.name=se,this._logLevel=U,this._logHandler=on,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in Ve))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?we[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...se),this._logHandler(this,Ve.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...se),this._logHandler(this,Ve.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...se),this._logHandler(this,Ve.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...se),this._logHandler(this,Ve.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...se),this._logHandler(this,Ve.ERROR,...se)}}function Jn(J){b.forEach(se=>{se.setLogLevel(J)})}function ut(J,se){for(const Ie of b){let st=null;se&&se.level&&(st=we[se.level]),Ie.userLogHandler=null===J?null:(vt,Xn,...Ct)=>{const $e=Ct.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch{return null}}).filter(Je=>Je).join(" ");Xn>=(st??vt.logLevel)&&J({level:Ve[Xn].toLowerCase(),message:$e,args:Ct,type:vt.name})}}}},622:(Is,Yn,Ze)=>{Ze.r(Yn);var b=Ze(861),Ve=Ze(106),we=Ze(534),U=Ze(58),_t=Ze(879),on=Ze(582),pn=Ze(537);const ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Xn=function st(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ct=function vt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),er=new _t.Yd("@firebase/auth");function Jt(h,...u){er.logLevel<=_t.in.ERROR&&er.error(`Auth (${we.SDK_VERSION}): ${h}`,...u)}function It(h,...u){throw jt(h,...u)}function Ot(h,...u){return jt(h,...u)}function Sr(h,u,d){const p=Object.assign(Object.assign({},Ct()),{[u]:d});return new U.LL("auth","Firebase",p).create(u,{appName:h.name})}function Ne(h){return Sr(h,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bn(h,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&It(h,"argument-error"),Sr(h,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jt(h,...u){if("string"!=typeof h){const d=u[0],p=[...u.slice(1)];return p[0]&&(p[0].appName=h.name),h._errorFactory.create(d,...p)}return $e.create(h,...u)}function te(h,u,...d){if(!h)throw jt(u,...d)}function an(h){const u="INTERNAL ASSERTION FAILED: "+h;throw Jt(u),new Error(u)}function Qt(h,u){h||an(u)}function ci(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function Ii(){return"http:"===ot()||"https:"===ot()}function ot(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class F{constructor(u,d){this.shortDelay=u,this.longDelay=d,Qt(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Po(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ii()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V(h,u){Qt(h.emulator,"Emulator should always be set here");const{url:d}=h.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class j{static initialize(u,d,p){this.fetchImpl=u,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void an("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void an("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void an("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=new F(3e4,6e4);function B(h,u){return h.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:h.tenantId}):u}function oe(h,u,d,p){return dt.apply(this,arguments)}function dt(){return(dt=(0,b.Z)(function*(h,u,d,p,_={}){return Ce(h,_,(0,b.Z)(function*(){let v={},T={};p&&("GET"===u?T=p:v={body:JSON.stringify(p)});const R=(0,U.xO)(Object.assign({key:h.config.apiKey},T)).slice(1),z=yield h._getAdditionalHeaders();return z["Content-Type"]="application/json",h.languageCode&&(z["X-Firebase-Locale"]=h.languageCode),j.fetch()($t(h,h.config.apiHost,d,R),Object.assign({method:u,headers:z,referrerPolicy:"no-referrer"},v))}))})).apply(this,arguments)}function Ce(h,u,d){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,b.Z)(function*(h,u,d){h._canInitEmulator=!1;const p=Object.assign(Object.assign({},K),u);try{const _=new jr(h),v=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const T=yield v.json();if("needConfirmation"in T)throw $n(h,"account-exists-with-different-credential",T);if(v.ok&&!("errorMessage"in T))return T;{const R=v.ok?T.errorMessage:T.error.message,[z,de]=R.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===z)throw $n(h,"credential-already-in-use",T);if("EMAIL_EXISTS"===z)throw $n(h,"email-already-in-use",T);if("USER_DISABLED"===z)throw $n(h,"user-disabled",T);const ve=p[z]||z.toLowerCase().replace(/[_\s]+/g,"-");if(de)throw Sr(h,ve,de);It(h,ve)}}catch(_){if(_ instanceof U.ZR)throw _;It(h,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Xe(h,u,d,p){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,b.Z)(function*(h,u,d,p,_={}){const v=yield oe(h,u,d,p,_);return"mfaPendingCredential"in v&&It(h,"multi-factor-auth-required",{_serverResponse:v}),v})).apply(this,arguments)}function $t(h,u,d,p){const _=`${u}${d}?${p}`;return h.config.emulator?V(h.config,_):`${h.config.apiScheme}://${_}`}function pr(h){switch(h){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Ot(this.auth,"network-request-failed")),ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(h,u,d){const p={appName:h.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Ot(h,u,p);return _.customData._tokenResponse=d,_}function $r(h){return void 0!==h&&void 0!==h.getResponse}function ui(h){return void 0!==h&&void 0!==h.enterprise}class ya{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return pr(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Cn(){return(Cn=(0,b.Z)(function*(h){return(yield oe(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lc(h,u){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,b.Z)(function*(h,u){return oe(h,"GET","/v2/recaptchaConfig",B(h,u))})).apply(this,arguments)}function Oo(){return(Oo=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Di(){return(Di=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Bi(h,u){return gr.apply(this,arguments)}function gr(){return(gr=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Ds(h){if(h)try{const u=new Date(Number(h));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Hn(){return(Hn=(0,b.Z)(function*(h,u=!1){const d=(0,U.m9)(h),p=yield d.getIdToken(u),_=xo(p);te(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const v="object"==typeof _.firebase?_.firebase:void 0,T=v?.sign_in_provider;return{claims:_,token:p,authTime:Ds(va(_.auth_time)),issuedAtTime:Ds(va(_.iat)),expirationTime:Ds(va(_.exp)),signInProvider:T||null,signInSecondFactor:v?.sign_in_second_factor||null}})).apply(this,arguments)}function va(h){return 1e3*Number(h)}function xo(h){const[u,d,p]=h.split(".");if(void 0===u||void 0===d||void 0===p)return Jt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,U.tV)(d);return _?JSON.parse(_):(Jt("Failed to decode base64 JWT payload"),null)}catch(_){return Jt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Ea(h){const u=xo(h);return te(u,"internal-error"),te(typeof u.exp<"u","internal-error"),te(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function Hr(h,u){return zn.apply(this,arguments)}function zn(){return(zn=(0,b.Z)(function*(h,u,d=!1){if(d)return u;try{return yield u}catch(p){throw p instanceof U.ZR&&function As({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}(p)&&h.auth.currentUser===h&&(yield h.auth.signOut()),p}})).apply(this,arguments)}class Vc{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(u);this.timerId=setTimeout((0,b.Z)(function*(){yield d.iteration()}),p)}iteration(){var u=this;return(0,b.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class li{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ds(this.lastLoginAt),this.creationTime=Ds(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(h){return No.apply(this,arguments)}function No(){return(No=(0,b.Z)(function*(h){var u;const d=h.auth,p=yield h.getIdToken(),_=yield Hr(h,Bi(d,{idToken:p}));te(_?.users.length,d,"internal-error");const v=_.users[0];h._notifyReloadListener(v);const T=null!==(u=v.providerUserInfo)&&void 0!==u&&u.length?Ss(v.providerUserInfo):[],R=function ba(h,u){return[...h.filter(p=>!u.some(_=>_.providerId===p.providerId)),...u]}(h.providerData,T),ve=!!h.isAnonymous&&!(h.email&&v.passwordHash||R?.length),Ee={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:R,metadata:new li(v.createdAt,v.lastLoginAt),isAnonymous:ve};Object.assign(h,Ee)})).apply(this,arguments)}function wa(){return(wa=(0,b.Z)(function*(h){const u=(0,U.m9)(h);yield Pr(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Ss(h){return h.map(u=>{var{providerId:d}=u,p=(0,on._T)(u,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}function D(){return(D=(0,b.Z)(function*(h,u){const d=yield Ce(h,{},(0,b.Z)(function*(){const p=(0,U.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:v}=h.config,T=$t(h,_,"/v1/token",`key=${v}`),R=yield h._getAdditionalHeaders();return R["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(T,{method:"POST",headers:R,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function Q(){return(Q=(0,b.Z)(function*(h,u){return oe(h,"POST","/v2/accounts:revokeToken",B(h,u))})).apply(this,arguments)}class O{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){te(u.idToken,"internal-error"),te(typeof u.idToken<"u","internal-error"),te(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):Ea(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}updateFromIdToken(u){te(0!==u.length,"internal-error");const d=Ea(u);this.updateTokensAndExpiration(u,null,d)}getToken(u,d=!1){var p=this;return(0,b.Z)(function*(){return d||!p.accessToken||p.isExpired?(te(p.refreshToken,u,"user-token-expired"),p.refreshToken?(yield p.refresh(u,p.refreshToken),p.accessToken):null):p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var p=this;return(0,b.Z)(function*(){const{accessToken:_,refreshToken:v,expiresIn:T}=yield function A(h,u){return D.apply(this,arguments)}(u,d);p.updateTokensAndExpiration(_,v,Number(T))})()}updateTokensAndExpiration(u,d,p){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(u,d){const{refreshToken:p,accessToken:_,expirationTime:v}=d,T=new O;return p&&(te("string"==typeof p,"internal-error",{appName:u}),T.refreshToken=p),_&&(te("string"==typeof _,"internal-error",{appName:u}),T.accessToken=_),v&&(te("number"==typeof v,"internal-error",{appName:u}),T.expirationTime=v),T}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new O,this.toJSON())}_performRefresh(){return an("not implemented")}}function H(h,u){te("string"==typeof h||typeof h>"u","internal-error",{appName:u})}class xe{constructor(u){var{uid:d,auth:p,stsTokenManager:_}=u,v=(0,on._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=v.displayName||null,this.email=v.email||null,this.emailVerified=v.emailVerified||!1,this.phoneNumber=v.phoneNumber||null,this.photoURL=v.photoURL||null,this.isAnonymous=v.isAnonymous||!1,this.tenantId=v.tenantId||null,this.providerData=v.providerData?[...v.providerData]:[],this.metadata=new li(v.createdAt||void 0,v.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,b.Z)(function*(){const p=yield Hr(d,d.stsTokenManager.getToken(d.auth,u));return te(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(u){return function rs(h){return Hn.apply(this,arguments)}(this,u)}reload(){return function ll(h){return wa.apply(this,arguments)}(this)}_assign(u){this!==u&&(te(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new xe(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var p=this;return(0,b.Z)(function*(){let _=!1;u.idToken&&u.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(u),_=!0),d&&(yield Pr(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var u=this;return(0,b.Z)(function*(){if((0,we._isFirebaseServerApp)(u.auth.app))return Promise.reject(Ne(u.auth));const d=yield u.getIdToken();return yield Hr(u,function Ts(h,u){return Oo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var p,_,v,T,R,z,de,ve;const Ee=null!==(p=d.displayName)&&void 0!==p?p:void 0,Kt=null!==(_=d.email)&&void 0!==_?_:void 0,Oi=null!==(v=d.phoneNumber)&&void 0!==v?v:void 0,Ql=null!==(T=d.photoURL)&&void 0!==T?T:void 0,Wf=null!==(R=d.tenantId)&&void 0!==R?R:void 0,ay=null!==(z=d._redirectEventId)&&void 0!==z?z:void 0,Kf=null!==(de=d.createdAt)&&void 0!==de?de:void 0,yC=null!==(ve=d.lastLoginAt)&&void 0!==ve?ve:void 0,{uid:Zf,emailVerified:cy,isAnonymous:Yl,providerData:uy,stsTokenManager:vC}=d;te(Zf&&vC,u,"internal-error");const Qf=O.fromJSON(this.name,vC);te("string"==typeof Zf,u,"internal-error"),H(Ee,u.name),H(Kt,u.name),te("boolean"==typeof cy,u,"internal-error"),te("boolean"==typeof Yl,u,"internal-error"),H(Oi,u.name),H(Ql,u.name),H(Wf,u.name),H(ay,u.name),H(Kf,u.name),H(yC,u.name);const ly=new xe({uid:Zf,auth:u,email:Kt,emailVerified:cy,displayName:Ee,isAnonymous:Yl,photoURL:Ql,phoneNumber:Oi,tenantId:Wf,stsTokenManager:Qf,createdAt:Kf,lastLoginAt:yC});return uy&&Array.isArray(uy)&&(ly.providerData=uy.map(SM=>Object.assign({},SM))),ay&&(ly._redirectEventId=ay),ly}static _fromIdTokenResponse(u,d,p=!1){return(0,b.Z)(function*(){const _=new O;_.updateFromServerResponse(d);const v=new xe({uid:d.localId,auth:u,stsTokenManager:_,isAnonymous:p});return yield Pr(v),v})()}static _fromGetAccountInfoResponse(u,d,p){return(0,b.Z)(function*(){const _=d.users[0];te(void 0!==_.localId,"internal-error");const v=void 0!==_.providerUserInfo?Ss(_.providerUserInfo):[],T=!(_.email&&_.passwordHash||v?.length),R=new O;R.updateFromIdToken(p);const z=new xe({uid:_.localId,auth:u,stsTokenManager:R,isAnonymous:T}),de={uid:_.localId,displayName:_.displayName||null,photoURL:_.photoUrl||null,email:_.email||null,emailVerified:_.emailVerified||!1,phoneNumber:_.phoneNumber||null,tenantId:_.tenantId||null,providerData:v,metadata:new li(_.createdAt,_.lastLoginAt),isAnonymous:!(_.email&&_.passwordHash||v?.length)};return Object.assign(z,de),z})()}}const St=new Map;function ze(h){Qt(h instanceof Function,"Expected a class definition");let u=St.get(h);return u?(Qt(u instanceof h,"Instance stored in cache mismatched with class"),u):(u=new h,St.set(h,u),u)}const qn=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,b.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,b.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,b.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return h.type="NONE",h})();function ye(h,u,d){return`firebase:${h}:${u}:${d}`}class gn{constructor(u,d,p){this.persistence=u,this.auth=d,this.userKey=p;const{config:_,name:v}=this.auth;this.fullUserKey=ye(this.userKey,_.apiKey,v),this.fullPersistenceKey=ye("persistence",_.apiKey,v),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,b.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?xe._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,b.Z)(function*(){if(d.persistence===u)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,p="authUser"){return(0,b.Z)(function*(){if(!d.length)return new gn(ze(qn),u,p);const _=(yield Promise.all(d.map(function(){var de=(0,b.Z)(function*(ve){if(yield ve._isAvailable())return ve});return function(ve){return de.apply(this,arguments)}}()))).filter(de=>de);let v=_[0]||ze(qn);const T=ye(p,u.config.apiKey,u.name);let R=null;for(const de of d)try{const ve=yield de._get(T);if(ve){const Ee=xe._fromJSON(u,ve);de!==v&&(R=Ee),v=de;break}}catch{}const z=_.filter(de=>de._shouldAllowMigration);return v._shouldAllowMigration&&z.length?(v=z[0],R&&(yield v._set(T,R.toJSON())),yield Promise.all(d.map(function(){var de=(0,b.Z)(function*(ve){if(ve!==v)try{yield ve._remove(T)}catch{}});return function(ve){return de.apply(this,arguments)}}())),new gn(v,u,p)):new gn(v,u,p)})()}}function Nt(h){const u=h.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Fe(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Zs(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(ko(u))return"Blackberry";if(Uh(u))return"Webos";if(Uc(u))return"Safari";if((u.includes("chrome/")||At(u))&&!u.includes("edge/"))return"Chrome";if(Ps(u))return"Android";{const p=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Zs(h=(0,U.z$)()){return/firefox\//i.test(h)}function Uc(h=(0,U.z$)()){const u=h.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function At(h=(0,U.z$)()){return/crios\//i.test(h)}function Fe(h=(0,U.z$)()){return/iemobile/i.test(h)}function Ps(h=(0,U.z$)()){return/android/i.test(h)}function ko(h=(0,U.z$)()){return/blackberry/i.test(h)}function Uh(h=(0,U.z$)()){return/webos/i.test(h)}function k(h=(0,U.z$)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function ge(h=(0,U.z$)()){return k(h)||Ps(h)||Uh(h)||ko(h)||/windows phone/i.test(h)||Fe(h)}function nt(h,u=[]){let d;switch(h){case"Browser":d=Nt((0,U.z$)());break;case"Worker":d=`${Nt((0,U.z$)())}-${h}`;break;default:d=h}const p=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${we.SDK_VERSION}/${p}`}class en{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const p=v=>new Promise((T,R)=>{try{T(u(v))}catch(z){R(z)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,b.Z)(function*(){if(d.auth.currentUser===u)return;const p=[];try{for(const _ of d.queue)yield _(u),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const v of p)try{v()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function kt(){return(kt=(0,b.Z)(function*(h,u={}){return oe(h,"GET","/v2/passwordPolicy",B(h,u))})).apply(this,arguments)}class Bh{constructor(u){var d,p,_,v;const T=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=T.minPasswordLength)&&void 0!==d?d:6,T.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=T.maxPasswordLength),void 0!==T.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=T.containsLowercaseCharacter),void 0!==T.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=T.containsUppercaseCharacter),void 0!==T.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=T.containsNumericCharacter),void 0!==T.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=T.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=u.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(v=u.forceUpgradeOnSignin)&&void 0!==v&&v,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,p,_,v,T,R;const z={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,z),this.validatePasswordCharacterOptions(u,z),z.isValid&&(z.isValid=null===(d=z.meetsMinPasswordLength)||void 0===d||d),z.isValid&&(z.isValid=null===(p=z.meetsMaxPasswordLength)||void 0===p||p),z.isValid&&(z.isValid=null===(_=z.containsLowercaseLetter)||void 0===_||_),z.isValid&&(z.isValid=null===(v=z.containsUppercaseLetter)||void 0===v||v),z.isValid&&(z.isValid=null===(T=z.containsNumericCharacter)||void 0===T||T),z.isValid&&(z.isValid=null===(R=z.containsNonAlphanumericCharacter)||void 0===R||R),z}validatePasswordLengthOptions(u,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=u.length>=p),_&&(d.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<u.length;_++)p=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(u,d,p,_,v){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=v))}}class XP{constructor(u,d,p,_){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mb(this),this.idTokenSubscription=new mb(this),this.beforeStateQueue=new en(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,d){var p=this;return d&&(this._popupRedirectResolver=ze(d)),this._initializationPromise=this.queue((0,b.Z)(function*(){var _,v;if(!p._deleted&&(p.persistenceManager=yield gn.create(p,u),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(v=p.currentUser)||void 0===v?void 0:v.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,b.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUserFromIdToken(u){var d=this;return(0,b.Z)(function*(){try{const p=yield Bi(d,{idToken:u}),_=yield xe._fromGetAccountInfoResponse(d,p,u);yield d.directlySetCurrentUser(_)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),yield d.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var d=this;return(0,b.Z)(function*(){var p;if((0,we._isFirebaseServerApp)(d.app)){const R=d.app.settings.authIdToken;return R?new Promise(z=>{setTimeout(()=>d.initializeCurrentUserFromIdToken(R).then(z,z))}):d.directlySetCurrentUser(null)}const _=yield d.assertedPersistence.getCurrentUser();let v=_,T=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const R=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,z=v?._redirectEventId,de=yield d.tryRedirectSignIn(u);(!R||R===z)&&de?.user&&(v=de.user,T=!0)}if(!v)return d.directlySetCurrentUser(null);if(!v._redirectEventId){if(T)try{yield d.beforeStateQueue.runMiddleware(v)}catch(R){v=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(R))}return v?d.reloadAndSetCurrentUserOrClear(v):d.directlySetCurrentUser(null)}return te(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===v._redirectEventId?d.directlySetCurrentUser(v):d.reloadAndSetCurrentUserOrClear(v)})()}tryRedirectSignIn(u){var d=this;return(0,b.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,b.Z)(function*(){try{yield Pr(u)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function _a(){if(typeof navigator>"u")return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var u=this;return(0,b.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,b.Z)(function*(){if((0,we._isFirebaseServerApp)(d.app))return Promise.reject(Ne(d));const p=u?(0,U.m9)(u):null;return p&&te(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(u,d=!1){var p=this;return(0,b.Z)(function*(){if(!p._deleted)return u&&te(p.tenantId===u.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(u)),p.queue((0,b.Z)(function*(){yield p.directlySetCurrentUser(u),p.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,b.Z)(function*(){return(0,we._isFirebaseServerApp)(u.app)?Promise.reject(Ne(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var d=this;return(0,we._isFirebaseServerApp)(this.app)?Promise.reject(Ne(this)):this.queue((0,b.Z)(function*(){yield d.assertedPersistence.setPersistence(ze(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,b.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,b.Z)(function*(){const d=yield function zt(h){return kt.apply(this,arguments)}(u),p=new Bh(d);null===u.tenantId?u._projectPasswordPolicy=p:u._tenantPasswordPolicies[u.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new U.LL("auth","Firebase",u())}onAuthStateChanged(u,d,p){return this.registerStateListener(this.authStateSubscription,u,d,p)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,p){return this.registerStateListener(this.idTokenSubscription,u,d,p)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const p=this.onAuthStateChanged(()=>{p(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,b.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function S(h,u){return Q.apply(this,arguments)}(d,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var p=this;return(0,b.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,b.Z)(function*(){if(!d.redirectPersistenceManager){const p=u&&ze(u)||d._popupRedirectResolver;te(p,d,"argument-error"),d.redirectPersistenceManager=yield gn.create(d,[ze(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,b.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,b.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===u?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,b.Z)(function*(){if(u===d.currentUser)return d.queue((0,b.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,p,_){if(this._deleted)return()=>{};const v="function"==typeof d?d:d.next.bind(d);let T=!1;const R=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(R,this,"internal-error"),R.then(()=>{T||v(this.currentUser)}),"function"==typeof d){const z=u.addObserver(d,p,_);return()=>{T=!0,z()}}{const z=u.addObserver(d);return()=>{T=!0,z()}}}directlySetCurrentUser(u){var d=this;return(0,b.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=nt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,b.Z)(function*(){var d;const p={"X-Client-Version":u.clientVersion};u.app.options.appId&&(p["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const v=yield u._getAppCheckToken();return v&&(p["X-Firebase-AppCheck"]=v),p})()}_getAppCheckToken(){var u=this;return(0,b.Z)(function*(){var d;const p=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function tr(h,...u){er.logLevel<=_t.in.WARN&&er.warn(`Auth (${we.SDK_VERSION}): ${h}`,...u)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function Tt(h){return(0,U.m9)(h)}class mb{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,U.ne)(d=>this.observer=d)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dl={loadJS:()=>(0,b.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xm(h){return dl.loadJS(h)}function vb(h){return`__${h}${Math.floor(1e6*Math.random())}`}class Eb{constructor(u){this.type="recaptcha-enterprise",this.auth=Tt(u)}verify(u="verify",d=!1){var p=this;return(0,b.Z)(function*(){function v(){return v=(0,b.Z)(function*(R){if(!d){if(null==R.tenantId&&null!=R._agentRecaptchaConfig)return R._agentRecaptchaConfig.siteKey;if(null!=R.tenantId&&void 0!==R._tenantRecaptchaConfigs[R.tenantId])return R._tenantRecaptchaConfigs[R.tenantId].siteKey}return new Promise(function(){var z=(0,b.Z)(function*(de,ve){Lc(R,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ee=>{if(void 0!==Ee.recaptchaKey){const Kt=new ya(Ee);return null==R.tenantId?R._agentRecaptchaConfig=Kt:R._tenantRecaptchaConfigs[R.tenantId]=Kt,de(Kt.siteKey)}ve(new Error("recaptcha Enterprise site key undefined"))}).catch(Ee=>{ve(Ee)})});return function(de,ve){return z.apply(this,arguments)}}())}),v.apply(this,arguments)}function T(R,z,de){const ve=window.grecaptcha;ui(ve)?ve.enterprise.ready(()=>{ve.enterprise.execute(R,{action:u}).then(Ee=>{z(Ee)}).catch(()=>{z("NO_RECAPTCHA")})}):de(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((R,z)=>{(function _(R){return v.apply(this,arguments)})(p.auth).then(de=>{if(!d&&ui(window.grecaptcha))T(de,R,z);else{if(typeof window>"u")return void z(new Error("RecaptchaVerifier is only supported in browser"));let ve=function tM(){return dl.recaptchaEnterpriseScript}();0!==ve.length&&(ve+=de),xm(ve).then(()=>{T(de,R,z)}).catch(Ee=>{z(Ee)})}}).catch(de=>{z(de)})})})()}}function wb(h,u,d){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,b.Z)(function*(h,u,d,p=!1){const _=new Eb(h);let v;try{v=yield _.verify(d)}catch{v=yield _.verify(d,!0)}const T=Object.assign({},u);return Object.assign(T,p?{captchaResp:v}:{captchaResponse:v}),Object.assign(T,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(T,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),T})).apply(this,arguments)}function le(h,u,d,p){return km.apply(this,arguments)}function km(){return km=(0,b.Z)(function*(h,u,d,p){var _;if(null!==(_=h._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=yield wb(h,u,d,"getOobCode"===d);return p(h,v)}return p(h,u).catch(function(){var v=(0,b.Z)(function*(T){if("auth/missing-recaptcha-token"===T.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const R=yield wb(h,u,d,"getOobCode"===d);return p(h,R)}return Promise.reject(T)});return function(T){return v.apply(this,arguments)}}())}),km.apply(this,arguments)}function Bc(h){const u=h.indexOf(":");return u<0?"":h.substr(0,u+1)}function fl(h){if(!h)return null;const u=Number(h);return isNaN(u)?null:u}class Ta{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return an("not implemented")}_getIdTokenResponse(u){return an("not implemented")}_linkToIdToken(u,d){return an("not implemented")}_getReauthenticationResolver(u){return an("not implemented")}}function at(h,u){return jc.apply(this,arguments)}function jc(){return(jc=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:resetPassword",B(h,u))})).apply(this,arguments)}function mr(){return(mr=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Bm(h,u){return jm.apply(this,arguments)}function jm(){return(jm=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function $m(){return($m=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:update",B(h,u))})).apply(this,arguments)}function nM(h,u){return ae.apply(this,arguments)}function ae(){return(ae=(0,b.Z)(function*(h,u){return Xe(h,"POST","/v1/accounts:signInWithPassword",B(h,u))})).apply(this,arguments)}function Da(h,u){return $c.apply(this,arguments)}function $c(){return($c=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:sendOobCode",B(h,u))})).apply(this,arguments)}function Hc(){return(Hc=(0,b.Z)(function*(h,u){return Da(h,u)})).apply(this,arguments)}function Cb(h,u){return zc.apply(this,arguments)}function zc(){return(zc=(0,b.Z)(function*(h,u){return Da(h,u)})).apply(this,arguments)}function rM(h,u){return zm.apply(this,arguments)}function zm(){return(zm=(0,b.Z)(function*(h,u){return Da(h,u)})).apply(this,arguments)}function qm(){return(qm=(0,b.Z)(function*(h,u){return Da(h,u)})).apply(this,arguments)}function Fo(){return(Fo=(0,b.Z)(function*(h,u){return Xe(h,"POST","/v1/accounts:signInWithEmailLink",B(h,u))})).apply(this,arguments)}function Aa(){return(Aa=(0,b.Z)(function*(h,u){return Xe(h,"POST","/v1/accounts:signInWithEmailLink",B(h,u))})).apply(this,arguments)}class qc extends Ta{constructor(u,d,p,_=null){super("password",p),this._email=u,this._password=d,this._tenantId=_}static _fromEmailAndPassword(u,d){return new qc(u,d,"password")}static _fromEmailAndCode(u,d,p=null){return new qc(u,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,b.Z)(function*(){switch(d.signInMethod){case"password":return le(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",nM);case"emailLink":return function sM(h,u){return Fo.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:It(u,"internal-error")}})()}_linkToIdToken(u,d){var p=this;return(0,b.Z)(function*(){switch(p.signInMethod){case"password":return le(u,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bm);case"emailLink":return function jh(h,u){return Aa.apply(this,arguments)}(u,{idToken:d,email:p._email,oobCode:p._password});default:It(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Ms(h,u){return $h.apply(this,arguments)}function $h(){return($h=(0,b.Z)(function*(h,u){return Xe(h,"POST","/v1/accounts:signInWithIdp",B(h,u))})).apply(this,arguments)}class Mr extends Ta{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new Mr(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):It("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_}=d,v=(0,on._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const T=new Mr(p,_);return T.idToken=v.idToken||void 0,T.accessToken=v.accessToken||void 0,T.secret=v.secret,T.nonce=v.nonce,T.pendingToken=v.pendingToken||null,T}_getIdTokenResponse(u){return Ms(u,this.buildRequest())}_linkToIdToken(u,d){const p=this.buildRequest();return p.idToken=d,Ms(u,p)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ms(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,U.xO)(d)}return u}}function is(){return(is=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:sendVerificationCode",B(h,u))})).apply(this,arguments)}function W(){return(W=(0,b.Z)(function*(h,u){return Xe(h,"POST","/v1/accounts:signInWithPhoneNumber",B(h,u))})).apply(this,arguments)}function fe(){return(fe=(0,b.Z)(function*(h,u){const d=yield Xe(h,"POST","/v1/accounts:signInWithPhoneNumber",B(h,u));if(d.temporaryProof)throw $n(h,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const pl={USER_NOT_FOUND:"user-not-found"};function Lo(){return(Lo=(0,b.Z)(function*(h,u){return Xe(h,"POST","/v1/accounts:signInWithPhoneNumber",B(h,Object.assign(Object.assign({},u),{operation:"REAUTH"})),pl)})).apply(this,arguments)}class Vo extends Ta{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new Vo({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new Vo({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function Tb(h,u){return W.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function Wm(h,u){return fe.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Hh(h,u){return Lo.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}=u;return p||d||_||v?new Vo({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}):null}}class di{constructor(u){var d,p,_,v,T,R;const z=(0,U.zd)((0,U.pd)(u)),de=null!==(d=z.apiKey)&&void 0!==d?d:null,ve=null!==(p=z.oobCode)&&void 0!==p?p:null,Ee=function Db(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=z.mode)&&void 0!==_?_:null);te(de&&ve&&Ee,"argument-error"),this.apiKey=de,this.operation=Ee,this.code=ve,this.continueUrl=null!==(v=z.continueUrl)&&void 0!==v?v:null,this.languageCode=null!==(T=z.languageCode)&&void 0!==T?T:null,this.tenantId=null!==(R=z.tenantId)&&void 0!==R?R:null}static parseLink(u){const d=function Ab(h){const u=(0,U.zd)((0,U.pd)(h)).link,d=u?(0,U.zd)((0,U.pd)(u)).deep_link_id:null,p=(0,U.zd)((0,U.pd)(h)).deep_link_id;return(p?(0,U.zd)((0,U.pd)(p)).link:null)||p||d||u||h}(u);try{return new di(d)}catch{return null}}}let zr=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(d,p){return qc._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=di.parseLink(p);return te(_,"argument-error"),qc._fromEmailAndCode(d,_.code,_.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class Gn{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class lt extends Gn{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Rs extends lt{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return te("providerId"in d&&"signInMethod"in d,"argument-error"),Mr._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return te(u.idToken||u.accessToken,"argument-error"),Mr._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Rs.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Rs.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:v,nonce:T,providerId:R}=u;if(!p&&!_&&!d&&!v||!R)return null;try{return new Rs(R)._credential({idToken:d,accessToken:p,nonce:T,pendingToken:v})}catch{return null}}}let gl=(()=>{class h extends lt{constructor(){super("facebook.com")}static credential(d){return Mr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return h.credential(d.oauthAccessToken)}catch{return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),ml=(()=>{class h extends lt{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return Mr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),qh=(()=>{class h extends lt{constructor(){super("github.com")}static credential(d){return Mr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return h.credential(d.oauthAccessToken)}catch{return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class ss extends Ta{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Ms(u,this.buildRequest())}_linkToIdToken(u,d){const p=this.buildRequest();return p.idToken=d,Ms(u,p)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ms(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_,pendingToken:v}=d;return p&&_&&v&&p===_?new ss(p,v):null}static _create(u,d){return new ss(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gc extends Gn{constructor(u){te(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Gc.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Gc.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=ss.fromJSON(u);return te(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:p}=u;if(!d||!p)return null;try{return ss._create(p,d)}catch{return null}}}let _l=(()=>{class h extends lt{constructor(){super("twitter.com")}static credential(d,p){return Mr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function Gh(h,u){return yl.apply(this,arguments)}function yl(){return(yl=(0,b.Z)(function*(h,u){return Xe(h,"POST","/v1/accounts:signUp",B(h,u))})).apply(this,arguments)}class _r{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,p,_=!1){return(0,b.Z)(function*(){const v=yield xe._fromIdTokenResponse(u,p,_),T=Wh(p);return new _r({user:v,providerId:T,_tokenResponse:p,operationType:d})})()}static _forOperation(u,d,p){return(0,b.Z)(function*(){yield u._updateTokensIfNecessary(p,!0);const _=Wh(p);return new _r({user:u,providerId:_,_tokenResponse:p,operationType:d})})()}}function Wh(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function Kh(){return(Kh=(0,b.Z)(function*(h){var u;if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Ne(h));const d=Tt(h);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new _r({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Gh(d,{returnSecureToken:!0}),_=yield _r._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class Wc extends U.ZR{constructor(u,d,p,_){var v;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:u.name,tenantId:null!==(v=u.tenantId)&&void 0!==v?v:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(u,d,p,_){return new Wc(u,d,p,_)}}function Qm(h,u,d,p){return("reauthenticate"===u?d._getReauthenticationResolver(h):d._getIdTokenResponse(h)).catch(v=>{throw"auth/multi-factor-auth-required"===v.code?Wc._fromErrorAndOperation(h,v,u,p):v})}function Ym(h){return new Set(h.map(({providerId:u})=>u).filter(u=>!!u))}function Zh(){return Zh=(0,b.Z)(function*(h,u){const d=(0,U.m9)(h);yield El(!0,d,u);const{providerUserInfo:p}=yield function Ti(h,u){return Di.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),_=Ym(p||[]);return d.providerData=d.providerData.filter(v=>_.has(v.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Zh.apply(this,arguments)}function vl(h,u){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,b.Z)(function*(h,u,d=!1){const p=yield Hr(h,u._linkToIdToken(h.auth,yield h.getIdToken()),d);return _r._forOperation(h,"link",p)})).apply(this,arguments)}function El(h,u,d){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,b.Z)(function*(h,u,d){yield Pr(u);const _=!1===h?"provider-already-linked":"no-such-provider";te(Ym(u.providerData).has(d)===h,u.auth,_)})).apply(this,arguments)}function Jm(h,u){return wl.apply(this,arguments)}function wl(){return(wl=(0,b.Z)(function*(h,u,d=!1){const{auth:p}=h;if((0,we._isFirebaseServerApp)(p.app))return Promise.reject(Ne(p));const _="reauthenticate";try{const v=yield Hr(h,Qm(p,_,u,h),d);te(v.idToken,p,"internal-error");const T=xo(v.idToken);te(T,p,"internal-error");const{sub:R}=T;return te(h.uid===R,p,"user-mismatch"),_r._forOperation(h,_,v)}catch(v){throw"auth/user-not-found"===v?.code&&It(p,"user-mismatch"),v}})).apply(this,arguments)}function Xm(h,u){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,b.Z)(function*(h,u,d=!1){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Ne(h));const p="signIn",_=yield Qm(h,p,u),v=yield _r._fromIdTokenResponse(h,p,_);return d||(yield h._updateCurrentUser(v.user)),v})).apply(this,arguments)}function bl(h,u){return qr.apply(this,arguments)}function qr(){return(qr=(0,b.Z)(function*(h,u){return Xm(Tt(h),u)})).apply(this,arguments)}function e_(h,u){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,b.Z)(function*(h,u){const d=(0,U.m9)(h);return yield El(!1,d,u.providerId),vl(d,u)})).apply(this,arguments)}function t_(h,u){return In.apply(this,arguments)}function In(){return(In=(0,b.Z)(function*(h,u){return Jm((0,U.m9)(h),u)})).apply(this,arguments)}function Cl(){return(Cl=(0,b.Z)(function*(h,u){return Xe(h,"POST","/v1/accounts:signInWithCustomToken",B(h,u))})).apply(this,arguments)}function yr(){return yr=(0,b.Z)(function*(h,u){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Ne(h));const d=Tt(h),p=yield function Sb(h,u){return Cl.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),_=yield _r._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),yr.apply(this,arguments)}class ct{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?kn._fromServerResponse(u,d):"totpInfo"in d?nr._fromServerResponse(u,d):It(u,"internal-error")}}class kn extends ct{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new kn(d)}}class nr extends ct{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new nr(d)}}function xs(h,u,d){var p;te((null===(p=d.url)||void 0===p?void 0:p.length)>0,h,"invalid-continue-uri"),te(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(te(d.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(te(d.android.packageName.length>0,h,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Rr(h){return Il.apply(this,arguments)}function Il(){return(Il=(0,b.Z)(function*(h){const u=Tt(h);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Sa(){return(Sa=(0,b.Z)(function*(h,u,d){const p=Tt(h),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&xs(p,_,d),yield le(p,_,"getOobCode",Cb)})).apply(this,arguments)}function ef(){return ef=(0,b.Z)(function*(h,u,d){yield at((0,U.m9)(h),{oobCode:u,newPassword:d}).catch(function(){var p=(0,b.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Rr(h),_});return function(_){return p.apply(this,arguments)}}())}),ef.apply(this,arguments)}function me(){return me=(0,b.Z)(function*(h,u){yield function qt(h,u){return $m.apply(this,arguments)}((0,U.m9)(h),{oobCode:u})}),me.apply(this,arguments)}function We(h,u){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,b.Z)(function*(h,u){const d=(0,U.m9)(h),p=yield at(d,{oobCode:u}),_=p.requestType;switch(te(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(p.mfaInfo,d,"internal-error");default:te(p.email,d,"internal-error")}let v=null;return p.mfaInfo&&(v=ct._fromServerResponse(Tt(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:v},operation:_}})).apply(this,arguments)}function Uo(){return(Uo=(0,b.Z)(function*(h,u){const{data:d}=yield We((0,U.m9)(h),u);return d.email})).apply(this,arguments)}function Qs(){return(Qs=(0,b.Z)(function*(h,u,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Ne(h));const p=Tt(h),T=yield le(p,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gh).catch(z=>{throw"auth/password-does-not-meet-requirements"===z.code&&Rr(h),z}),R=yield _r._fromIdTokenResponse(p,"signIn",T);return yield p._updateCurrentUser(R.user),R})).apply(this,arguments)}function Js(){return(Js=(0,b.Z)(function*(h,u,d){const p=Tt(h),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function v(T,R){te(R.handleCodeInApp,p,"argument-error"),R&&xs(p,T,R)})(_,d),yield le(p,_,"getOobCode",rM)})).apply(this,arguments)}function Tl(){return(Tl=(0,b.Z)(function*(h,u,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Ne(h));const p=(0,U.m9)(h),_=zr.credentialWithLink(u,d||ci());return te(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),bl(p,_)})).apply(this,arguments)}function cn(){return(cn=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:createAuthUri",B(h,u))})).apply(this,arguments)}function Xs(){return Xs=(0,b.Z)(function*(h,u){const p={identifier:u,continueUri:Ii()?ci():"http://localhost"},{signinMethods:_}=yield function Pa(h,u){return cn.apply(this,arguments)}((0,U.m9)(h),p);return _||[]}),Xs.apply(this,arguments)}function Bo(){return Bo=(0,b.Z)(function*(h,u){const d=(0,U.m9)(h),_={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};u&&xs(d.auth,_,u);const{email:v}=yield function Hm(h,u){return Hc.apply(this,arguments)}(d.auth,_);v!==h.email&&(yield h.reload())}),Bo.apply(this,arguments)}function as(){return as=(0,b.Z)(function*(h,u,d){const p=(0,U.m9)(h),v={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:u};d&&xs(p.auth,v,d);const{email:T}=yield function iM(h,u){return qm.apply(this,arguments)}(p.auth,v);T!==h.email&&(yield h.reload())}),as.apply(this,arguments)}function jo(){return(jo=(0,b.Z)(function*(h,u){return oe(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function rt(){return rt=(0,b.Z)(function*(h,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const p=(0,U.m9)(h),v={idToken:yield p.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},T=yield Hr(p,function Ns(h,u){return jo.apply(this,arguments)}(p.auth,v));p.displayName=T.displayName||null,p.photoURL=T.photoUrl||null;const R=p.providerData.find(({providerId:z})=>"password"===z);R&&(R.displayName=p.displayName,R.photoURL=p.photoURL),yield p._updateTokensIfNecessary(T)}),rt.apply(this,arguments)}function nf(h,u,d){return Si.apply(this,arguments)}function Si(){return Si=(0,b.Z)(function*(h,u,d){const{auth:p}=h,v={idToken:yield h.getIdToken(),returnSecureToken:!0};u&&(v.email=u),d&&(v.password=d);const T=yield Hr(h,function Um(h,u){return mr.apply(this,arguments)}(p,v));yield h._updateTokensIfNecessary(T,!0)}),Si.apply(this,arguments)}class Hi{constructor(u,d,p={}){this.isNewUser=u,this.providerId=d,this.profile=p}}class Ma extends Hi{constructor(u,d,p,_){super(u,d,p),this.username=_}}class rr extends Hi{constructor(u,d){super(u,"facebook.com",d)}}class aM extends Ma{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Gr extends Hi{constructor(u,d){super(u,"google.com",d)}}class Or extends Ma{constructor(u,d,p){super(u,"twitter.com",d,p)}}function rf(h){const{user:u,_tokenResponse:d}=h;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function Dl(h){var u,d;if(!h)return null;const{providerId:p}=h,_=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},v=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!p&&h?.idToken){const T=null===(d=null===(u=xo(h.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(T)return new Hi(v,"anonymous"!==T&&"custom"!==T?T:null)}if(!p)return null;switch(p){case"facebook.com":return new rr(v,_);case"github.com":return new aM(v,_);case"google.com":return new Gr(v,_);case"twitter.com":return new Or(v,_,h.screenName||null);case"custom":case"anonymous":return new Hi(v,null);default:return new Hi(v,p,_)}}(d)}class Oa{constructor(u,d,p){this.type=u,this.credential=d,this.user=p}static _fromIdtoken(u,d){return new Oa("enroll",u,d)}static _fromMfaPendingCredential(u){return new Oa("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,p;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Oa._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(p=u.multiFactorSession)&&void 0!==p&&p.idToken)return Oa._fromIdtoken(u.multiFactorSession.idToken)}return null}}class s_{constructor(u,d,p){this.session=u,this.hints=d,this.signInResolver=p}static _fromError(u,d){const p=Tt(u),_=d.customData._serverResponse,v=(_.mfaInfo||[]).map(R=>ct._fromServerResponse(p,R));te(_.mfaPendingCredential,p,"internal-error");const T=Oa._fromMfaPendingCredential(_.mfaPendingCredential);return new s_(T,v,function(){var R=(0,b.Z)(function*(z){const de=yield z._process(p,T);delete _.mfaInfo,delete _.mfaPendingCredential;const ve=Object.assign(Object.assign({},_),{idToken:de.idToken,refreshToken:de.refreshToken});switch(d.operationType){case"signIn":const Ee=yield _r._fromIdTokenResponse(p,d.operationType,ve);return yield p._updateCurrentUser(Ee.user),Ee;case"reauthenticate":return te(d.user,p,"internal-error"),_r._forOperation(d.user,d.operationType,ve);default:It(p,"internal-error")}});return function(z){return R.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,b.Z)(function*(){return d.signInResolver(u)})()}}class Al{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>ct._fromServerResponse(u.auth,p)))})}static _fromUser(u){return new Al(u)}getSession(){var u=this;return(0,b.Z)(function*(){return Oa._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var p=this;return(0,b.Z)(function*(){const _=u,v=yield p.getSession(),T=yield Hr(p.user,_._process(p.user.auth,v,d));return yield p.user._updateTokensIfNecessary(T),p.user.reload()})()}unenroll(u){var d=this;return(0,b.Z)(function*(){const p="string"==typeof u?u:u.uid,_=yield d.user.getIdToken();try{const v=yield Hr(d.user,function pM(h,u){return oe(h,"POST","/v2/accounts/mfaEnrollment:withdraw",B(h,u))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:T})=>T!==p),yield d.user._updateTokensIfNecessary(v),yield d.user.reload()}catch(v){throw v}})()}}const Sl=new WeakMap,af="__sak";class Ob{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pn=(()=>{class h extends Ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $o(){const h=(0,U.z$)();return Uc(h)||k(h)}()&&function Ge(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),v=this.localCache[p];_!==v&&d(p,v,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((R,z,de)=>{this.notifyListeners(R,de)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const R=this.storage.getItem(_);if(d.newValue!==R)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const v=()=>{const R=this.storage.getItem(_);!p&&this.localCache[_]===R||this.notifyListeners(_,R)},T=this.storage.getItem(_);!function Y(){return(0,U.w1)()&&10===document.documentMode}()||T===d.newValue||d.newValue===d.oldValue?v():setTimeout(v,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,v=this;return(0,b.Z)(function*(){yield _().call(v,d,p),v.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,b.Z)(function*(){const v=yield p().call(_,d);return _.localCache[d]=JSON.stringify(v),v})()}_remove(d){var p=()=>super._remove,_=this;return(0,b.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return h.type="LOCAL",h})(),Fn=(()=>{class h extends Ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return h.type="SESSION",h})();let a_=(()=>{class h{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(v=>v.isListeningto(d));if(p)return p;const _=new h(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,b.Z)(function*(){const _=d,{eventId:v,eventType:T,data:R}=_.data,z=p.handlersMap[T];if(!z?.size)return;_.ports[0].postMessage({status:"ack",eventId:v,eventType:T});const de=Array.from(z).map(function(){var Ee=(0,b.Z)(function*(Kt){return Kt(_.origin,R)});return function(Kt){return Ee.apply(this,arguments)}}()),ve=yield function o_(h){return Promise.all(h.map(function(){var u=(0,b.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return u.apply(this,arguments)}}()))}(de);_.ports[0].postMessage({status:"done",eventId:v,eventType:T,response:ve})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function xa(h="",u=10){let d="";for(let p=0;p<u;p++)d+=Math.floor(10*Math.random());return h+d}class c_{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,p=50){var _=this;return(0,b.Z)(function*(){const v=typeof MessageChannel<"u"?new MessageChannel:null;if(!v)throw new Error("connection_unavailable");let T,R;return new Promise((z,de)=>{const ve=xa("",20);v.port1.start();const Ee=setTimeout(()=>{de(new Error("unsupported_event"))},p);R={messageChannel:v,onMessage(Kt){const Oi=Kt;if(Oi.data.eventId===ve)switch(Oi.data.status){case"ack":clearTimeout(Ee),T=setTimeout(()=>{de(new Error("timeout"))},3e3);break;case"done":clearTimeout(T),z(Oi.data.response);break;default:clearTimeout(Ee),clearTimeout(T),de(new Error("invalid_response"))}}},_.handlers.add(R),v.port1.addEventListener("message",R.onMessage),_.target.postMessage({eventType:u,eventId:ve,data:d},[v.port2])}).finally(()=>{R&&_.removeMessageHandler(R)})})()}}function _n(){return window}function Jc(){return typeof _n().WorkerGlobalScope<"u"&&"function"==typeof _n().importScripts}function Pl(){return(Pl=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xc="firebaseLocalStorageDb",ks="firebaseLocalStorage",lf="fbase_key";class Ml{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function df(h,u){return h.transaction([ks],u?"readwrite":"readonly").objectStore(ks)}function hf(){const h=indexedDB.open(Xc,1);return new Promise((u,d)=>{h.addEventListener("error",()=>{d(h.error)}),h.addEventListener("upgradeneeded",()=>{const p=h.result;try{p.createObjectStore(ks,{keyPath:lf})}catch(_){d(_)}}),h.addEventListener("success",(0,b.Z)(function*(){const p=h.result;p.objectStoreNames.contains(ks)?u(p):(p.close(),yield function _M(){const h=indexedDB.deleteDatabase(Xc);return new Ml(h).toPromise()}(),u(yield hf()))}))})}function h_(h,u,d){return f_.apply(this,arguments)}function f_(){return(f_=(0,b.Z)(function*(h,u,d){const p=df(h,!0).put({[lf]:u,value:d});return new Ml(p).toPromise()})).apply(this,arguments)}function tu(){return(tu=(0,b.Z)(function*(h,u){const d=df(h,!1).get(u),p=yield new Ml(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function g_(h,u){const d=df(h,!0).delete(u);return new Ml(d).toPromise()}const Na=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,b.Z)(function*(){return d.db||(d.db=yield hf()),d.db})()}_withRetries(d){var p=this;return(0,b.Z)(function*(){let _=0;for(;;)try{const v=yield p._openDb();return yield d(v)}catch(v){if(_++>3)throw v;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,b.Z)(function*(){return Jc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,b.Z)(function*(){d.receiver=a_._getInstance(function d_(){return Jc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,b.Z)(function*(_,v){return{keyProcessed:(yield d._poll()).includes(v.key)}});return function(_,v){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,b.Z)(function*(_,v){return["keyChanged"]});return function(_,v){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,b.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function uf(){return Pl.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new c_(d.activeServiceWorker);const v=yield d.sender._send("ping",{},800);v&&null!==(p=v[0])&&void 0!==p&&p.fulfilled&&null!==(_=v[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,b.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function l_(){var h;return(null===(h=navigator?.serviceWorker)||void 0===h?void 0:h.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const d=yield hf();return yield h_(d,af,"1"),yield g_(d,af),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,b.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,b.Z)(function*(){return _._withPendingWrite((0,b.Z)(function*(){return yield _._withRetries(v=>h_(v,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,b.Z)(function*(){const _=yield p._withRetries(v=>function p_(h,u){return tu.apply(this,arguments)}(v,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,b.Z)(function*(){return p._withPendingWrite((0,b.Z)(function*(){return yield p._withRetries(_=>g_(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,b.Z)(function*(){const p=yield d._withRetries(T=>{const R=df(T,!1).getAll();return new Ml(R).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],v=new Set;if(0!==p.length)for(const{fbase_key:T,value:R}of p)v.add(T),JSON.stringify(d.localCache[T])!==JSON.stringify(R)&&(d.notifyListeners(T,R),_.push(T));for(const T of Object.keys(d.localCache))d.localCache[T]&&!v.has(T)&&(d.notifyListeners(T,null),_.push(T));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})(),nu=1e12;class Fb{constructor(u){this.auth=u,this.counter=nu,this._widgets=new Map}render(u,d){const p=this.counter;return this._widgets.set(p,new y_(u,this.auth.name,d||{})),this.counter++,p}reset(u){var d;const p=u||nu;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(u){var d;return(null===(d=this._widgets.get(u||nu))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,b.Z)(function*(){var p;return null===(p=d._widgets.get(u||nu))||void 0===p||p.execute(),""})()}}class y_{constructor(u,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;te(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lb(h){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<h;p++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const v_=vb("rcb"),Vb=new F(3e4,6e4);class Wr{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=_n().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return te(function E_(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&$r(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((p,_)=>{const v=_n().setTimeout(()=>{_(Ot(u,"network-request-failed"))},Vb.get());_n()[v_]=()=>{_n().clearTimeout(v),delete _n()[v_];const R=_n().grecaptcha;if(!R||!$r(R))return void _(Ot(u,"internal-error"));const z=R.render;R.render=(de,ve)=>{const Ee=z(de,ve);return this.counter++,Ee},this.hostLanguage=d,p(R)},xm(`${function _b(){return dl.recaptchaV2Script}()}?${(0,U.xO)({onload:v_,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(v),_(Ot(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=_n().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ub{load(u){return(0,b.Z)(function*(){return new Fb(u)})()}clearedOneInstance(){}}const w_="recaptcha",b_={theme:"light",type:"image"};class C_{constructor(u,d,p=Object.assign({},b_)){this.parameters=p,this.type=w_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tt(u),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;te(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ub:new Wr,this.validateStartingState()}verify(){var u=this;return(0,b.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),p=u.getAssertedRecaptcha();return p.getResponse(d)||new Promise(v=>{const T=R=>{R&&(u.tokenChangeListeners.delete(T),v(R))};u.tokenChangeListeners.add(T),u.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof u)u(d);else if("string"==typeof u){const p=_n()[u];"function"==typeof p&&p(d)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,b.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,b.Z)(function*(){te(Ii()&&!Jc(),u.auth,"internal-error"),yield function Bb(){let h=null;return new Promise(u=>{"complete"!==document.readyState?(h=()=>u(),window.addEventListener("load",h)):u()}).catch(u=>{throw h&&window.removeEventListener("load",h),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Mo(h){return Cn.apply(this,arguments)}(u.auth);te(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ru{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=Vo._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Pi(){return(Pi=(0,b.Z)(function*(h,u,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Ne(h));const p=Tt(h),_=yield Ho(p,u,(0,U.m9)(d));return new ru(_,v=>bl(p,v))})).apply(this,arguments)}function Rl(){return(Rl=(0,b.Z)(function*(h,u,d){const p=(0,U.m9)(h);yield El(!1,p,"phone");const _=yield Ho(p.auth,u,(0,U.m9)(d));return new ru(_,v=>e_(p,v))})).apply(this,arguments)}function iu(){return(iu=(0,b.Z)(function*(h,u,d){const p=(0,U.m9)(h);if((0,we._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ne(p.auth));const _=yield Ho(p.auth,u,(0,U.m9)(d));return new ru(_,v=>t_(p,v))})).apply(this,arguments)}function Ho(h,u,d){return Er.apply(this,arguments)}function Er(){return Er=(0,b.Z)(function*(h,u,d){var p;const _=yield d.verify();try{let v;if(te("string"==typeof _,h,"argument-error"),te(d.type===w_,h,"argument-error"),v="string"==typeof u?{phoneNumber:u}:u,"session"in v){const T=v.session;if("phoneNumber"in v)return te("enroll"===T.type,h,"internal-error"),(yield function dM(h,u){return oe(h,"POST","/v2/accounts/mfaEnrollment:start",B(h,u))}(h,{idToken:T.credential,phoneEnrollmentInfo:{phoneNumber:v.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{te("signin"===T.type,h,"internal-error");const R=(null===(p=v.multiFactorHint)||void 0===p?void 0:p.uid)||v.multiFactorUid;return te(R,h,"missing-multi-factor-info"),(yield function m_(h,u){return oe(h,"POST","/v2/accounts/mfaSignIn:start",B(h,u))}(h,{mfaPendingCredential:T.credential,mfaEnrollmentId:R,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:T}=yield function Ib(h,u){return is.apply(this,arguments)}(h,{phoneNumber:v.phoneNumber,recaptchaToken:_});return T}}finally{d._reset()}}),Er.apply(this,arguments)}function Ol(){return(Ol=(0,b.Z)(function*(h,u){const d=(0,U.m9)(h);if((0,we._isFirebaseServerApp)(d.auth.app))return Promise.reject(Ne(d.auth));yield vl(d,u)})).apply(this,arguments)}let us=(()=>{class h{constructor(d){this.providerId=h.PROVIDER_ID,this.auth=Tt(d)}verifyPhoneNumber(d,p){return Ho(this.auth,d,(0,U.m9)(p))}static credential(d,p){return Vo._fromVerification(d,p)}static credentialFromResult(d){return h.credentialFromTaggedObject(d)}static credentialFromError(d){return h.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Vo._fromTokenResponse(p,_):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function Ln(h,u){return u?ze(u):(te(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class pf extends Ta{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Ms(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Ms(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Ms(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Hb(h){return Xm(h.auth,new pf(h),h.bypassAuthState)}function zb(h){const{auth:u,user:d}=h;return te(d,u,"internal-error"),Jm(d,new pf(h),h.bypassAuthState)}function to(h){return xl.apply(this,arguments)}function xl(){return(xl=(0,b.Z)(function*(h){const{auth:u,user:d}=h;return te(d,u,"internal-error"),vl(d,new pf(h),h.bypassAuthState)})).apply(this,arguments)}class T_{constructor(u,d,p,_,v=!1){this.auth=u,this.resolver=p,this.user=_,this.bypassAuthState=v,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,b.Z)(function*(p,_){u.pendingPromise={resolve:p,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(v){u.reject(v)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,b.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:v,tenantId:T,error:R,type:z}=u;if(R)return void d.reject(R);const de={auth:d.auth,requestUri:p,sessionId:_,tenantId:T||void 0,postBody:v||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(z)(de))}catch(ve){d.reject(ve)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Hb;case"linkViaPopup":case"linkViaRedirect":return to;case"reauthViaPopup":case"reauthViaRedirect":return zb;default:It(this.auth,"internal-error")}}resolve(u){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const D_=new F(2e3,1e4);function Nl(){return(Nl=(0,b.Z)(function*(h,u,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Ot(h,"operation-not-supported-in-this-environment"));const p=Tt(h);bn(h,u,Gn);const _=Ln(p,d);return new gf(p,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function Le(){return(Le=(0,b.Z)(function*(h,u,d){const p=(0,U.m9)(h);if((0,we._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ot(p.auth,"operation-not-supported-in-this-environment"));bn(p.auth,u,Gn);const _=Ln(p.auth,d);return new gf(p.auth,"reauthViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}function P_(){return(P_=(0,b.Z)(function*(h,u,d){const p=(0,U.m9)(h);bn(p.auth,u,Gn);const _=Ln(p.auth,d);return new gf(p.auth,"linkViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}let gf=(()=>{class h extends T_{constructor(d,p,_,v,T){super(d,p,v,T),this.provider=_,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var d=this;return(0,b.Z)(function*(){const p=yield d.execute();return te(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,b.Z)(function*(){Qt(1===d.filter.length,"Popup operations only handle one event");const p=xa();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Ot(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ot(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,D_.get())};d()}}return h.currentPopupAction=null,h})();const Gb="pendingRedirect",su=new Map;class M_ extends T_{constructor(u,d,p=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,b.Z)(function*(){let p=su.get(d.auth._key());if(!p){try{const v=(yield function ka(h,u){return mf.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;p=()=>Promise.resolve(v)}catch(_){p=()=>Promise.reject(_)}su.set(d.auth._key(),p)}return d.bypassAuthState||su.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,p=this;return(0,b.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(p,u);if("unknown"!==u.type){if(u.eventId){const _=yield p.auth._redirectUserForId(u.eventId);if(_)return p.user=_,d().call(p,u);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function mf(){return(mf=(0,b.Z)(function*(h,u){const d=ht(u),p=X(h);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function _f(h,u){return yf.apply(this,arguments)}function yf(){return(yf=(0,b.Z)(function*(h,u){return X(h)._set(ht(u),"true")})).apply(this,arguments)}function vf(h,u){su.set(h._key(),u)}function X(h){return ze(h._redirectPersistence)}function ht(h){return ye(Gb,h.config.apiKey,h.name)}function ir(h,u,d){return function sr(h,u,d){return Vn.apply(this,arguments)}(h,u,d)}function Vn(){return(Vn=(0,b.Z)(function*(h,u,d){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Ne(h));const p=Tt(h);bn(h,u,Gn),yield p._initializationPromise;const _=Ln(p,d);return yield _f(_,p),_._openRedirect(p,u,"signInViaRedirect")})).apply(this,arguments)}function R_(h,u,d){return function ou(h,u,d){return Mi.apply(this,arguments)}(h,u,d)}function Mi(){return(Mi=(0,b.Z)(function*(h,u,d){const p=(0,U.m9)(h);if(bn(p.auth,u,Gn),(0,we._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ne(p.auth));yield p.auth._initializationPromise;const _=Ln(p.auth,d);yield _f(_,p.auth);const v=yield Cf(p);return _._openRedirect(p.auth,u,"reauthViaRedirect",v)})).apply(this,arguments)}function Ef(h,u,d){return function wf(h,u,d){return bf.apply(this,arguments)}(h,u,d)}function bf(){return(bf=(0,b.Z)(function*(h,u,d){const p=(0,U.m9)(h);bn(p.auth,u,Gn),yield p.auth._initializationPromise;const _=Ln(p.auth,d);yield El(!1,p,u.providerId),yield _f(_,p.auth);const v=yield Cf(p);return _._openRedirect(p.auth,u,"linkViaRedirect",v)})).apply(this,arguments)}function kl(){return(kl=(0,b.Z)(function*(h,u){return yield Tt(h)._initializationPromise,Wn(h,u,!1)})).apply(this,arguments)}function Wn(h,u){return zi.apply(this,arguments)}function zi(){return(zi=(0,b.Z)(function*(h,u,d=!1){if((0,we._isFirebaseServerApp)(h.app))return Promise.reject(Ne(h));const p=Tt(h),_=Ln(p,u),T=yield new M_(p,_,d).execute();return T&&!d&&(delete T.user._redirectEventId,yield p._persistUserIfCurrent(T.user),yield p._setRedirectUser(null,u)),T})).apply(this,arguments)}function Cf(h){return no.apply(this,arguments)}function no(){return(no=(0,b.Z)(function*(h){const u=xa(`${h.uid}:::`);return h._redirectEventId=u,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),u})).apply(this,arguments)}class O_{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(u,p)&&(d=!0,this.sendToConsumer(u,p),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Kb(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x_(h);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var p;if(u.error&&!x_(u)){const _=(null===(p=u.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Ot(this.auth,_))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const p=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&p}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(If(u))}saveEventToCache(u){this.cachedEventUids.add(If(u)),this.lastProcessedEventTime=Date.now()}}function If(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(u=>u).join("-")}function x_({type:h,error:u}){return"unknown"===h&&"auth/no-auth-event"===u?.code}function Fl(h){return au.apply(this,arguments)}function au(){return(au=(0,b.Z)(function*(h,u={}){return oe(h,"GET","/v1/projects",u)})).apply(this,arguments)}const N_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tf=/^https?/;function Ll(){return(Ll=(0,b.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:u}=yield Fl(h);for(const d of u)try{if(Df(d))return}catch{}It(h,"unauthorized-domain")})).apply(this,arguments)}function Df(h){const u=ci(),{protocol:d,hostname:p}=new URL(u);if(h.startsWith("chrome-extension://")){const T=new URL(h);return""===T.hostname&&""===p?"chrome-extension:"===d&&h.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&T.hostname===p}if(!Tf.test(d))return!1;if(N_.test(h))return p===h;const _=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const k_=new F(3e4,6e4);function Af(){const h=_n().___jsl;if(h?.H)for(const u of Object.keys(h.H))if(h.H[u].r=h.H[u].r||[],h.H[u].L=h.H[u].L||[],h.H[u].r=[...h.H[u].L],h.CP)for(let d=0;d<h.CP.length;d++)h.CP[d]=null}let cu=null;const Qb=new F(5e3,15e3),Yb="__/auth/iframe",xr="emulator/auth/iframe",zo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},un=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jb(h){const u=h.config;te(u.authDomain,h,"auth-domain-config-required");const d=u.emulator?V(u,xr):`https://${h.config.authDomain}/${Yb}`,p={apiKey:u.apiKey,appName:h.name,v:we.SDK_VERSION},_=un.get(h.config.apiHost);_&&(p.eid=_);const v=h._getFrameworks();return v.length&&(p.fw=v.join(",")),`${d}?${(0,U.xO)(p).slice(1)}`}function Pf(){return Pf=(0,b.Z)(function*(h){const u=yield function Sf(h){return cu=cu||function F_(h){return new Promise((u,d)=>{var p,_,v;function T(){Af(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Af(),d(Ot(h,"network-request-failed"))},timeout:k_.get()})}if(null!==(_=null===(p=_n().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(v=_n().gapi)||void 0===v||!v.load){const R=vb("iframefcb");return _n()[R]=()=>{gapi.load?T():d(Ot(h,"network-request-failed"))},xm(`${function yb(){return dl.gapiScript}()}?onload=${R}`).catch(z=>d(z))}T()}}).catch(u=>{throw cu=null,u})}(h),cu}(h),d=_n().gapi;return te(d,h,"internal-error"),u.open({where:document.body,url:Jb(h),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zo,dontclear:!0},p=>new Promise(function(){var _=(0,b.Z)(function*(v,T){yield p.restyle({setHideOnLeave:!1});const R=Ot(h,"network-request-failed"),z=_n().setTimeout(()=>{T(R)},Qb.get());function de(){_n().clearTimeout(z),v(p)}p.ping(de).then(de,()=>{T(R)})});return function(v,T){return _.apply(this,arguments)}}()))}),Pf.apply(this,arguments)}const eC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class U_{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jl="__/auth/handler",Mf="emulator/auth/handler",B_=encodeURIComponent("fac");function $l(h,u,d,p,_,v){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,b.Z)(function*(h,u,d,p,_,v){te(h.config.authDomain,h,"auth-domain-config-required"),te(h.config.apiKey,h,"invalid-api-key");const T={apiKey:h.config.apiKey,appName:h.name,authType:d,redirectUrl:p,v:we.SDK_VERSION,eventId:_};if(u instanceof Gn){u.setDefaultLanguage(h.languageCode),T.providerId=u.providerId||"",(0,U.xb)(u.getCustomParameters())||(T.customParameters=JSON.stringify(u.getCustomParameters()));for(const[ve,Ee]of Object.entries(v||{}))T[ve]=Ee}if(u instanceof lt){const ve=u.getScopes().filter(Ee=>""!==Ee);ve.length>0&&(T.scopes=ve.join(","))}h.tenantId&&(T.tid=h.tenantId);const R=T;for(const ve of Object.keys(R))void 0===R[ve]&&delete R[ve];const z=yield h._getAppCheckToken(),de=z?`#${B_}=${encodeURIComponent(z)}`:"";return`${function Fa({config:h}){return h.emulator?V(h,Mf):`https://${h.authDomain}/${jl}`}(h)}?${(0,U.xO)(R).slice(1)}${de}`})).apply(this,arguments)}const qo="webStorageSupport",nC=class tC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fn,this._completeRedirectFn=Wn,this._overrideRedirectResult=vf}_openPopup(u,d,p,_){var v=this;return(0,b.Z)(function*(){var T;Qt(null===(T=v.eventManagers[u._key()])||void 0===T?void 0:T.manager,"_initialize() not called before _openPopup()");const R=yield $l(u,d,p,ci(),_);return function Ul(h,u,d,p=500,_=600){const v=Math.max((window.screen.availHeight-_)/2,0).toString(),T=Math.max((window.screen.availWidth-p)/2,0).toString();let R="";const z=Object.assign(Object.assign({},eC),{width:p.toString(),height:_.toString(),top:v,left:T}),de=(0,U.z$)().toLowerCase();d&&(R=At(de)?"_blank":d),Zs(de)&&(u=u||"http://localhost",z.scrollbars="yes");const ve=Object.entries(z).reduce((Kt,[Oi,Ql])=>`${Kt}${Oi}=${Ql},`,"");if(function G(h=(0,U.z$)()){var u;return k(h)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(de)&&"_self"!==R)return function Bl(h,u){const d=document.createElement("a");d.href=h,d.target=u;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(u||"",R),new U_(null);const Ee=window.open(u||"",R,ve);te(Ee,h,"popup-blocked");try{Ee.focus()}catch{}return new U_(Ee)}(u,R,xa())})()}_openRedirect(u,d,p,_){var v=this;return(0,b.Z)(function*(){return yield v._originValidation(u),function u_(h){_n().location.href=h}(yield $l(u,d,p,ci(),_)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:_,promise:v}=this.eventManagers[d];return _?Promise.resolve(_):(Qt(v,"If manager is not set, promise should be"),v)}const p=this.initAndGetManager(u);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(u){var d=this;return(0,b.Z)(function*(){const p=yield function Xb(h){return Pf.apply(this,arguments)}(u),_=new O_(u);return p.register("authEvent",v=>(te(v?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(v.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:_},d.iframes[u._key()]=p,_})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(qo,{type:qo},_=>{var v;const T=null===(v=_?.[0])||void 0===v?void 0:v[qo];void 0!==T&&d(!!T),It(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Zb(h){return Ll.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return ge()||Uc()||k()}};class Of{constructor(u){this.factorId=u}_process(u,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,p);case"signin":return this._finalizeSignIn(u,d.credential);default:return an("unexpected MultiFactorSessionType")}}}class j_ extends Of{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new j_(u)}_finalizeEnroll(u,d,p){return function hM(h,u){return oe(h,"POST","/v2/accounts/mfaEnrollment:finalize",B(h,u))}(u,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function __(h,u){return oe(h,"POST","/v2/accounts/mfaSignIn:finalize",B(h,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rC=(()=>{class h{constructor(){}static assertion(d){return j_._fromCredential(d)}}return h.FACTOR_ID="phone",h})();var Va="@firebase/auth";class uu{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,b.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(p=>{u(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ls(){return window}(0,U.Pz)("authIdTokenMaxAge"),function eM(h){dl=h}({loadJS:h=>new Promise((u,d)=>{const p=document.createElement("script");p.setAttribute("src",h),p.onload=u,p.onerror=_=>{const v=Ot("internal-error");v.customData=_,d(v)},p.type="text/javascript",p.charset="UTF-8",function oC(){var h,u;return null!==(u=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==u?u:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Hl(h){(0,we._registerComponent)(new pn.wA("auth",(u,{options:d})=>{const p=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),v=u.getProvider("app-check-internal"),{apiKey:T,authDomain:R}=p.options;te(T&&!T.includes(":"),"invalid-api-key",{appName:p.name});const z={apiKey:T,authDomain:R,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nt(h)},de=new XP(p,_,v,z);return function Fm(h,u){const d=u?.persistence||[],p=(Array.isArray(d)?d:[d]).map(ze);u?.errorMap&&h._updateErrorMap(u.errorMap),h._initializeWithPersistence(p,u?.popupRedirectResolver)}(de,d),de},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,p)=>{u.getProvider("auth-internal").initialize()})),(0,we._registerComponent)(new pn.wA("auth-internal",u=>{const d=Tt(u.getProvider("auth").getImmediate());return new uu(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)(Va,"1.7.1",function xf(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(h)),(0,we.registerVersion)(Va,"1.7.1","esm2017")}("Browser");function Ua(){return Ua=(0,b.Z)(function*(h,u,d){var p;const{BuildInfo:_}=ls();Qt(u.sessionId,"AuthEvent did not contain a session ID");const v=yield function aC(h){return Ba.apply(this,arguments)}(u.sessionId),T={};return k()?T.ibi=_.packageName:Ps()?T.apn=_.packageName:It(h,"operation-not-supported-in-this-environment"),_.displayName&&(T.appDisplayName=_.displayName),T.sessionId=v,$l(h,d,u.type,void 0,null!==(p=u.eventId)&&void 0!==p?p:void 0,T)}),Ua.apply(this,arguments)}function Lf(){return(Lf=(0,b.Z)(function*(h){const{BuildInfo:u}=ls(),d={};k()?d.iosBundleId=u.packageName:Ps()?d.androidPackageName=u.packageName:It(h,"operation-not-supported-in-this-environment"),yield Fl(h,d)})).apply(this,arguments)}function zl(){return(zl=(0,b.Z)(function*(h,u,d){const{cordova:p}=ls();let _=()=>{};try{yield new Promise((v,T)=>{let R=null;function z(){var Ee;v();const Kt=null===(Ee=p.plugins.browsertab)||void 0===Ee?void 0:Ee.close;"function"==typeof Kt&&Kt(),"function"==typeof d?.close&&d.close()}function de(){R||(R=window.setTimeout(()=>{T(Ot(h,"redirect-cancelled-by-user"))},2e3))}function ve(){"visible"===document?.visibilityState&&de()}u.addPassiveListener(z),document.addEventListener("resume",de,!1),Ps()&&document.addEventListener("visibilitychange",ve,!1),_=()=>{u.removePassiveListener(z),document.removeEventListener("resume",de,!1),document.removeEventListener("visibilitychange",ve,!1),R&&window.clearTimeout(R)}})}finally{_()}})).apply(this,arguments)}function Ba(){return(Ba=(0,b.Z)(function*(h){const u=function Go(h){if(Qt(/[0-9a-zA-Z]+/.test(h),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(h);const u=new ArrayBuffer(h.length),d=new Uint8Array(u);for(let p=0;p<h.length;p++)d[p]=h.charCodeAt(p);return d}(h),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Z_ extends O_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,b.Z)(function*(){yield u.initPromise})()}}function Y_(h){return or.apply(this,arguments)}function or(){return(or=(0,b.Z)(function*(h){const u=yield du()._get(Vf(h));return u&&(yield du()._remove(Vf(h))),u})).apply(this,arguments)}function ar(){const h=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return h.join("")}function du(){return ze(Pn)}function Vf(h){return ye("authEvent",h.config.apiKey,h.name)}function Vs(h){if(!h?.includes("?"))return{};const[u,...d]=h.split("?");return(0,U.zd)(d.join("?"))}const X_=class $a{constructor(){this._redirectPersistence=Fn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wn,this._overrideRedirectResult=vf}_initialize(u){var d=this;return(0,b.Z)(function*(){const p=u._key();let _=d.eventManagers.get(p);return _||(_=new Z_(u),d.eventManagers.set(p,_),d.attachCallbackListeners(u,_)),_})()}_openPopup(u){It(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,p,_){var v=this;return(0,b.Z)(function*(){!function K_(h){var u,d,p,_,v,T,R,z,de,ve;const Ee=ls();te("function"==typeof(null===(u=Ee?.universalLinks)||void 0===u?void 0:u.subscribe),h,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(typeof(null===(d=Ee?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(v=null===(_=null===(p=Ee?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===v?void 0:v.openUrl),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(z=null===(R=null===(T=Ee?.cordova)||void 0===T?void 0:T.plugins)||void 0===R?void 0:R.browsertab)||void 0===z?void 0:z.isAvailable),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(ve=null===(de=Ee?.cordova)||void 0===de?void 0:de.InAppBrowser)||void 0===ve?void 0:ve.open),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const T=yield v._initialize(u);yield T.initialized(),T.resetRedirect(),function Wb(){su.clear()}(),yield v._originValidation(u);const R=function Q_(h,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:ar(),postBody:null,tenantId:h.tenantId,error:Ot(h,"no-auth-event")}}(u,p,_);yield function lu(h,u){return du()._set(Vf(h),u)}(u,R);const z=yield function q_(h,u,d){return Ua.apply(this,arguments)}(u,R,d),de=yield function G_(h){const{cordova:u}=ls();return new Promise(d=>{u.plugins.browsertab.isAvailable(p=>{let _=null;p?u.plugins.browsertab.openUrl(h):_=u.InAppBrowser.open(h,function w(h=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}()?"_blank":"_system","location=yes"),d(_)})})}(z);return function W_(h,u,d){return zl.apply(this,arguments)}(u,T,de)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ff(h){return Lf.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:v}=ls(),T=setTimeout((0,b.Z)(function*(){yield Y_(u),d.onEvent(Gl())}),500),R=function(){var ve=(0,b.Z)(function*(Ee){clearTimeout(T);const Kt=yield Y_(u);let Oi=null;Kt&&Ee?.url&&(Oi=function uC(h,u){var d,p;const _=function ql(h){const u=Vs(h),d=u.link?decodeURIComponent(u.link):void 0,p=Vs(d).link,_=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Vs(_).link||_||p||d||h}(u);if(_.includes("/__/auth/callback")){const v=Vs(_),T=v.firebaseError?function J_(h){try{return JSON.parse(h)}catch{return null}}(decodeURIComponent(v.firebaseError)):null,R=null===(p=null===(d=T?.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],z=R?Ot(R):null;return z?{type:h.type,eventId:h.eventId,tenantId:h.tenantId,error:z,urlResponse:null,sessionId:null,postBody:null}:{type:h.type,eventId:h.eventId,tenantId:h.tenantId,sessionId:h.sessionId,urlResponse:_,postBody:null}}return null}(Kt,Ee.url)),d.onEvent(Oi||Gl())});return function(Kt){return ve.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,R);const z=_,de=`${v.packageName.toLowerCase()}://`;ls().handleOpenURL=function(){var ve=(0,b.Z)(function*(Ee){if(Ee.toLowerCase().startsWith(de)&&R({url:Ee}),"function"==typeof z)try{z(Ee)}catch(Kt){console.error(Kt)}});return function(Ee){return ve.apply(this,arguments)}}()}};function Gl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ot("no-auth-event")}}function Wl(){var h;return(null===(h=self?.location)||void 0===h?void 0:h.protocol)||null}function dC(h=(0,U.z$)()){return!("file:"!==Wl()&&"ionic:"!==Wl()&&"capacitor:"!==Wl()||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function ey(){try{const h=self.localStorage,u=xa();if(h)return h.setItem(u,"1"),h.removeItem(u),!function hC(h=(0,U.z$)()){return function DM(){return(0,U.w1)()&&11===document?.documentMode}()||function za(h=(0,U.z$)()){return/Edge\/\d+/.test(h)}(h)}()||(0,U.hl)()}catch{return Dn()&&(0,U.hl)()}return!1}function Dn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Uf(){return(function IM(){return"http:"===Wl()||"https:"===Wl()}()||(0,U.ru)()||dC())&&!function TM(){return(0,U.b$)()||(0,U.UG)()}()&&ey()&&!Dn()}function qa(){return dC()&&typeof document<"u"}function Kr(){return(Kr=(0,b.Z)(function*(){return!!qa()&&new Promise(h=>{const u=setTimeout(()=>{h(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),h(!0)})})})).apply(this,arguments)}const Zr={LOCAL:"local",NONE:"none",SESSION:"session"},io=te,Wa="persistence";function ty(h){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,b.Z)(function*(h){yield h._initializationPromise;const u=Qr(),d=ye(Wa,h.config.apiKey,h.name);u&&u.setItem(d,h._getPersistence())})).apply(this,arguments)}function Qr(){var h;try{return(null===(h=function Ga(){return typeof window<"u"?window:null}())||void 0===h?void 0:h.sessionStorage)||null}catch{return null}}const jf=te;class hi{constructor(){this.browserResolver=ze(nC),this.cordovaResolver=ze(X_),this.underlyingResolver=null,this._redirectPersistence=Fn,this._completeRedirectFn=Wn,this._overrideRedirectResult=vf}_initialize(u){var d=this;return(0,b.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,p,_){var v=this;return(0,b.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openPopup(u,d,p,_)})()}_openRedirect(u,d,p,_){var v=this;return(0,b.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openRedirect(u,d,p,_)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return qa()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,b.Z)(function*(){if(u.underlyingResolver)return;const d=yield function fC(){return Kr.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function gC(h){return h.unwrap()}function mC(h){return ry(h)}function ry(h){const{_tokenResponse:u}=h instanceof U.ZR?h.customData:h;if(!u)return null;if(!(h instanceof U.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return us.credentialFromResult(h);const d=u.providerId;if(!d||d===ut.PASSWORD)return null;let p;switch(d){case ut.GOOGLE:p=ml;break;case ut.FACEBOOK:p=gl;break;case ut.GITHUB:p=qh;break;case ut.TWITTER:p=_l;break;default:const{oauthIdToken:_,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:R,nonce:z}=u;return v||T||_||R?R?d.startsWith("saml.")?ss._create(d,R):Mr._fromParams({providerId:d,signInMethod:d,pendingToken:R,idToken:_,accessToken:v}):new Rs(d).credential({idToken:_,accessToken:v,rawNonce:z}):null}return h instanceof U.ZR?p.credentialFromError(h):p.credentialFromResult(h)}function Yr(h,u){return u.catch(d=>{throw d instanceof U.ZR&&function _C(h,u){var d;const p=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new zf(h,function lM(h,u){var d;const p=(0,U.m9)(h),_=u;return te(u.customData.operationType,p,"argument-error"),te(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),s_._fromError(p,_)}(h,u));else if(p){const _=ry(u),v=u;_&&(v.credential=_,v.tenantId=p.tenantId||void 0,v.email=p.email||void 0,v.phoneNumber=p.phoneNumber||void 0)}}(h,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:mC(d),additionalUserInfo:rf(d),user:Ri.getOrCreate(_)}})}function $f(h,u){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,b.Z)(function*(h,u){const d=yield u;return{verificationId:d.verificationId,confirm:p=>Yr(h,d.confirm(p))}})).apply(this,arguments)}class zf{constructor(u,d){this.resolver=d,this.auth=function ny(h){return h.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Yr(gC(this.auth),this.resolver.resolveSignIn(u))}}class Ri{constructor(u){this._delegate=u,this.multiFactor=function gM(h){const u=(0,U.m9)(h);return Sl.has(u)||Sl.set(u,Al._fromUser(u)),Sl.get(u)}(u)}static getOrCreate(u){return Ri.USER_MAP.has(u)||Ri.USER_MAP.set(u,new Ri(u)),Ri.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,b.Z)(function*(){return Yr(d.auth,e_(d._delegate,u))})()}linkWithPhoneNumber(u,d){var p=this;return(0,b.Z)(function*(){return $f(p.auth,function I_(h,u,d){return Rl.apply(this,arguments)}(p._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,b.Z)(function*(){return Yr(d.auth,function S_(h,u,d){return P_.apply(this,arguments)}(d._delegate,u,hi))})()}linkWithRedirect(u){var d=this;return(0,b.Z)(function*(){return yield ty(Tt(d.auth)),Ef(d._delegate,u,hi)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,b.Z)(function*(){return Yr(d.auth,t_(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return $f(this.auth,function Wt(h,u,d){return iu.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return Yr(this.auth,function qb(h,u,d){return Le.apply(this,arguments)}(this._delegate,u,hi))}reauthenticateWithRedirect(u){var d=this;return(0,b.Z)(function*(){return yield ty(Tt(d.auth)),R_(d._delegate,u,hi)})()}sendEmailVerification(u){return function os(h,u){return Bo.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,b.Z)(function*(){return yield function ji(h,u){return Zh.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function oM(h,u){const d=(0,U.m9)(h);return(0,we._isFirebaseServerApp)(d.auth.app)?Promise.reject(Ne(d.auth)):nf(d,u,null)}(this._delegate,u)}updatePassword(u){return function tf(h,u){return nf((0,U.m9)(h),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function $b(h,u){return Ol.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Qc(h,u){return rt.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function r_(h,u,d){return as.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ri.USER_MAP=new WeakMap;const hu=te;let Ka=(()=>{class h{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;hu(_,"invalid-api-key",{appName:d.name}),hu(_,"invalid-api-key",{appName:d.name});const v=typeof window<"u"?hi:void 0;this._delegate=p.initialize({options:{persistence:Kl(_,d.name),popupRedirectResolver:v}}),this._delegate._updateErrorMap(Xn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ri.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function Lm(h,u,d){const p=Tt(h);te(p._canInitEmulator,p,"emulator-config-failed"),te(/^https?:\/\//.test(u),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,v=Bc(u),{host:T,port:R}=function hl(h){const u=Bc(h),d=/(\/\/)?([^?#/]+)/.exec(h.substr(u.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const v=_[1];return{host:v,port:fl(p.substr(v.length+1))}}{const[v,T]=p.split(":");return{host:v,port:fl(T)}}}(u);p.config.emulator={url:`${v}//${T}${null===R?"":`:${R}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:T,port:R,protocol:v.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Vm(){function h(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}(this._delegate,d,p)}applyActionCode(d){return function mn(h,u){return me.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return We(this._delegate,d)}confirmPasswordReset(d,p){return function Pb(h,u,d){return ef.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,b.Z)(function*(){return Yr(_._delegate,function vr(h,u,d){return Qs.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Zc(h,u){return Xs.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function qe(h,u){const d=di.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,b.Z)(function*(){hu(Uf(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function vM(h,u){return kl.apply(this,arguments)}(d._delegate,hi);return p?Yr(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Ha(h,u){Tt(h)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:v,error:T,complete:R}=iy(d,p,_);return this._delegate.onAuthStateChanged(v,T,R)}onIdTokenChanged(d,p,_){const{next:v,error:T,complete:R}=iy(d,p,_);return this._delegate.onIdTokenChanged(v,T,R)}sendSignInLinkToEmail(d,p){return function Ys(h,u,d){return Js.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function n_(h,u,d){return Sa.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,b.Z)(function*(){let _;switch(function pC(h,u){io(Object.values(Zr).includes(u),h,"invalid-persistence-type"),(0,U.b$)()?io(u!==Zr.SESSION,h,"unsupported-persistence-type"):(0,U.UG)()?io(u===Zr.NONE,h,"unsupported-persistence-type"):Dn()?io(u===Zr.NONE||u===Zr.LOCAL&&(0,U.hl)(),h,"unsupported-persistence-type"):io(u===Zr.NONE||ey(),h,"unsupported-persistence-type")}(p._delegate,d),d){case Zr.SESSION:_=Fn;break;case Zr.LOCAL:_=(yield ze(Na)._isAvailable())?Na:Pn;break;case Zr.NONE:_=qn;break;default:return It("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Yr(this._delegate,function Zm(h){return Kh.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Yr(this._delegate,bl(this._delegate,d))}signInWithCustomToken(d){return Yr(this._delegate,function Ue(h,u){return yr.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return Yr(this._delegate,function Tn(h,u,d){return(0,we._isFirebaseServerApp)(h.app)?Promise.reject(Ne(h)):bl((0,U.m9)(h),zr.credential(u,d)).catch(function(){var p=(0,b.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Rr(h),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return Yr(this._delegate,function Kc(h,u,d){return Tl.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return $f(this._delegate,function jb(h,u,d){return Pi.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,b.Z)(function*(){return hu(Uf(),p._delegate,"operation-not-supported-in-this-environment"),Yr(p._delegate,function A_(h,u,d){return Nl.apply(this,arguments)}(p._delegate,d,hi))})()}signInWithRedirect(d){var p=this;return(0,b.Z)(function*(){return hu(Uf(),p._delegate,"operation-not-supported-in-this-environment"),yield ty(p._delegate),ir(p._delegate,d,hi)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function $i(h,u){return Uo.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return h.Persistence=Zr,h})();function iy(h,u,d){let p=h;"function"!=typeof h&&({next:p,error:u,complete:d}=h);const _=p;return{next:T=>_(T&&Ri.getOrCreate(T)),error:u,complete:d}}function Kl(h,u){const d=function AM(h,u){const d=Qr();if(!d)return[];const p=ye(Wa,h,u);switch(d.getItem(p)){case Zr.NONE:return[qn];case Zr.LOCAL:return[Na,Fn];case Zr.SESSION:return[Fn];default:return[]}}(h,u);if(typeof self<"u"&&!d.includes(Na)&&d.push(Na),typeof window<"u")for(const p of[Pn,Fn])d.includes(p)||d.push(p);return d.includes(qn)||d.push(qn),d}class qf{constructor(){this.providerId="phone",this._delegate=new us(gC(Ve.Z.auth()))}static credential(u,d){return us.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}qf.PHONE_SIGN_IN_METHOD=us.PHONE_SIGN_IN_METHOD,qf.PROVIDER_ID=us.PROVIDER_ID;const sy=te;class Gf{constructor(u,d,p=Ve.Z.app()){var _;sy(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new C_(p.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oy(h){h.INTERNAL.registerComponent(new pn.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),p=u.getProvider("auth");return new Ka(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zr,FacebookAuthProvider:gl,GithubAuthProvider:qh,GoogleAuthProvider:ml,OAuthProvider:Rs,SAMLAuthProvider:Gc,PhoneAuthProvider:qf,PhoneMultiFactorGenerator:rC,RecaptchaVerifier:Gf,TwitterAuthProvider:_l,Auth:Ka,AuthCredential:Ta,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),h.registerVersion("@firebase/auth-compat","0.5.6")}(Ve.Z)},861:(Is,Yn,Ze)=>{function b(we,U,_t,on,pn,Jn,ut){try{var J=we[Jn](ut),se=J.value}catch(Ie){return void _t(Ie)}J.done?U(se):Promise.resolve(se).then(on,pn)}function Ve(we){return function(){var U=this,_t=arguments;return new Promise(function(on,pn){var Jn=we.apply(U,_t);function ut(se){b(Jn,on,pn,ut,J,"next",se)}function J(se){b(Jn,on,pn,ut,J,"throw",se)}ut(void 0)})}}Ze.d(Yn,{Z:()=>Ve})},582:(Is,Yn,Ze)=>{function U(F,V){var j={};for(var K in F)Object.prototype.hasOwnProperty.call(F,K)&&V.indexOf(K)<0&&(j[K]=F[K]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(K=Object.getOwnPropertySymbols(F);ce<K.length;ce++)V.indexOf(K[ce])<0&&Object.prototype.propertyIsEnumerable.call(F,K[ce])&&(j[K[ce]]=F[K[ce]])}return j}function Ie(F,V,j,K){return new(j||(j=Promise))(function(B,oe){function dt(Xe){try{Oe(K.next(Xe))}catch(Xt){oe(Xt)}}function Ce(Xe){try{Oe(K.throw(Xe))}catch(Xt){oe(Xt)}}function Oe(Xe){Xe.done?B(Xe.value):function ce(B){return B instanceof j?B:new j(function(oe){oe(B)})}(Xe.value).then(dt,Ce)}Oe((K=K.apply(F,V||[])).next())})}function Jt(F){return this instanceof Jt?(this.v=F,this):new Jt(F)}function It(F,V,j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,K=j.apply(F,V||[]),B=[];return ce={},oe("next"),oe("throw"),oe("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function oe($t){K[$t]&&(ce[$t]=function(pr){return new Promise(function(jr,$n){B.push([$t,pr,jr,$n])>1||dt($t,pr)})})}function dt($t,pr){try{!function Ce($t){$t.value instanceof Jt?Promise.resolve($t.value.v).then(Oe,Xe):Xt(B[0][2],$t)}(K[$t](pr))}catch(jr){Xt(B[0][3],jr)}}function Oe($t){dt("next",$t)}function Xe($t){dt("throw",$t)}function Xt($t,pr){$t(pr),B.shift(),B.length&&dt(B[0][0],B[0][1])}}function Sr(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j,V=F[Symbol.asyncIterator];return V?V.call(F):(F=function Ct(F){var V="function"==typeof Symbol&&Symbol.iterator,j=V&&F[V],K=0;if(j)return j.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&K>=F.length&&(F=void 0),{value:F&&F[K++],done:!F}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),j={},K("next"),K("throw"),K("return"),j[Symbol.asyncIterator]=function(){return this},j);function K(B){j[B]=F[B]&&function(oe){return new Promise(function(dt,Ce){!function ce(B,oe,dt,Ce){Promise.resolve(Ce).then(function(Oe){B({value:Oe,done:dt})},oe)}(dt,Ce,(oe=F[B](oe)).done,oe.value)})}}}Ze.d(Yn,{FC:()=>It,KL:()=>Sr,_T:()=>U,mG:()=>Ie,qq:()=>Jt}),"function"==typeof SuppressedError&&SuppressedError}},Is=>{Is(Is.s=224)}]);